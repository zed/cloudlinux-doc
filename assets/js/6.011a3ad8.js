(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{207:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("When a hoster has set reseller limits for the particular reseller he provides the reseller with an ability to set limits for his end users within the Reseller Interface.")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("The types of users are as follows:")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("See the comparison Table with types of limits.")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("Use the detailed instruction below:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Install CloudLinux 7 or "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux 6 Hybrid")]),t._v(" on a new server. Follow the instructions described "),s("router-link",{attrs:{to:"/cloudlinux_installation/#installing-new-servers"}},[t._v("here")]),t._v(". Or you can convert your CentOS 6.x or CentOS 7.x system to CloudLinux 6 or CloudLinux 7 respectively. To do this, follow the instructions described on the "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("link")]),t._v(".")],1)]),t._v(" "),s("li",[s("p",[t._v("If you have installed the CloudLinux 6, please convert it to the "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux 6 Hybrid Kernel")]),t._v(". Follow the instructions described "),s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#hybrid-kernels"}},[t._v("here")]),t._v(".")],1)]),t._v(" "),t._m(16)]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),s("p",[t._v("To disable Reseller limits, please do the following:")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/lve_manager/#reseller-limits"}},[t._v("Reseller limits UI")]),t._v(".")],1),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),s("p",[t._v("To install, please execute:")]),t._v(" "),t._m(38),t._v(" "),s("p",[t._v("To update:")]),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You can also use "),s("router-link",{attrs:{to:"/command-line_tools/#lve-stats-2"}},[t._v("LVE-stats 2 CLI")])],1)]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),s("p",[t._v("and contact CloudLinux support at "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloudlinux.zendesk.com/hc/requests/new"),s("OutboundLink")],1)]),t._v(" "),t._m(46),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You can also use "),s("router-link",{attrs:{to:"/command-line_tools/#lve-stats-2"}},[t._v("LVE-stats 2 CLI")])],1)]),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),s("p",[t._v("These values can also be set using "),s("router-link",{attrs:{to:"/command-line_tools/#cloudlinux-config"}},[t._v("cloudlinux-config CLI")]),t._v(" utility")],1),t._v(" "),s("p",[t._v("Templates of notifications are located here:")]),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You can also use "),s("router-link",{attrs:{to:"/command-line_tools/#lve-stats-2"}},[t._v("LVE-stats 2 CLI")])],1)]),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),s("p",[t._v("If MySQL Server is not installed, then install it according to control panel documentation.")]),t._v(" "),s("p",[t._v("For non-panel system:")]),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),s("p",[t._v("For DB primary initialization (creating tables, indexes, etc). There is no need to create anything in the DB manually.")]),t._v(" "),t._m(75),t._v(" "),t._m(76),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._v(" "),t._m(85),t._v(" "),s("p",[t._v("If you need to provide access to information utilities to other users, then in order to guarantee information security you should do the following:")]),t._v(" "),t._m(86),t._v(" "),s("p",[t._v("These steps allow hiding main DB user username/password from other system users.")]),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),s("p",[t._v("Since scheme "),t._m(89),t._v(" "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Uniform_Resource_Identifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("URI"),s("OutboundLink")],1),t._v(" is used in "),t._m(90),t._v(" config option, then usage of special characters in user DB password is not allowed.")]),t._v(" "),s("p",[t._v("To use special symbols in the password, it must be converted to "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[t._v("escape-sequence"),s("OutboundLink")],1),t._v(". You can convert a password to escape-sequence in a console as follows:")]),t._v(" "),t._m(91),t._v(" "),s("p",[t._v("Or replace the symbols manually:")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),t._m(95),t._v(" "),t._m(96),t._v(" "),t._m(97),t._v(" "),s("ul",[s("li",[t._m(98),t._v(" "),s("p",[t._v("For control panels use proper documentation for installation on the links: "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/CKB/Install+or+Update+PostgreSQL+on+Your+cPanel+Server",target:"_blank",rel:"noopener noreferrer"}},[t._v("сPanel"),s("OutboundLink")],1),t._v(", "),s("a",{attrs:{href:"https://kb.plesk.com/en/123729",target:"_blank",rel:"noopener noreferrer"}},[t._v("Plesk"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("For non-panel CloudLinux run the following commands:")]),t._v(" "),t._m(99),t._v(" "),t._m(100),t._v(" "),t._m(101),t._v(" "),t._m(102)]),t._v(" "),t._m(103)]),t._v(" "),t._m(104),t._v(" "),t._m(105),t._v(" "),t._m(106),t._v(" "),s("p",[t._v("OR for сPanel")]),t._v(" "),t._m(107),t._v(" "),t._m(108),t._v(" "),t._m(109),t._v(" "),t._m(110),t._v(" "),t._m(111),t._v(" "),t._m(112),t._v(" "),t._m(113),t._v(" "),t._m(114),t._v(" "),t._m(115),t._v(" "),t._m(116),t._v(" "),t._m(117),t._v(" "),t._m(118),t._v(" "),t._m(119),t._v(" "),t._m(120),t._v(" "),t._m(121),t._v(" "),t._m(122),t._v(" "),t._m(123),t._v(" "),t._m(124),t._v(" "),t._m(125),t._v(" "),t._m(126),t._v(" "),s("p",[t._v("Since scheme "),t._m(127),t._v(" "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Uniform_Resource_Identifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("URI"),s("OutboundLink")],1),t._v(" is used in "),t._m(128),t._v(" config option, then usage of special characters in user DB password is not allowed.")]),t._v(" "),s("p",[t._v("To use special symbols in the password, it must be converted to "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[t._v("escape-sequence"),s("OutboundLink")],1),t._v(". You can convert a password to escape-sequence in a console as follows:")]),t._v(" "),t._m(129),t._v(" "),s("p",[t._v("OR replace the symbols manually:")]),t._v(" "),t._m(130),t._v(" "),t._m(131),t._v(" "),t._m(132),t._v(" "),t._m(133),t._v(" "),s("p",[s("span",{staticClass:"notranslate"},[s("a",{attrs:{href:"http://jinja.pocoo.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jinja2"),s("OutboundLink")],1)]),t._v(" is used as a template engine for the notifications.")]),t._v(" "),t._m(134),t._v(" "),t._m(135),t._v(" "),t._m(136),t._v(" "),t._m(137),t._v(" "),s("p",[t._v("The notification is formed as "),t._m(138),t._v(" "),s("a",{attrs:{href:"https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC1341(MIME)"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(139),t._v(" "),t._m(140),t._v(" "),t._m(141),t._v(" "),s("p",[t._v("To localize notifications, copy standard templates into directory with the proper locale name and translate the template. Also you can customize the main template making proper changes into it.")]),t._v(" "),s("p",[t._v("The list of variables that can be used in the template:")]),t._v(" "),t._m(142),t._v(" "),t._m(143),t._v(" "),t._m(144),t._v(" "),s("p",[t._v("For example:")]),t._v(" "),t._m(145),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),s("p",[t._v("for CloudLinux 7")]),t._v(" "),t._m(148),t._v(" "),t._m(149),t._v(" "),t._m(150),t._v(" "),t._m(151),t._v(" "),t._m(152),t._v(" "),t._m(153),t._v(" "),t._m(154),t._v(" "),t._m(155),t._v(" "),s("p",[t._v("LVE-stats2 comes with a set of generic plugins:")]),t._v(" "),t._m(156),t._v(" "),t._m(157),t._v(" "),t._m(158),t._v(" "),t._m(159),t._v(" "),t._m(160),t._v(" "),t._m(161),t._v(" "),t._m(162),t._v(" "),t._m(163),t._v(" "),t._m(164),t._v(" "),t._m(165),t._v(" "),s("p",[t._v("Plugin class must contain "),t._m(166),t._v(" method, which is invoked by the server every 5 seconds (by default, can be changed by interval parameter of configuration file).\nAlso "),s("span",{staticClass:"notranslate"},[t._v(" set_config ")]),t._v(" method (configuration settings) can be available. You can find more info in "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/cloudlinux_os_components/#plugin-configuration"}},[t._v("Plugins Configuration")])],1),t._v(" chapter.")]),t._v(" "),s("p",[t._v("Additionally the following attributes can be set (plugin class instance variable):")]),t._v(" "),t._m(167),t._v(" "),t._m(168),t._v(" "),s("p",[t._v("The previous value of now attribute is not saved by the server. If plugin needs it, it has to save it by itself.")]),t._v(" "),t._m(169),t._v(" "),t._m(170),t._v(" "),t._m(171),t._v(" "),t._m(172),t._m(173),t._v(" "),t._m(174),t._v(" "),t._m(175),t._v(" "),t._m(176),t._v(" "),t._m(177),t._v(" "),t._m(178),t._v(" "),t._m(179),t._v(" "),t._m(180),t._v(" "),t._m(181),t._v(" "),t._m(182),t._v(" "),t._m(183),t._v(" "),t._m(184),t._v(" "),t._m(185),t._v(" "),t._m(186),t._v(" "),t._m(187),t._v(" "),t._m(188),t._v(" "),t._m(189),t._v(" "),s("p",[t._v("According to server architecture, plugins can be of the following types:")]),t._v(" "),t._m(190),t._v(" "),t._m(191),t._v(" "),s("p",[t._v("This division is rather arbitrary. There is an opportunity to execute all the actions on collection, analysis and saving the information in one and only plugin. But at the same time the division into functionally independent parts allows to build flexible and easily configurable system for collecting and processing the data.")]),t._v(" "),s("p",[t._v("Also it is possible to implement the systems of lazy-write, planning of collecting/processing tasks and notifying users about different events.")]),t._v(" "),t._m(192),t._v(" "),s("p",[t._v("Here is a practical example of a user plugin.")]),t._v(" "),s("p",[t._v("Specification:")]),t._v(" "),t._m(193),t._v(" "),s("p",[t._v("As file size check, fixing the result and notification sending must be held with different periods, then it’s impossible to realize all the tasks by means of one plugin.\nThe fact that one minute (60 seconds) is multiple to 5 seconds doesn’t matter in this case, because default period can be changed in server’s configuration file, but the condition of fixing the result once a minute is a part of the specification, which can not be violated. In addition, notification email period is known in advance, as it is specified by user in configuration file.")]),t._v(" "),t._m(194),t._v(" "),t._m(195),t._v(" "),t._m(196),t._v(" "),t._m(197),t._v(" "),t._m(198),t._v(" "),t._m(199),t._v(" "),t._m(200),t._v(" "),t._m(201),t._v(" "),t._m(202),t._v(" "),t._m(203),t._v(" "),t._m(204),t._v(" "),s("p",[t._v("The first file is errors log; the second is appeal log, is refreshed during common work with panel (e.g. if user email address is changed).")]),t._v(" "),s("p",[t._v("Errors log tracking is more important, but appeal log monitoring allows to illustrate plugins work more in details, because it is refreshed more often.")]),t._v(" "),s("p",[t._v("Note that plugin can monitor one file only.")]),t._v(" "),t._m(205),t._v(" "),t._m(206),t._v(" "),t._m(207),t._v(" "),t._m(208),t._v(" "),s("p",[t._v("If file size is not found in data dictionary, then plugin just ends.")]),t._v(" "),s("p",[t._v("All the errors are completely ignored.")]),t._v(" "),t._m(209),t._v(" "),s("p",[t._v("Plugin starts every 60 seconds (1 minute), because we need data fixation to be performed one time in a minute.")]),t._v(" "),t._m(210),t._v(" "),t._m(211),t._v(" "),t._m(212),t._v(" "),t._m(213),t._m(214),t._v(" "),t._m(215),t._v(" "),s("p",[t._v("Starts once in a minute (period=60).")]),t._v(" "),s("p",[t._v("Also this plugin shows the work of signal handler.")]),t._v(" "),t._m(216),t._v(" "),s("p",[t._v("Pay attention on "),t._m(217),t._v(" command in the end of the handler. Find the information on it in "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/cloudlinux_os_components/#server-plugin-arrangement"}},[t._v("Server Plugin Arrangement")])],1),t._v(" section.")]),t._v(" "),t._m(218),t._m(219),t._v(" "),s("p",[t._v("and\n")]),t._m(220),t._v(" "),s("p",[t._v("You can see that log record is being held once a minute (what we actually need), new file size is written.")]),t._v(" "),t._m(221),t._v(" "),t._m(222),t._v(" "),t._m(223),t._m(224),t._v(" "),t._m(225),t._m(226),t._v(" "),t._m(227),t._v(" "),t._m(228),t._v(" "),t._m(229),t._v(" "),s("p",[t._v("If any data is missing,  the message is not sent.")]),t._v(" "),s("p",[t._v("Log example:\n")]),t._m(230),t._v(" "),t._m(231),t._v(" "),s("p",[t._v("This file is used by control panels to display to user their 'current' usage. The file is updated every 5 seconds by lve-stats.")]),t._v(" "),t._m(232),t._v(" "),s("p",[t._v("Example:")]),t._v(" "),s("p",[t._v("0,0,20,0,2500,0,262144,0,0,262144,0,0,100,0,0,0,0,1024,1024,0,0,0,0\n600,1,20,2492,2500,70,262144,0,0,262144,33,0,100,1,0,0,0,1024,1024,0,5,0,0\n200,0,20,0,2500,0,262144,0,0,262144,0,0,100,0,0,0,0,1024,1024,0,0,0,0\n500,0,20,0,2500,0,262144,0,0,262144,0,0,100,0,0,0,0,1024,1024,0,0,0,0")]),t._v(" "),t._m(233),t._v(" "),s("p",[t._v("Fields:\n")]),t._m(234),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You can also use "),s("router-link",{attrs:{to:"/command-line_tools/#lve-stats-2"}},[t._v("LVE-stats 2 CLI")])],1)]),t._v(" "),t._m(235),t._v(" "),t._m(236),t._v(" "),t._m(237),t._v(" "),t._m(238),t._v(" "),t._m(239),t._v(" "),s("p",[t._v("CageFS is a virtualized file system and a set of tools to contain each user in its own 'cage'. Each customer will have its own fully functional CageFS, with all the system files, tools, etc.")]),t._v(" "),s("p",[t._v("The benefits of CageFS are:")]),t._v(" "),t._m(240),t._v(" "),s("p",[t._v("At the same time, user's environment will be fully functional, and user should not feel in any way restricted. No adjustments to user's scripts are needed. CageFS will cage any scripts execution done via:")]),t._v(" "),t._m(241),t._v(" "),t._m(242),t._v(" "),t._m(243),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/limits/#compatibility-matrix"}},[t._v("Compatibility Matrix")]),t._v(".")],1),t._v(" "),t._m(244),t._v(" "),t._m(245),t._v(" "),s("p",[t._v("Depending on your setup, and number of users, you might also need:")]),t._v(" "),t._m(246),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Warning")]),t._v(" "),s("p",[t._v("If at any time you decide to uninstall CageFS, please make sure you follow "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#uninstalling"}},[t._v("uninstall instructions")])],1)]),t._v(" "),t._m(247),t._v(" "),s("p",[t._v("Due to the nature of CageFS, some options will not work as before or will require some changes:")]),t._v(" "),s("ul",[t._m(248),t._v(" "),t._m(249),t._v(" "),t._m(250),t._v(" "),s("li",[t._v("CageFS installation changes "),t._m(251),t._v(" to regular bash on cPanel - "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/articles/115004517685-Why-CageFS-installation-changes-jailshell-to-regular-bash-on-cPanel-",target:"_blank",rel:"noopener noreferrer"}},[t._v("read why"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(252),t._v(" "),s("p",[t._v("To install CageFS:\n")]),t._m(253),t._v(" "),t._m(254),t._m(255),t._v(" "),t._m(256),t._v(" "),s("p",[t._v("CageFS will automatically detect and configure all necessary files for:")]),t._v(" "),t._m(257),t._v(" "),s("p",[t._v("Web interface to manage CageFS is available for cPanel, Plesk 10+, DirectAdmin, ISPmanager & Interworx. Command line tool would need to be used for other control panels.")]),t._v(" "),s("p",[t._v("Once you initialized the template you can start enabling users. By default CageFS is disabled for all users.")]),t._v(" "),t._m(258),t._v(" "),t._m(259),t._v(" "),s("p",[t._v("You can find more information on "),t._m(260),t._v(" automatic migration in "),s("router-link",{attrs:{to:"/cloudlinux_os_kernel/#kernel-config-variables"}},[t._v("Kernel Config Variables")]),t._v(".")],1),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You can also use "),s("router-link",{attrs:{to:"/command-line_tools/#cagefs"}},[t._v("CageFS CLI")])],1)]),t._v(" "),t._m(261),t._v(" "),s("p",[t._v("To uninstall CageFS, start by disabling and removing all directories:")]),t._v(" "),t._m(262),t._v(" "),t._m(263),t._v(" "),s("p",[t._v("Remove CageFS RPM:")]),t._v(" "),t._m(264),t._v(" "),t._m(265),t._v(" "),s("p",[t._v("CageFS provides for two modes of operations:")]),t._v(" "),t._m(266),t._v(" "),s("p",[t._v("Mode #1 is convenient for production operation, where you want all new users to automatically be added to CageFS.\nMode #2 is convenient while you test CageFS, as it allows you to enable it on one by one for your customers.")]),t._v(" "),s("p",[t._v("To start using CageFS you have to select one of the mode of operations:\n")]),t._m(267),t._v("\nor\n"),t._m(268),t._v("\nor\n"),t._m(269),t._v("\nThat will switch the operation mode, preserving current disabled/enabled users.\n"),s("p",[t._v("To enable individual user do:\n")]),t._m(270),t._v("\nTo disable individual user:\n"),t._m(271),t._v("\nTo  list all enabled users:\n"),t._m(272),t._v("\nTo list all disabled users:\n"),t._m(273),t._v("\nTo see current mode of operation:\n"),t._m(274),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You can also use "),s("router-link",{attrs:{to:"/command-line_tools/#cagefs"}},[t._v("CageFS CLI")])],1)]),t._v(" "),t._m(275),t._v(" "),s("ul",[s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#file-system-templates"}},[t._v("File system templates")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#excluding-files"}},[t._v("Excluding files")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#excluding-users"}},[t._v("Excluding users")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#mount-points"}},[t._v("Mount points")])],1),t._v(" "),s("ul",[s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#per-user-virtual-mount-points"}},[t._v("Per user virtual mount points")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#split-by-username"}},[t._v("Split by username")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#mounting-users-home-directory-inside-cagefs"}},[t._v("Mounting user’s home directory inside CageFS")])],1)])])]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#base-home-directory"}},[t._v("Base home directory")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#postgresql-support"}},[t._v("PostgreSQL support")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#pam-configuration"}},[t._v("PAM configuration")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#filtering-options-for-commands-executed-by-proxyexec"}},[t._v("Filtering options for commands executed by proxyexec")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#executing-by-proxy"}},[t._v("Executing by proxy")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#custom-etc-files-per-customer"}},[t._v("Custom /etc files per customer")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#moving-cagefs-skeleton-directory"}},[t._v("Moving "),s("span",{staticClass:"notranslate"},[t._v(" cagefs-skeleton ")]),t._v(" directory")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#moving-var-cagefs-directory"}},[t._v("Moving /var/cagefs directory")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#tmp-directories"}},[t._v("TMP directories")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#syslog"}},[t._v("Syslog")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#excluding-mount-points"}},[t._v("Excluding mount points")])],1)]),t._v(" "),s("li",[s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#shared-memory-dev-shm-isolation-in-cagefs"}},[t._v("Shared memory (/dev/shm) isolation in CageFS")])],1)])]),t._v(" "),t._m(276),t._v(" "),t._m(277),t._m(278),t._v(" "),s("p",[t._v("To update the template, you should run:\n")]),t._m(279),t._v(" "),t._m(280),t._m(281),t._v(" "),s("p",[t._v("To delete files from CageFS template, remove corresponding .cfg file, and run:\n")]),t._m(282),t._v(" "),t._m(283),t._m(284),t._v(" "),t._m(285),t._m(286),t._v(" "),t._m(287),t._m(288),t._v(" "),t._m(289),t._v(" "),t._m(290),t._v(" "),t._m(291),t._v(" "),s("p",[t._v("Execute the following command to apply changes:\n")]),t._m(292),t._v(" "),t._m(293),t._v(" "),t._m(294),t._v(" "),t._m(295),t._v(" "),s("p",[t._v("Then execute the following command to apply changes:\n")]),t._m(296),t._v(" "),t._m(297),t._v(" "),t._m(298),t._v(" "),s("p",[t._v("CageFS creates individual namespace for each user, making it impossible for users to see each other's files and creating high level of isolation. The way namespace is organized:")]),t._v(" "),s("ol",[t._m(299),t._v(" "),t._m(300),t._v(" "),t._m(301),t._v(" "),t._m(302),t._v(" "),t._m(303),t._v(" "),s("li",[t._v("Additional custom directories can be mounted for each user by defining them in /etc/cagefs/cagefs.mp")]),t._v(" "),s("li",[t._v("You can define custom directories per user using "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#per-user-virtual-mount-points"}},[t._v("virt.mp")]),t._v(" files "),s("em",[t._v("[CageFS 5.1 and higher]")])],1)]),t._v(" "),s("p",[t._v("To define individual custom directories in /etc/cagefs/cagefs.mp following format is used:")]),t._v(" "),t._m(304),t._v(" "),s("p",[t._v("This is useful when you need to give each user its own copy of a particular system directory, like:")]),t._v(" "),t._m(305),t._v(" "),t._m(306),t._v(" "),s("p",[t._v("To modify mount points, edit /etc/cagefs/cagefs.mp. Here is an example of cagefs.mp:\n")]),t._m(307),t._v(" "),s("p",[t._v("If you want to change mount points, make sure you re-initialize mount points for all customers:\n")]),t._m(308),t._v("\nThis command will kill all current processes and reset mount points.\n"),t._m(309),t._v(" "),t._m(310),t._v(" "),s("ul",[s("li",[s("em",[t._v("Please, see "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#split-by-username"}},[t._v("Split by username")]),t._v(" feature, as it might be simpler to implement in some cases.")],1)])]),t._v(" "),s("p",[t._v("Starting with CageFS 5.1 you can specify additional directories to be mounted inside user's CageFS. This can be specified for each user.\nTo specify virtual mount points for a user, create a file:")]),t._v(" "),t._m(311),t._v(" "),s("p",[t._v("Inside that file, you can specify mount points in the following format:\n")]),t._m(312),t._v(" "),t._m(313),t._v(" "),s("p",[t._v("Note that CageFS will automatically create those files for Plesk 10 & higher.")]),t._v(" "),t._m(314),t._m(315),t._v(" "),t._m(316),t._m(317),t._v(" "),t._m(318),t._m(319),t._v(" "),t._m(320),t._v(" "),t._m(321),t._v(" "),s("p",[t._v("Sometimes you might need to make sure that directory containing all users would show up as containing just that user inside CageFS. For example, if you have directory structure like:\n")]),t._m(322),t._v(" "),s("p",[t._v("Then we can add the following line to /etc/cagefs/cagefs.mp file:\n")]),t._m(323),t._v(" "),s("p",[t._v("and execute:\n")]),t._m(324),t._v(" "),t._m(325),t._v(" "),t._m(326),t._v(" "),t._m(327),t._v(" "),t._m(328),t._v(" "),t._m(329),t._v(" "),s("p",[t._v("This new mounting mode is enabled by default. You can switch to old mounting mode by executing the following commands:\n")]),t._m(330),t._v(" "),t._m(331),t._v(" "),t._m(332),t._v(" "),t._m(333),t._v(" "),t._m(334),t._v(" "),t._m(335),t._v(" "),s("p",[t._v("With content like:\n")]),t._m(336),t._v(" "),t._m(337),t._v(" "),t._m(338),t._v(" "),t._m(339),t._v(" "),t._m(340),t._m(341),t._v(" "),s("p",[t._v("For example:")]),t._v(" "),t._m(342),t._v(" "),t._m(343),t._v(" "),t._m(344),t._v(" "),t._m(345),t._v(" "),t._m(346),t._v(" "),t._m(347),t._v(" "),s("p",[t._v("CloudLinux 7:")]),t._v(" "),t._m(348),t._v(" "),s("p",[t._v("When PostgreSQL has been installed after CageFS install, please add line:\n")]),t._m(349),t._v(" "),t._m(350),t._m(351),t._v(" "),s("p",[t._v("The steps above are enough to configure CageFS to work with PostgreSQL.")]),t._v(" "),s("p",[t._v("CloudLinux 6:")]),t._v(" "),t._m(352),t._v(" "),t._m(353),t._v(" "),t._m(354),t._v(" "),s("p",[t._v("To enable PostgreSQL support in CageFS:")]),t._v(" "),t._m(355),t._v(" "),t._m(356),t._v(" "),t._m(357),t._v(" "),t._m(358),t._v(" "),t._m(359),t._v(" "),s("p",[t._v("And update line:\n")]),t._m(360),t._v(" "),s("p",[t._v("to:\n")]),t._m(361),t._v(" "),s("p",[t._v("to prevent symlink from being removed.")]),t._v(" "),t._m(362),t._v(" "),t._m(363),t._v(" "),t._m(364),t._v(" "),t._m(365),t._m(366),t._v(" "),t._m(367),t._v(" "),t._m(368),t._v(" "),t._m(369),t._v(" "),t._m(370),t._v(" "),t._m(371),t._v(" "),t._m(372),t._v(" "),t._m(373),t._v(" "),s("p",[t._v("If the path to the program being executed does not match any path specified in the config file, then default parameters are used.")]),t._v(" "),t._m(374),t._v(" "),t._m(375),t._v(" "),t._m(376),t._v(" "),t._m(377),t._v(" "),t._m(378),t._v(" "),s("p",[t._v("Once program is defined, run this command to populate the skeleton:\n")]),t._m(379),t._v(" "),t._m(380),t._v(" "),t._m(381),t._v(" "),t._m(382),t._v(" "),t._m(383),t._v(" "),t._m(384),t._m(385),t._v(" "),t._m(386),t._m(387),t._v(" "),t._m(388),t._v(" "),t._m(389),t._v(" "),s("p",[t._v("To turn this feature off:\n")]),t._m(390),t._v(" "),s("p",[t._v("Or to activate it back:\n")]),t._m(391),t._v(" "),t._m(392),t._v(" "),t._m(393),t._v(" "),t._m(394),t._v(" "),s("p",[t._v("Put all custom files, and sub-directories into that direcotry.")]),t._v(" "),t._m(395),t._v(" "),t._m(396),t._v(" "),s("p",[t._v("After that execute:\n")]),t._m(397),t._v(" "),s("p",[t._v("If you are making changes for multiple users, you can run:")]),t._v(" "),t._m(398),t._v(" "),t._m(399),t._m(400),t._v(" "),t._m(401),t._v(" "),t._m(402),t._v(" "),s("p",[t._v("There are two ways:")]),t._v(" "),t._m(403),t._v(" "),t._m(404),t._v(" "),t._m(405),t._v(" "),t._m(406),t._v(" "),t._m(407),t._v(" "),t._m(408),t._v(" "),t._m(409),t._v(" "),t._m(410),t._v(" "),t._m(411),t._v(" "),t._m(412),t._v(" "),t._m(413),t._v(" "),t._m(414),t._v(" "),s("p",[t._v("Verify that the following command gives empty output:\n")]),t._m(415),t._v(" "),s("p",[t._v("Then you can safely remove /var/cagefs.bak:\n")]),t._m(416),t._v(" "),t._m(417),t._v(" "),t._m(418),t._v(" "),t._m(419),t._v(" "),t._m(420),t._v(" "),s("p",[t._v("This can be changed by running:\n")]),t._m(421),t._v(" "),s("p",[t._v("Where 720 is the number of hours that the file had to be inaccessible to be removed.")]),t._v(" "),t._m(422),t._v(" "),t._m(423),t._v(" "),s("p",[t._v("The following paths will be cleaned as well:")]),t._v(" "),t._m(424),t._v(" "),t._m(425),t._v(" "),t._m(426),t._v(" "),t._m(427),t._v(" "),t._m(428),t._v(" "),t._m(429),t._v(" "),t._m(430),t._v(" "),t._m(431),t._v(" "),t._m(432),t._v(" "),t._m(433),t._v(" "),t._m(434),t._v(" "),t._m(435),t._v(" "),t._m(436),t._v(" "),t._m(437),t._v(" "),t._m(438),t._v(" "),t._m(439),t._v(" "),t._m(440),t._v(" "),t._m(441),t._v(" "),t._m(442),t._v(" "),t._m(443),t._v(" "),t._m(444),t._v(" "),t._m(445),t._v(" "),s("p",[t._v("Each time the script runs, it performs the cleanup of the paths:")]),t._v(" "),t._m(446),t._v(" "),s("p",[t._v("The following features are applied during the cleanup:")]),t._v(" "),t._m(447),t._v(" "),t._m(448),t._v(" "),t._m(449),t._v(" "),t._m(450),t._v(" "),t._m(451),t._v(" "),t._m(452),t._m(453),t._v(" "),t._m(454),t._v(" "),t._m(455),t._v(" "),t._m(456),t._v(" "),t._m(457),t._v(" "),t._m(458),t._v(" "),t._m(459),t._m(460),t._v(" "),t._m(461),t._m(462),t._v(" "),t._m(463),t._v(" "),t._m(464),t._v(" "),t._m(465),t._v(" "),t._m(466),t._v(" "),t._m(467),t._v(" "),t._m(468),t._v(" "),t._m(469),t._v(" "),t._m(470),t._v(" "),t._m(471),t._v(" "),t._m(472),t._v(" "),t._m(473),t._v(" "),s("p",[t._v("You can also specify additional mount options.")]),t._v(" "),s("p",[t._v("For example, you can specify the size of shared memory in megabytes:")]),t._v(" "),t._m(474),t._v(" "),s("p",[t._v("Or you can specify the size of user’s physical memory limit (PMEM) in percentage:")]),t._v(" "),t._m(475),t._v(" "),t._m(476),t._v(" "),t._m(477),t._v(" "),t._m(478),t._v(" "),t._m(479),t._v(" "),t._m(480),t._v(" "),t._m(481),t._v(" "),t._m(482),t._v(" "),t._m(483),t._v(" "),t._m(484),t._v(" "),t._m(485),t._v(" "),t._m(486),t._v(" "),t._m(487),t._v(" "),t._m(488),t._v(" "),t._m(489),t._v(" "),s("p",[t._v("CageFS comes with a plugin for various control panels.")]),t._v(" "),s("p",[t._v("The plugin allows to:")]),t._v(" "),s("ul",[t._m(490),t._v(" "),s("li",[s("p",[t._v("Select "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#managing-users"}},[t._v("mode of operation")]),t._v(";")],1)]),t._v(" "),t._m(491),t._v(" "),t._m(492)]),t._v(" "),t._m(493),t._v(" "),t._m(494),t._v(" "),s("p",[t._v("It allows to initialize CageFS, select users CageFS will be enabled for, as well as update CageFS skeleton.")]),t._v(" "),t._m(495),t._v(" "),t._m(496),t._v(" "),t._m(497),t._v(" "),t._m(498),t._v(" "),t._m(499),t._v(" "),t._m(500),t._v(" "),s("p",[t._v("CageFS comes with a plugin for Plesk 10.x. It allows initializing and updating CageFS template, as well as managing users and mode of operation for CageFS.")]),t._v(" "),s("p",[t._v("In modules section choose CageFS:")]),t._v(" "),t._m(501),t._v(" "),t._m(502),t._v(" "),t._m(503),t._v(" "),t._m(504),t._v(" "),t._m(505),t._v(" "),t._m(506),t._v(" "),t._m(507),t._v(" "),t._m(508),t._v(" "),t._m(509),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#cagefs"}},[t._v("CageFS CLI tools")]),t._v(".")],1),t._v(" "),t._m(510),t._v(" "),t._m(511),t._v(" "),t._m(512),t._v(" "),t._m(513),t._v(" "),t._m(514),t._v(" "),t._m(515),t._v(" "),t._m(516),t._v(" "),t._m(517),t._v(" "),s("p",[t._v("You can set different limits for different periods: current, short, med, long. By default those periods are defined as 1 second, 5 seconds, 1 minute and 5 minutes. They can be re-defined using "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-and-operation"}},[t._v("configuration file")]),t._v(". The idea is to use larger acceptable values for shorter periods. Like you could allow a customer to use two cores (200%) for one second, but only 1 core (on average) for 1 minute, and only 70% within 5 minutes. That would make sure that customer can burst for short periods of time.")],1),t._v(" "),s("p",[t._v("When customer is restricted, the customer will be placed into special LVE with ID 3. All restricted customers will be placed into that LVE, and you can control amount of resources available to restricted customers. Restricted customers will also be limited to only 30 concurrent connections. This is done so they wouldn't use up all the MySQL connections to the server.")]),t._v(" "),t._m(518),t._v(" "),t._m(519),t._v(" "),t._m(520),t._v(" "),t._m(521),t._v(" "),t._m(522),t._v(" "),t._m(523),t._v(" "),t._m(524),t._v(" "),t._m(525),t._v(" "),t._m(526),t._v(" "),t._m(527),t._v(" "),s("p",[t._v("Please make sure to specify your current MySQL version instead of XX as follows:")]),t._v(" "),t._m(528),t._v(" "),t._m(529),t._v(" "),t._m(530),t._v(" "),t._m(531),t._v(" "),t._m(532),t._v(" "),t._m(533),t._v(" "),t._m(534),t._v(" "),t._m(535),t._v(" "),t._m(536),t._v(" "),t._m(537),t._v(" "),t._m(538),t._v(" "),t._m(539),t._v(" "),t._m(540),t._v(" "),t._m(541),t._v(" "),t._m(542),t._v(" "),s("p",[t._v("For example:")]),t._v(" "),t._m(543),t._v(" "),t._m(544),t._v(" "),t._m(545),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#mysql-governor"}},[t._v("MySQL Governor CLI")])],1)]),t._v(" "),t._m(546),t._v(" "),s("p",[t._v("In order to change MySQL version you should run the following commands:")]),t._v(" "),t._m(547),t._v(" "),t._m(548),t._v(" "),t._m(549),t._v(" "),t._m(550),t._v(" "),t._m(551),t._v(" "),t._m(552),t._v(" "),t._m(553),t._v(" "),t._m(554),t._v(" "),t._m(555),t._v(" "),t._m(556),t._v(" "),s("p",[t._v("It is best to modify it using "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/command-line_tools/#dbctl"}},[t._v("dbctl")])],1),t._v(" tool.")]),t._v(" "),t._m(557),t._v(" "),t._m(558),t._v("\nExample configuration:\n"),t._m(559),t._v(" "),s("p",[t._v("These values can also be set using "),s("router-link",{attrs:{to:"/command-line_tools/#cloudlinux-config"}},[t._v("cloudlinux-config")]),t._v(" CLI utility")],1),t._v(" "),t._m(560),t._v(" "),t._m(561),t._v(" "),t._m(562),t._v(" "),t._m(563),t._v(" "),t._m(564),t._v(" "),s("p",[t._v("You can specify modes of operation using "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/command-line_tools/#dbctl"}},[t._v("dbctl")])],1),t._v(" or by changing "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-3"}},[t._v("configuration file")]),t._v(".\n"),s("span",{staticClass:"notranslate"},[t._v(" dbuser-map ")]),t._v(" file is located in "),t._m(565),t._v(".")],1),t._v(" "),t._m(566),t._v(" "),s("p",[t._v("To start:\n")]),t._m(567),t._v(" "),s("p",[t._v("To stop:\n")]),t._m(568),t._v(" "),t._m(569),t._v(" "),t._m(570),t._v(" "),t._m(571),t._v(" "),t._m(572),t._v(" "),s("p",[t._v("The format of the file:\n")]),t._m(573),t._v("\nFor example:\n"),t._m(574),t._v(" "),t._m(575),t._v(" "),s("p",[t._v("This file is checked for modifications every 5 minutes.")]),t._v(" "),s("p",[t._v("If you need to force reload of that file, run:\n")]),t._m(576),t._v(" "),t._m(577),t._v(" "),t._m(578),t._v(" "),t._m(579),t._v(" "),t._m(580),t._v(" "),t._m(581),t._v(" "),s("p",[t._v("Restrictions:\n")]),t._m(582),t._v(" "),t._m(583),t._v(" "),t._m(584),t._v(" "),t._m(585),t._v(" "),t._m(586),t._v(" "),t._m(587),t._v(" "),t._m(588),t._v(" "),t._m(589),t._v(" "),s("p",[t._v("To install beta version of MySQL:\n")]),t._m(590),t._v(" "),t._m(591),t._v(" "),t._m(592),t._v(" "),t._m(593),t._v(" "),t._m(594),t._v(" "),t._m(595),t._v(" "),t._m(596),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also MySQL Governor "),s("router-link",{attrs:{to:"/command-line_tools/#mysql-governor"}},[t._v("CLI")])],1)]),t._v(" "),t._m(597),t._v(" "),t._m(598),t._m(599),t._v(" "),t._m(600),t._m(601),t._v(" "),t._m(602),t._m(603),t._v(" "),t._m(604),t._v(" "),t._m(605),t._v(" "),t._m(606),t._v(" "),s("p",[t._v("To install the plugin:\n")]),t._m(607),t._v(" "),t._m(608),t._v(" "),t._m(609),t._m(610),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#mysql-governor"}},[t._v("MySQL Governor CLI tools")]),t._v(".")],1),t._v(" "),t._m(611),t._v(" "),t._m(612),t._v(" "),t._m(613),t._v(" "),s("p",[t._v("For adding extra limits, do the following:")]),t._v(" "),t._m(614),t._v(" "),t._m(615),t._v(" "),t._m(616),t._v(" "),t._m(617),t._v(" "),t._m(618),t._v(" "),t._m(619),t._v(" "),t._m(620),t._v(" "),t._m(621),t._v(" "),t._m(622),t._v(" "),t._m(623),t._v(" "),t._m(624),t._v(" "),t._m(625),t._v(" "),t._m(626),t._v(" "),t._m(627),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("To PHP Selector proper operation, make sure you have installed and configured "),s("code",[t._v("mod_suexec")]),t._v(" package. You can find installation instruction "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#apache-suexec-module"}},[t._v("here")]),t._v(".")],1)]),t._v(" "),t._m(628),t._v(" "),t._m(629),t._v(" "),t._m(630),t._v(" "),t._m(631),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/limits/#compatibility-matrix"}},[t._v("Compatibility Matrix")]),t._v(".")],1),t._v(" "),t._m(632),t._v(" "),s("p",[t._v("The installation of "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" presumes that you already have  "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#cagefs"}},[t._v("CageFS")]),t._v(" & "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/lve_manager/"}},[t._v("LVE Manager")]),t._v(" installed.")],1)],1),t._v(" "),s("p",[t._v("Use "),s("router-link",{attrs:{to:"/limits/#compatibility-matrix"}},[t._v("compatibility matrix")]),t._v(" to check if your Web Server/PHP mode is supporting "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector. ")]),t._v(" If not, you need a change to one of the supported models.")],1),t._v(" "),s("p",[t._v("Installation of different versions of PHP & modules:\n")]),t._m(633),t._v(" "),t._m(634),t._m(635),t._v(" "),t._m(636),t._v(" "),t._m(637),t._v(" "),t._m(638),t._m(639),t._v(" "),t._m(640),t._v(" "),t._m(641),t._v(" "),t._m(642),t._v(" "),t._m(643),t._v(" "),s("p",[t._v("To change the modules status (enabled/disabled) manually, run the following command in a console:\n")]),t._m(644),t._v(" "),t._m(645),t._v(" "),s("p",[t._v("To update PHP Selector, run the following command:\n")]),t._m(646),t._v(" "),t._m(647),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also PHP Selector "),s("router-link",{attrs:{to:"/command-line_tools/#php-selector"}},[t._v("CLI")])],1)]),t._v(" "),t._m(648),t._v(" "),t._m(649),t._v(" "),t._m(650),t._v(" "),t._m(651),t._v(" "),s("p",[t._v("To enable "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" with "),s("span",{staticClass:"notranslate"},[t._v(" LiteSpeed Web Server ")]),t._v(" follow "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector  ")]),t._v(" "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#installation-and-update-4"}},[t._v("installation guide")]),t._v(" , and then adjust following settings in "),s("span",{staticClass:"notranslate"},[t._v(" LiteSpeed ")]),t._v(" :")],1),t._v(" "),t._m(652),t._v(" "),t._m(653),t._v(" "),t._m(654),t._v(" "),t._m(655),t._v(" "),t._m(656),t._v(" "),t._m(657),t._v(" "),t._m(658),t._v(" "),s("p",[t._v("For other control panels:")]),t._v(" "),t._m(659),t._v(" "),s("p",[t._v("Settings in text format:")]),t._v(" "),t._m(660),t._v(" "),t._m(661),t._v(" "),t._m(662),t._v(" "),t._m(663),t._v(" "),t._m(664),t._v(" "),t._m(665),t._v(" "),t._m(666),t._v(" "),t._m(667),t._v(" "),t._m(668),t._v(" "),t._m(669),t._v(" "),t._m(670),t._v(" "),t._m(671),t._v(" "),t._m(672),t._v(" "),t._m(673),t._v(" "),s("p",[t._v("You will need to do following modifications:")]),t._v(" "),t._m(674),t._m(675),t._v("\nMake that file executable:\n"),t._m(676),t._v("\nEdit file "),s("span",{staticClass:"notranslate"},[t._v(" /usr/local/ispmgr/etc/ispmgr.conf ")]),t._v(" "),s("p",[t._v("Add a line:\n")]),t._m(677),t._v(" "),t._m(678),t._v(" "),t._m(679),t._m(680),t._v(" "),t._m(681),t._v(" "),t._m(682),t._v(" "),t._m(683),t._v(" "),t._m(684),t._v(" "),t._m(685),t._v(" "),t._m(686),t._v(" "),t._m(687),t._v(" "),t._m(688),t._v(" "),t._m(689),t._v(" "),t._m(690),t._v(" "),t._m(691),t._v(" "),t._m(692),t._v(" "),t._m(693),t._v(" "),t._m(694),t._v(" "),t._m(695),t._v(" "),t._m(696),t._v(" "),t._m(697),t._v(" "),t._m(698),t._v(" "),t._m(699),t._m(700),t._v(" "),t._m(701),t._v(" "),t._m(702),t._v(" "),t._m(703),t._m(704),t._v(" "),t._m(705),t._v(" "),t._m(706),t._v(" "),t._m(707),t._m(708),t._v("\nto propagate the change.\n"),t._m(709),t._v(" "),t._m(710),t._v(" "),t._m(711),t._v(" "),t._m(712),t._v(" "),s("p",[t._v("You can find more details "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#bundled-php-extensions"}},[t._v("here")]),t._v(".")],1),t._v(" "),s("p",[t._v("But the recommended way is to modify PHP options via PHP Selector web or CLI interfaces, as described "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#custom-php-ini-options"}},[t._v("here")]),t._v(".")],1),t._v(" "),t._m(713),t._v(" "),s("p",[t._v("Sometimes you might want to have a single customer with a different php.ini, than the rest of your customers.")]),t._v(" "),s("p",[t._v("To do that, you will use "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/cloudlinux_os_components/#custom-etc-files-per-customer"}},[t._v("custom.etc directory functionality")])],1)]),t._v(" "),t._m(714),t._v(" "),t._m(715),t._v(" "),t._m(716),t._v(" "),t._m(717),t._v(" "),t._m(718),t._v(" "),t._m(719),t._v(" "),s("p",[t._v("Create such files for each user that should have custom file.")]),t._v(" "),t._m(720),t._v(" "),t._m(721),t._v(" "),t._m(722),t._v(" "),t._m(723),t._v(" "),t._m(724),t._v(" "),t._m(725),t._v(" "),s("ul",[t._m(726),t._v(" "),s("li",[s("p",[t._v("When using "),s("strong",[t._v("mod_lsapi")]),t._v(", you should use "),s("code",[t._v("lsapi_phprc")]),t._v(" directive in virtual host configuration: "),s("code",[t._v("lsapi_phprc/etc/")]),t._v(".\nYou can find the detailed description of "),s("code",[t._v("mod_lsapi")]),t._v(" directives "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-references"}},[t._v("here")]),t._v(".")],1)]),t._v(" "),t._m(727)]),t._v(" "),t._m(728),t._v(" "),t._m(729),t._v(" "),t._m(730),t._v(" "),t._m(731),t._v(" "),t._m(732),t._v(" "),t._m(733),t._v(" "),t._m(734),t._v(" "),t._m(735),t._v(" "),s("p",[t._v("You can find more info on ' "),s("span",{staticClass:"notranslate"},[t._v(" Feature Manager ")]),t._v(" ' here: "),s("a",{attrs:{href:"http://docs.cpanel.net/twiki/bin/view/11_30/WHMDocs/FeatureManager",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://docs.cpanel.net/twiki/bin/view/11_30/WHMDocs/FeatureManager"),s("OutboundLink")],1)]),t._v(" "),t._m(736),t._v(" "),s("img",{attrs:{src:"/images/screen1-phpselector-featuremanager.png",width:"478",height:"575"}}),t._v(" "),t._m(737),t._v(" "),t._m(738),t._v(" "),t._m(739),t._v(" "),t._m(740),t._v(" "),s("p",[t._v("This behavior is implemented in CageFS-6.1-10 and later.")]),t._v(" "),t._m(741),t._v(" "),t._m(742),t._v(" "),s("p",[t._v("And run the command to apply changes:\n")]),t._m(743),t._v("\nTo revert to the default behavior:\n"),t._m(744),t._v(" "),s("p",[t._v("And run the command to apply changes:\n")]),t._m(745),t._v(" "),t._m(746),t._v(" "),s("p",[t._v("Due to possible patent issues CloudLinux does not provide "),s("span",{staticClass:"notranslate"},[t._v(" FFmpeg ")]),t._v(" libraries ( "),s("a",{attrs:{href:"https://ffmpeg.org/legal.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ffmpeg.org/legal.html"),s("OutboundLink")],1),t._v(" ). We highly recommend researching if you can legally install "),s("span",{staticClass:"notranslate"},[t._v(" FFmpeg ")]),t._v(" extension on your server. This might differ based on where you and your servers are located. More information can be found on the link: "),s("a",{attrs:{href:"https://ffmpeg.org/legal.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://ffmpeg.org/legal.html"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("For your convenience we provide "),s("span",{staticClass:"notranslate"},[t._v(" FFMPEG PHP ")]),t._v(" binding. For them to work, you need to install "),s("span",{staticClass:"notranslate"},[t._v(" FFmpeg ")]),t._v(" package from the “ "),s("span",{staticClass:"notranslate"},[t._v(" Nux Dextop ")]),t._v(" ” repository following the "),s("a",{attrs:{href:"http://li.nux.ro/repos.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("instructions"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(747),t._m(748),t._v(" "),t._m(749),t._m(750),t._v(" "),t._m(751),t._v(" "),t._m(752),t._m(753),t._v(" "),s("p",[t._v("Then execute the following command to apply changes.\n")]),t._m(754),t._v(" "),t._m(755),t._v(" "),s("p",[t._v("That is why, if the file is not created automatically, then it must be created manually and correct paths must be written to its directives.")]),t._v(" "),s("p",[t._v("Access permission 644 must be set:\n")]),t._m(756),t._v(" "),t._m(757),t._v(" "),t._m(758),t._v(" "),t._m(759),t._v(" "),t._m(760),t._v(" "),t._m(761),t._v(" "),t._m(762),t._v(" "),t._m(763),t._v(" "),t._m(764),t._v(" "),s("p",[t._v("You should remove the old lines:")]),t._v(" "),t._m(765),t._v(" "),s("p",[t._v("And replace them with the lines with the new paths:")]),t._v(" "),t._m(766),t._v(" "),t._m(767),t._v(" "),t._m(768),t._v(" "),t._m(769),t._v(" "),t._m(770),t._v(" "),t._m(771),t._v(" "),t._m(772),t._v(" "),s("p",[t._v("You should remove the old lines:")]),t._v(" "),t._m(773),t._v(" "),s("p",[t._v("And replace them with the lines with the new paths:")]),t._v(" "),t._m(774),t._v(" "),t._m(775),t._v(" "),t._m(776),t._v(" "),t._m(777),t._v(" "),t._m(778),t._v(" "),t._m(779),t._v(" "),t._m(780),t._v(" "),t._m(781),t._v(" "),t._m(782),t._v(" "),t._m(783),t._v(" "),t._m(784),t._v(" "),s("p",[t._v("as well as extensions that they want to use:")]),t._v(" "),t._m(785),t._v(" "),s("p",[t._v("and php.ini settings")]),t._v(" "),t._m(786),t._v(" "),s("p",[t._v("All changes are saved automatically.")]),t._v(" "),t._m(787),t._v(" "),t._m(788),t._v(" "),t._m(789),t._v(" "),t._m(790),t._v(" "),s("p",[t._v("Here are some of the examples of allowed directives:\n")]),t._m(791),t._v(" "),t._m(792),t._v(" "),t._m(793),t._v(" "),t._m(794),t._v(" "),s("p",[t._v("Admin can modify the settings using "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/command-line_tools/#selectorctl"}},[t._v("selectorctl")])],1),t._v(" command.")]),t._v(" "),s("p",[t._v("Users can use web interface to modify php.ini settings:")]),t._v(" "),t._m(795),t._v(" "),t._m(796),t._v(" "),s("p",[t._v("The following files and directories are created inside CageFS for each customer:")]),t._v(" "),t._m(797),t._v(" "),t._m(798),t._v(" "),t._m(799),t._v(" "),t._m(800),t._v(" "),s("p",[t._v("like:")]),t._v(" "),t._m(801),t._v(" "),t._m(802),t._v(" "),s("p",[t._v("Sometimes you might want to compile your own PHP extension for your users to use. In most cases, it is better to contact our support by sending us a support "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/requests/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("ticket"),s("OutboundLink")],1),t._v(" . We will try to provide such extension for you via regular updates within 5-7 days.")]),t._v(" "),t._m(803),t._v(" "),s("p",[t._v("The full process for PHP 5.X and 7.X looks as follows:")]),t._v(" "),t._m(804),t._v(" "),t._m(805),t._v(" "),t._m(806),t._v(" "),t._m(807),t._v(" "),t._m(808),t._v(" "),t._m(809),t._v(" "),t._m(810),t._v(" "),t._m(811),t._v(" "),t._m(812),t._v(" "),t._m(813),t._v(" "),t._m(814),t._v(" "),t._m(815),t._v(" "),t._m(816),t._v(" "),t._m(817),t._v(" "),t._m(818),t._v(" "),t._m(819),t._v(" "),s("p",[t._v("Execute:\n")]),t._m(820),t._v(" "),t._m(821),t._v(" "),t._m(822),t._v(" "),t._m(823),t._v(" "),t._m(824),t._v(" "),t._m(825),t._v(" "),t._m(826),t._v(" "),t._m(827),t._v(" "),t._m(828),t._v(" "),t._m(829),t._v(" "),t._m(830),t._v(" "),t._m(831),t._v(" "),t._m(832),t._v(" "),t._m(833),t._v(" "),t._m(834),t._v(" "),t._m(835),t._v(" "),s("p",[t._v("To install run:\n")]),t._m(836),t._v(" "),s("p",[t._v("(no need to initialize or turn on CageFS)")]),t._v(" "),t._m(837),t._v(" "),t._m(838),t._v(" "),t._m(839),t._v(" "),t._m(840),t._v(" "),t._m(841),t._v(" "),t._m(842),t._v(" "),t._m(843),t._v(" "),t._m(844),t._v(" "),t._m(845),t._v(" "),t._m(846),t._v(" "),t._m(847),t._v(" "),t._m(848),t._v(" "),t._m(849),t._v(" "),t._m(850),t._v(" "),s("p",[t._v("To get back to the selector normal mode (“with CageFS”) run:\n")]),t._m(851),t._v(" "),t._m(852),t._v(" "),t._m(853),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also PHP Selector "),s("router-link",{attrs:{to:"/command-line_tools/#php-selector"}},[t._v("CLI")])],1)]),t._v(" "),t._m(854),t._v(" "),t._m(855),t._v(" "),t._m(856),t._v(" "),t._m(857),t._v(" "),t._m(858),t._v(" "),t._m(859),t._v(" "),t._m(860),t._v(" "),t._m(861),t._v(" "),t._m(862),t._v(" "),t._m(863),t._v(" "),t._m(864),t._v(" "),t._m(865),t._v(" "),t._m(866),t._v(" "),t._m(867),t._v("\nor\n"),t._m(868),t._v("\n(two commands above work the same way).\n"),t._m(869),t._v(" "),t._m(870),t._v(" "),t._m(871),t._v(" "),t._m(872),t._v(" "),t._m(873),t._v(" "),s("p",[t._v("Example:")]),t._v(" "),t._m(874),t._v(" "),t._m(875),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also PHP Selector "),s("router-link",{attrs:{to:"/command-line_tools/#php-selector"}},[t._v("CLI")])],1)]),t._v(" "),t._m(876),t._v(" "),t._m(877),t._v(" "),t._m(878),t._v(" "),s("p",[t._v("Command:\n")]),t._m(879),t._v("\nResult:\n"),t._m(880),t._v("\nWhen native PHP version needs to be displayed:\n"),s("p",[t._v("Command:\n")]),t._m(881),t._v(" "),s("p",[t._v("Result:\n")]),t._m(882),t._v(" "),t._m(883),t._v(" "),t._m(884),t._m(885),t._v(" "),t._m(886),t._v(" "),t._m(887),t._v(" "),t._m(888),t._v(" "),t._m(889),t._v(" "),t._m(890),t._v(" "),t._m(891),t._v(" "),s("p",[t._v("Result:\n")]),t._m(892),t._v(" "),t._m(893),t._v(" "),t._m(894),t._v(" "),t._m(895),t._v(" "),t._m(896),t._v(" "),t._m(897),t._v(" "),t._m(898),t._v(" "),t._m(899),t._v(" "),t._m(900),t._v(" "),t._m(901),t._v(" "),t._m(902),t._v(" "),t._m(903),t._v(" "),t._m(904),t._v(" "),t._m(905),t._v(" "),t._m(906),t._v(" "),t._m(907),t._v(" "),t._m(908),t._v(" "),t._m(909),t._v(" "),t._m(910),t._v(" "),t._m(911),t._v(" "),t._m(912),t._v(" "),t._m(913),t._v(" "),t._m(914),t._v(" "),t._m(915),t._v(" "),t._m(916),t._v(" "),t._m(917),t._v(" "),t._m(918),t._v(" "),t._m(919),t._v(" "),t._m(920),t._v(" "),t._m(921),t._v(" "),s("p",[t._v("Earlier, when EasyApache 3 was in trend, CloudLinux with PHP Selector would work seamlessly; you would set up the EasyApache profile which is compatible with PHP Selector, and you are ready to go. However, with EasyApache 4 cPanel introduced the built-in "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/68Docs/MultiPHP+Manager+for+cPanel",target:"_blank",rel:"noopener noreferrer"}},[t._v("MultiPHP Manager"),s("OutboundLink")],1),t._v(" which changed everything.")]),t._v(" "),t._m(922),t._v(" "),t._m(923),t._v(" "),t._m(924),t._v(" "),s("p",[t._v("If you'd like to use PHP Selector on a cPanel server, continue reading this document to understand how to integrate MultiPHP Manager and PHP Selector.")]),t._v(" "),t._m(925),t._v(" "),s("p",[t._v("Before integrating PHP Selector with cPanel, make sure that you have the following components installed:")]),t._v(" "),t._m(926),t._v(" "),t._m(927),t._v(" "),s("p",[t._v("Once you’re done with PHP Selector "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#installation-and-update-4"}},[t._v("installation")]),t._v(", there are a few things that you need to check on cPanel servers. You need to make sure that MultiPHP Manager settings are correct and that CageFS is enabled for the users. Let us cover the steps in detail.")],1),t._v(" "),s("p",[t._v("Go to WHM -> MultiPHP Manager -> PHP Versions tab.")]),t._v(" "),t._m(928),t._v(" "),t._m(929),t._v(" "),s("p",[t._v("That’s it! You are all set. The only thing that’s left is to make sure that you use the “"),s("router-link",{attrs:{to:"/cloudlinux_os_components/#managing-users"}},[t._v("Enable for all users")]),t._v("” mode for CageFS if you’d like to keep PHP Selector for all users.")],1),t._v(" "),s("p",[t._v("See also: "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/en-us/articles/360007615820-FAQ-on-PHP-Selector-integration-with-cPanel-s-MultiPHP-Manager",target:"_blank",rel:"noopener noreferrer"}},[t._v("FAQ on PHP Selector integration with cPanel’s MultiPHP Manager"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(930),t._v(" "),t._m(931),t._v(" "),s("p",[t._v("It is possible to change the current PHP Version for MultiPHP Manager on the user’s end. Here’s how the settings would look like by default:")]),t._v(" "),t._m(932),t._v(" "),t._m(933),t._v(" "),t._m(934),t._v(" "),s("p",[t._v("Given the way cPanel handles the PHP versions, it could be quite confusing to understand which PHP.ini directive will get higher priority over another. Let's discuss it here.")]),t._v(" "),t._m(935),t._v(" "),s("p",[t._v("If the PHP Selector is configured properly, its options would have the highest priority. You can find them in cPanel -> Select PHP Version -> Switch to PHP Options.")]),t._v(" "),t._m(936),t._v(" "),s("p",[t._v("You can add custom php.ini options here too! Check "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#custom-php-ini-options"}},[t._v("this article")]),t._v(" to find out how to do that.\nThe lower priority would have the php.ini (or .user.ini for some of the PHP handlers) configuration file, but you could also type in the PHP values there.")],1),t._v(" "),t._m(937),t._v(" "),s("p",[t._v("If you haven’t configured the PHP Selector, and you’d like to simply change PHP.ini parameters for particular "),s("strong",[t._v("alt-phpXX")]),t._v(" or "),s("strong",[t._v("ea-phpXX")]),t._v(" versions, you could manage them in WHM -> MultiPHP INI Editor. cPanel end-user can also customize php.ini directives in cPanel -> MultiPHP INI Editor. For more information, read the official documentation "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/68Docs/MultiPHP+INI+Editor+for+WHM",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/74Docs/MultiPHP+INI+Editor+for+cPanel",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(938),t._v(" "),s("p",[t._v("Shell commands, starting with "),s("code",[t._v("/usr/bin/php")]),t._v(" and "),s("code",[t._v("/usr/local/bin/php")]),t._v(" would use the same version that you select in the PHP Selector (if it’s already "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-and-using"}},[t._v("set up")]),t._v("). That PHP will also load PHP directives selected in PHP Selector. For example, if we have a setup like this:")],1),t._v(" "),t._m(939),t._v(" "),t._m(940),t._v(" "),t._m(941),t._m(942),t._v(" "),t._m(943),t._v(" "),t._m(944),t._m(945),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#php-selector"}},[t._v("PHP Selector CLI tools")]),t._v(".")],1),t._v(" "),t._m(946),t._v(" "),s("p",[t._v("Large number of PHP extensions are bundled with each version of PHP.")]),t._v(" "),t._m(947),t._v(" "),t._m(948),t._v(" "),t._m(949),t._v(" "),t._m(950),t._v(" "),t._m(951),t._v(" "),t._m(952),t._v(" "),t._m(953),t._v(" "),t._m(954),t._v(" "),t._m(955),t._v(" "),t._m(956),t._v(" "),t._m(957),t._v(" "),t._m(958),t._v(" "),t._m(959),t._v(" "),t._m(960),t._v(" "),t._m(961),t._v(" "),t._m(962),t._v(" "),s("ul",[s("li",[t._v("Please note that to use "),t._m(963),t._v(" extension you should set your own "),t._m(964),t._v(" in your own "),t._m(965),t._v(" file.\nPlease find more info about "),s("span",{staticClass:"notranslate"},[t._v(" New Relic License Key ")]),t._v(" in the "),s("span",{staticClass:"notranslate"},[s("a",{attrs:{href:"https://docs.newrelic.com/docs/accounts/install-new-relic/account-setup/license-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("New Relic documentation"),s("OutboundLink")],1)]),t._v(".")])]),t._v(" "),t._m(966),t._v(" "),t._m(967),t._v(" "),s("ul",[s("li",[t._v("Please note that to use "),t._m(968),t._v(" extension you should set your own "),t._m(969),t._v(" in your own "),t._m(970),t._v(" file.\nPlease find more info about "),s("span",{staticClass:"notranslate"},[t._v(" New Relic License Key ")]),t._v(" in the "),s("span",{staticClass:"notranslate"},[s("a",{attrs:{href:"https://docs.newrelic.com/docs/accounts/install-new-relic/account-setup/license-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("New Relic documentation"),s("OutboundLink")],1)]),t._v(".")])]),t._v(" "),t._m(971),t._v(" "),t._m(972),t._v(" "),s("ul",[s("li",[t._v("Please note that to use "),t._m(973),t._v(" extension you should set your own "),t._m(974),t._v(" in your own "),t._m(975),t._v(" file.\nPlease find more info about "),s("span",{staticClass:"notranslate"},[t._v(" New Relic License Key ")]),t._v(" in the "),s("span",{staticClass:"notranslate"},[s("a",{attrs:{href:"https://docs.newrelic.com/docs/accounts/install-new-relic/account-setup/license-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("New Relic documentation"),s("OutboundLink")],1)]),t._v(".")])]),t._v(" "),t._m(976),t._v(" "),t._m(977),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("To use "),t._m(978),t._v(" extension you should set your own "),t._m(979),t._v(" in your own "),t._m(980),t._v(" file.\nYou can find more info about "),s("span",{staticClass:"notranslate"},[t._v("New Relic License Key")]),t._v(" in the "),s("span",{staticClass:"notranslate"},[s("a",{attrs:{href:"https://docs.newrelic.com/docs/accounts/install-new-relic/account-setup/license-key",target:"_blank",rel:"noopener noreferrer"}},[t._v("New Relic documentation"),s("OutboundLink")],1)]),t._v(".")])]),t._v(" "),t._m(981),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("This documentation is for the new version of Python Selector. You can find documentation for the old Python Selector "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#python-selector-old"}},[t._v("here")])],1)]),t._v(" "),t._m(982),t._v(" "),t._m(983),t._v(" "),t._m(984),t._v(" "),t._m(985),t._v(" "),s("ul",[t._m(986),t._v(" "),s("li",[t._v("This feature is available for CloudLinux 7, CloudLinux 6 hybrid and CloudLinux 6.")]),t._v(" "),s("li",[t._v("New Python Selector requires LVE Manager version 4.2 or later.")]),t._v(" "),s("li",[t._v("It supports cPanel and DirectAdmin servers. On DirectAdmin only on Apache. Plesk will not be supported.")]),t._v(" "),s("li",[t._v("Python Selector uses "),t._m(987),t._v(" to host Python. For more details about "),t._m(988),t._v(", please read "),s("a",{attrs:{href:"https://www.phusionpassenger.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("documentation"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Python Selector works with EasyApache 3 (note EOL at 1st September 2019), EasyApache 4 and LiteSpeed Web Server. Or Apache on DirectAdmin.")])]),t._v(" "),t._m(989),t._v(" "),s("p",[t._v("The new Python Selector has a bunch of new features:")]),t._v(" "),t._m(990),t._v(" "),s("p",[t._v("All existing Python applications (created before the update of LVE Manager to version 5.0.1-1) will work the same as before. You do not need to migrate them unless you’d like to use new features. These applications we define as old applications.")]),t._v(" "),t._m(991),t._v(" "),s("p",[t._v("You do not need to migrate the new applications that will be created after the update to the LVE Manager 5.0.1-1. All new features are available for them.")]),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Important!")]),t._v(" "),s("p",[t._v("You cannot migrate back to the old application. If you face any issue during the migration, please "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/requests/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("contact our support team"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(992),t._v(" "),t._m(993),t._v(" "),s("p",[t._v("To migrate a Python application:")]),t._v(" "),t._m(994),t._v(" "),s("p",[t._v("If you face any issue during the migration, please "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/requests/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("contact our support team"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(995),t._v(" "),s("p",[t._v("New clients can install Python Selector using the "),s("router-link",{attrs:{to:"/lve_manager/#cloudlinux-installation-wizard"}},[t._v("CloudLinux Installation Wizard")]),t._v(".")],1),t._v(" "),t._m(996),t._v(" "),s("p",[t._v("To use Python Selector, it is required to install the following:")]),t._v(" "),t._m(997),t._v(" "),t._m(998),t._v(" "),t._m(999),t._v(" "),s("ul",[s("li",[t._v("CageFS for better security. See "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#cagefs"}},[t._v("CageFS documentation for details")]),t._v(".")],1)]),t._v(" "),t._m(1e3),t._v(" "),s("p",[t._v("To use Python Selector, it is required to install the following:")]),t._v(" "),s("ul",[t._m(1001),t._v(" "),t._m(1002),t._v(" "),s("li",[s("p",[t._v("CageFS for better security. See "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#cagefs"}},[t._v("CageFS documentation for details")]),t._v(".")],1)])]),t._v(" "),t._m(1003),t._v(" "),t._m(1004),t._v(" "),s("ul",[s("li",[t._v("See also "),s("router-link",{attrs:{to:"/lve_manager/#python-selector-2"}},[t._v("Python Selector UI")]),t._v(".")],1),t._v(" "),s("li",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#python-selector"}},[t._v("Python Selector CLI")]),t._v(".")],1)]),t._v(" "),t._m(1005),t._v(" "),t._m(1006),t._v(" "),t._m(1007),t._v(" "),t._m(1008),t._v(" "),t._m(1009),t._v(" "),s("p",[t._v("2.1. Alternatively, connect to the server via SSH and perform the following steps:")]),t._v(" "),t._m(1010),t._v(" "),s("p",[t._v("then:")]),t._v(" "),t._m(1011),t._v(" "),s("p",[t._v("or")]),t._v(" "),t._m(1012),t._v(" "),t._m(1013),t._v(" "),t._m(1014),t._v(" "),t._m(1015),t._v(" "),t._m(1016),t._v(" "),t._m(1017),t._v(" "),t._m(1018),t._v(" "),t._m(1019),t._v(" "),t._m(1020),t._v(" "),t._m(1021),t._v(" "),t._m(1022),t._v(" "),t._m(1023),t._v(" "),t._m(1024),t._v(" "),t._m(1025),t._v(" "),t._m(1026),t._v(" "),t._m(1027),t._v(" "),s("p",[t._v("Create topic directory by default:")]),t._v(" "),t._m(1028),t._v(" "),s("p",[t._v("All project static files are located in this directory; the changes can be added here as well.")]),t._v(" "),t._m(1029),t._v(" "),t._m(1030),t._v(" "),s("p",[t._v("Your existing application now must look like the following:")]),t._v(" "),t._m(1031),t._v(" "),t._m(1032),t._v(" "),t._m(1033),t._v(" "),t._m(1034),t._v(" "),t._m(1035),t._v(" "),s("p",[t._v("Enter password.")]),t._v(" "),t._m(1036),t._v(" "),t._m(1037),t._v(" "),t._m(1038),t._v(" "),t._m(1039),t._v(" "),t._m(1040),t._v(" "),t._m(1041),t._v(" "),s("p",[t._v("To install run:\n")]),t._m(1042),t._v(" "),t._m(1043),t._v(" "),t._m(1044),t._v(" "),t._m(1045),t._v(" "),t._m(1046),t._v(" "),s("p",[t._v("To install run:\n")]),t._m(1047),t._v(" "),t._m(1048),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("This documentation is for the old version of Python Selector. You can find documentation for the new Python Selector "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#python-selector"}},[t._v("here")])],1)]),t._v(" "),t._m(1049),t._v(" "),s("p",[t._v("This feature is available for CloudLinux 6 or later. It supports only cPanel servers.")]),t._v(" "),t._m(1050),t._v(" "),t._m(1051),t._v(" "),t._m(1052),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("The instructions below are suitable only for EasyApache 3 and EasyApache 4. You should follow "),s("a",{attrs:{href:"https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:cloudlinux:enable_ruby_python_selector",target:"_blank",rel:"noopener noreferrer"}},[t._v("this instruction"),s("OutboundLink")],1),t._v(" if you use LiteSpeed.")])]),t._v(" "),t._m(1053),t._v(" "),t._m(1054),t._v(" "),s("p",[t._v("for EasyApache4:")]),t._v(" "),t._m(1055),t._v(" "),t._m(1056),t._v(" "),t._m(1057),t._v(" "),t._m(1058),t._v(" "),t._m(1059),t._v(" "),t._m(1060),t._v(" "),t._m(1061),t._v(" "),t._m(1062),t._v(" "),t._m(1063),t._v(" "),t._m(1064),t._v(" "),t._m(1065),t._v(" "),t._m(1066),t._v(" "),s("p",[t._v("After a little while a new application entry will be appended to the web-page.")]),t._v(" "),t._m(1067),t._v(" "),t._m(1068),t._v(" "),t._m(1069),t._v(" "),t._m(1070),t._v(" "),t._m(1071),t._v(" "),t._m(1072),t._v(" "),t._m(1073),t._v(" "),t._m(1074),t._v(" "),t._m(1075),t._v(" "),t._m(1076),t._v(" "),t._m(1077),t._v(" "),t._m(1078),t._v(" "),t._m(1079),t._v(" "),t._m(1080),t._v(" "),t._m(1081),t._v(" "),t._m(1082),t._v(" "),t._m(1083),t._v(" "),s("p",[t._v("The possibility to choose domain when creating an application was added to web interface as well.")]),t._v(" "),t._m(1084),t._v(" "),t._m(1085),t._v(" "),t._m(1086),t._v(" "),t._m(1087),t._v(" "),t._m(1088),t._v(" "),t._m(1089),t._v(" "),s("p",[t._v("The same result can be accomplished in CLI by running:")]),t._v(" "),t._m(1090),t._v(" "),t._m(1091),t._v(" "),t._m(1092),t._v(" "),t._m(1093),t._v(" "),t._m(1094),t._v(" "),s("p",[t._v("This feature is available for CloudLinux 6 or later. It supports only cPanel servers.")]),t._v(" "),t._m(1095),t._v(" "),t._m(1096),t._v(" "),t._m(1097),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("The instructions below are suitable only for EasyApache 3 and EasyApache 4. You should follow "),s("a",{attrs:{href:"https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:cloudlinux:enable_ruby_python_selector",target:"_blank",rel:"noopener noreferrer"}},[t._v("this instruction"),s("OutboundLink")],1),t._v(" if you use LiteSpeed.")])]),t._v(" "),t._m(1098),t._v(" "),t._m(1099),t._v(" "),t._m(1100),t._v(" "),t._m(1101),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("After installation, please make sure that you have unmarked appropriate checkboxes in "),s("span",{staticClass:"notranslate"},[t._v(" VE Manager Options")]),t._v(" tab to show "),s("span",{staticClass:"notranslate"},[t._v("Ruby App")]),t._v(" in web-interface. Find the instructions on the "),s("router-link",{attrs:{to:"/ruby_selector/#hide-ruby-selector-icons"}},[t._v("link")]),t._v(".")],1)]),t._v(" "),t._m(1102),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also Ruby Selector "),s("router-link",{attrs:{to:"/command-line_tools/#ruby-selector"}},[t._v("CLI")])],1)]),t._v(" "),t._m(1103),t._v(" "),t._m(1104),t._v(" "),t._m(1105),t._v(" "),t._m(1106),t._v(" "),t._m(1107),t._v(" "),t._m(1108),t._v(" "),s("p",[t._v("After a little while a new application entry will be appended to the web-page.")]),t._v(" "),t._m(1109),t._v(" "),t._m(1110),t._v(" "),t._m(1111),t._v(" "),t._m(1112),t._v(" "),t._m(1113),t._v(" "),t._m(1114),t._v(" "),t._m(1115),t._v(" "),t._m(1116),t._v(" "),t._m(1117),t._v(" "),t._m(1118),t._v(" "),t._m(1119),t._v(" "),t._m(1120),t._v(" "),t._m(1121),t._v(" "),t._m(1122),t._v(" "),s("p",[t._v("To create application run:\n")]),t._m(1123),t._v("\nWhen changing application URI, "),s("span",{staticClass:"notranslate"},[t._v("`--domain`")]),t._v(" key can be used simultaneously, in this case not only "),s("span",{staticClass:"notranslate"},[t._v(" URI ")]),t._v(" will be changed, but also the application domain.\n"),t._m(1124),t._m(1125),t._v("\nThe possibility to choose domain when creating an application was added to web interface as well.\n"),t._m(1126),t._v(" "),t._m(1127),t._v(" "),t._m(1128),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also Ruby Selector "),s("router-link",{attrs:{to:"/command-line_tools/#ruby-selector"}},[t._v("CLI")])],1)]),t._v(" "),t._m(1129),t._v(" "),t._m(1130),t._v(" "),t._m(1131),t._v(" "),s("p",[t._v("The same result can be accomplished in CLI by running:")]),t._v(" "),t._m(1132),t._v(" "),t._m(1133),t._v(" "),t._m(1134),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Provided instructions are valid for older "),s("span",{staticClass:"notranslate"},[t._v(" Redmine ")]),t._v(" version 2.6.0. New versions guide could be found at "),s("a",{attrs:{href:"http://kb.cloudlinux.com/2016/12/how-to-run-redmine-with-ruby-selector/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://kb.cloudlinux.com/2016/12/how-to-run-redmine-with-ruby-selector/"),s("OutboundLink")],1)])]),t._v(" "),t._m(1135),t._v(" "),t._m(1136),t._v(" "),t._m(1137),t._v(" "),t._m(1138),t._v(" "),t._m(1139),t._v(" "),t._m(1140),t._m(1141),t._v("\nThe installation process takes quite along time, about 7-8 minutes. When done, click "),s("span",{staticClass:"notranslate"},[t._v(" Restart ")]),t._v(" button to restart the application.\n"),t._m(1142),t._v(" "),t._m(1143),t._v(" "),t._m(1144),t._v(" "),t._m(1145),t._v(" "),t._m(1146),t._v(" "),s("p",[t._v("Download the application "),s("a",{attrs:{href:"http://www.redmine.org/projects/redmine/wiki/Download",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.redmine.org/projects/redmine/wiki/Download"),s("OutboundLink")],1),t._v(" .")]),t._v(" "),t._m(1147),t._v(" "),s("p",[s("a",{attrs:{href:"http://www.redmine.org/releases/redmine-2.6.0.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.redmine.org/releases/redmine-2.6.0.tar.gz"),s("OutboundLink")],1),t._v(" "),s("span",{staticClass:"notranslate"},[t._v(" tar xzf redmine-2.6.0.tar.gz ")])]),t._v(" "),t._m(1148),t._m(1149),t._v("\nEdit "),s("span",{staticClass:"notranslate"},[t._v(" config/database.yml ")]),t._v(" - add MySQL database connection settings to "),s("span",{staticClass:"notranslate"},[t._v(" Production ")]),t._v(" section.\n"),t._m(1150),t._v("\nGo to "),s("span",{staticClass:"notranslate"},[t._v(" cd ~/redmine ")]),t._v(" directory.\n"),t._m(1151),t._v(" "),s("p",[t._v("Run alternately:\n")]),t._m(1152),t._v("\n(if running the alternative installation)\n"),t._m(1153),t._v("\n- Database migration;  \n"),t._m(1154),t._v(" "),t._m(1155),t._v(" "),t._m(1156),t._v(" "),s("p",[t._v("Since cPanel/WHM version 66 provides "),s("span",{staticClass:"notranslate"},[t._v("ea-ruby24-mod_passenger")]),t._v(" (more information on the "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/66Docs/Application+Manager",target:"_blank",rel:"noopener noreferrer"}},[t._v("link"),s("OutboundLink")],1),t._v("), this allows creating "),s("span",{staticClass:"notranslate"},[t._v(" Ruby ")]),t._v(" applications with cPanel application manager.")]),t._v(" "),t._m(1157),t._v(" "),t._m(1158),t._v(" "),t._m(1159),t._v(" "),s("p",[t._v("To install run:\n")]),t._m(1160),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#ruby-selector"}},[t._v("Ruby Selector CLI tools")]),t._v(".")],1),t._v(" "),t._m(1161),t._v(" "),t._m(1162),t._v(" "),t._m(1163),t._v(" "),t._m(1164),t._v(" "),s("ul",[t._m(1165),t._v(" "),t._m(1166),t._v(" "),t._m(1167),t._v(" "),s("li",[t._v("It supports cPanel and DirectAdmin servers (Plesk is not supported as it already has Node.js support.) For more details, please go to Plesk & Node.js documentation "),s("a",{attrs:{href:"https://www.plesk.com/blog/product-technology/node-js-plesk-onyx/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://docs.plesk.com/en-US/onyx/administrator-guide/website-management/nodejs-support.76652/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(" .")]),t._v(" "),s("li",[t._v("For more details about "),s("span",{staticClass:"notranslate"},[t._v(" mod_passenger ")]),t._v("  and Node.js, please read documentation  "),s("a",{attrs:{href:"https://www.phusionpassenger.com/library/walkthroughs/deploy/nodejs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v("  and  "),s("a",{attrs:{href:"https://www.phusionpassenger.com/library/walkthroughs/deploy/nodejs/ownserver/apache/oss/el7/deploy_app.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(" .")]),t._v(" "),t._m(1168)]),t._v(" "),t._m(1169),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Node.js Selector support is added to LiteSpeed Web Server starting from the 5.3RC1 release. See details "),s("a",{attrs:{href:"https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:cloudlinux:node.js_selector",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(1170),t._v(" "),t._m(1171),t._m(1172),t._v("\nAlso, please install "),s("span",{staticClass:"notranslate"},[t._v(" LVE Manager, LVE Utils and Fusion Passenger ")]),t._v(" by running the following command:\n"),t._m(1173),t._v("\nFor EasyApache 3:\n"),t._m(1174),t._v("\nAnd we recommend to install CageFS for better security (not mandatory) by running the following command:\n"),t._m(1175),t._v(" "),t._m(1176),t._v(" "),s("p",[t._v("CloudLinux 7:\n")]),t._m(1177),t._v(" "),s("p",[t._v("CloudLinux 6:\n")]),t._m(1178),t._v(" "),t._m(1179),t._v(" "),t._m(1180),t._m(1181),t._v("\nAlso, please install "),s("span",{staticClass:"notranslate"},[t._v(" LVE Manager, LVE Utils and Fusion Passenger ")]),t._v(" by running the following command:\n"),t._m(1182),t._v("\nAnd we recommend to install CageFS for better security (not mandatory) by running the following command:\n"),t._m(1183),t._v(" "),t._m(1184),t._v(" "),t._m(1185),t._v(" "),t._m(1186),t._v(" "),s("ol",[s("li",[t._v("Create a Node.js project in "),s("span",{staticClass:"notranslate"},[t._v(" IntelliJ IDEA/WebStorm ")]),t._v(" . You can download "),s("a",{attrs:{href:"http://docs.cloudlinux.com/nodejs_example.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("this archive"),s("OutboundLink")],1),t._v(" and use it as a basis.")]),t._v(" "),s("li",[t._v("Install "),s("span",{staticClass:"notranslate"},[t._v(" alt-nodejs ")]),t._v(" packages on the server in use. See "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#installation-and-update-7"}},[t._v("installation instructions")]),t._v(".")],1),t._v(" "),s("li",[t._v("Create an application on the server. You can do it by three ways:")])]),t._v(" "),t._m(1187),t._v(" "),t._m(1188),t._v(" "),t._m(1189),t._v(" "),t._m(1190),t._v(" "),t._m(1191),t._v(" "),t._m(1192),t._v(" "),t._m(1193),t._v(" "),s("ul",[s("li",[t._v("Specify a path to the remote Node.js interpreter. To be able to specify the remote interpreter, you should install the "),t._m(1194),t._v(" plugin first. Please find more information "),s("a",{attrs:{href:"https://www.jetbrains.com/help/idea/configure-node-js-remote-interpreter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(" , using server access credentials for a user "),t._m(1195),t._v(" .")]),t._v(" "),t._m(1196),t._v(" "),t._m(1197)]),t._v(" "),t._m(1198),t._v(" "),t._m(1199),t._v(" "),t._m(1200),t._v(" "),t._m(1201),t._v(" "),t._m(1202),t._v(" "),t._m(1203),t._v(" "),s("p",[t._v("The following information should be displayed on this page:")]),t._v(" "),t._m(1204),t._v(" "),s("p",[t._v("So that, you can be sure that deployed modules are used properly.")]),t._v(" "),t._m(1205),t._v(" "),t._m(1206),t._v(" "),s("p",[t._v("Useful links:")]),t._v(" "),s("ul",[s("li",[s("span",{staticClass:"notranslate"},[t._v(" IntelliJ IDEA ")]),t._v(" : "),s("a",{attrs:{href:"https://www.jetbrains.com/help/idea/configure-node-js-remote-interpreter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.jetbrains.com/help/idea/configure-node-js-remote-interpreter.html"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Plugin "),t._m(1207),t._v(" : "),s("a",{attrs:{href:"https://plugins.jetbrains.com/plugin/8116-node-js-remote-interpreter",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://plugins.jetbrains.com/plugin/8116-node-js-remote-interpreter"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" WebStorm ")]),t._v(" : "),s("a",{attrs:{href:"https://www.jetbrains.com/help/webstorm/configure-node-js-remote-interpreter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.jetbrains.com/help/webstorm/configure-node-js-remote-interpreter.html"),s("OutboundLink")],1)])]),t._v(" "),t._m(1208),t._v(" "),t._m(1209),t._v(" "),t._m(1210),t._v(" "),s("ul",[t._m(1211),t._v(" "),t._m(1212),t._v(" "),t._m(1213),t._v(" "),t._m(1214),t._v(" "),s("li",[s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#node-js-selector"}},[t._v("Node.js Selector CLI tools")]),t._v(".")],1)]),t._v(" "),s("li",[s("p",[t._v("See also "),s("router-link",{attrs:{to:"/lve_manager/#node-js-selector-2"}},[t._v("Node.js Selector UI")]),t._v(".")],1)])]),t._v(" "),t._m(1215),t._v(" "),t._m(1216),t._v(" "),t._m(1217),t._m(1218),t._v("\nor\n"),t._m(1219),t._v(" "),t._m(1220),t._v(" "),s("p",[t._v("This is a much more convenient approach to developing an application and debugging errors. On the other hand, if these directives are turned off you will see:")]),t._v(" "),t._m(1221),t._v(" "),s("p",[t._v("In this case, there is no useful information for debugging errors and this is suitable for production mode. More information about "),s("a",{attrs:{href:"https://www.phusionpassenger.com/library/config/apache/reference/#passengerfriendlyerrorpages",target:"_blank",rel:"noopener noreferrer"}},[t._v("PassengerFriendlyErrorPages"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://www.phusionpassenger.com/library/config/apache/reference/#passengerappenv",target:"_blank",rel:"noopener noreferrer"}},[t._v("PassengerAppEnv"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(1222),t._v(" "),t._m(1223),t._v(" "),s("p",[t._v("mod_lsapi PRO is an "),s("a",{attrs:{href:"https://httpd.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apache HTTP Server"),s("OutboundLink")],1),t._v(" module based on "),s("a",{attrs:{href:"https://www.litespeedtech.com/open-source/litespeed-sapi",target:"_blank",rel:"noopener noreferrer"}},[t._v("LiteSpeed Technologies API"),s("OutboundLink")],1),t._v(" . It serves to execute PHP scripts on a web-server by analogy with other modules like mod_suphp, php-fpm, mod_php. However, mod_lsapi PRO usage offers excellent PHP performance, low memory footprint coupled with great security and support for opcode caching.")]),t._v(" "),t._m(1224),t._v(" "),t._m(1225),t._v(" "),t._m(1226),t._v(" "),t._m(1227),t._v(" "),s("p",[t._v("lsphp - PHP + LSAPI. What is PHP LSAPI? "),s("a",{attrs:{href:"https://www.litespeedtech.com/open-source/litespeed-sapi/php",target:"_blank",rel:"noopener noreferrer"}},[t._v("LiteSpeed Server Application Programming Interface"),s("OutboundLink")],1),t._v(" (LSAPI) is designed specifically for seamless, optimized communication between LiteSpeed Web Server and third-party web applications. Now with mod_lsapi PRO this protocol is available for Apache 2.2/2.4.")]),t._v(" "),s("p",[t._v("Using mod_lsapi PRO, we have seen the higher performance than Apache with mod_php, easier installation than php-fpm and easier integration with any control panel. mod_lsapi PRO means faster and more stable dynamic web pages.")]),t._v(" "),t._m(1228),t._v(" "),s("p",[t._v("Currently, the mod_lsapi is not compatible with:")]),t._v(" "),t._m(1229),t._v(" "),t._m(1230),t._v(" "),s("ul",[t._m(1231),t._v(" "),t._m(1232),t._v(" "),s("li",[t._v("Installed mod_suexec for Apache and configured "),s("a",{attrs:{href:"https://httpd.apache.org/docs/2.4/mod/mod_suexec.html#page-header",target:"_blank",rel:"noopener noreferrer"}},[t._v("SuExecUserGroup"),s("OutboundLink")],1),t._v(" directive for each virtual host ( "),s("strong",[t._v("recommended - higher security level")]),t._v(" );")]),t._v(" "),t._m(1233),t._v(" "),s("li",[t._v("PHP Selector with alt-php - an easy way to select different PHP versions for each end-user provided by CloudLinux;")]),t._v(" "),s("li",[t._v("ea-php - alternative to alt-php provided by cPanel (for cPanel only).")])]),t._v(" "),t._m(1234),t._v(" "),s("p",[t._v("mod_lsapi PRO can be installed through YUM package manager, however, the installation process varies depending on the control panel.")]),t._v(" "),s("p",[t._v("Select the control panel you are using:")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#installing-on-cpanel-servers-with-easyapache-4"}},[t._v("cPanel")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#installing-on-plesk-servers"}},[t._v("Plesk")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#installing-on-directadmin-servers"}},[t._v("DirectAdmin")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#installing-on-servers-with-no-control-panel"}},[t._v("No control panel")])],1)]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#apache-mod-lsapi-pro"}},[t._v("mod_lsapi PRO")]),t._v(".")],1)]),t._v(" "),t._m(1235),t._v(" "),s("p",[t._v("Install mod_lsapi PRO and related packages through YUM package manager as follows:\n")]),t._m(1236),t._v("\nAfter installing mod_lsapi PRO packages run the next command to setup mod_lsapi to cPanel:\n"),t._m(1237),t._v("\nNow, when the module is installed, restart Apache to ensure that the mod_lsapi PRO is enabled:\n"),t._m(1238),t._v("\nNow the lsapi handler is available for managing through cPanel MultiPHP Manager.\n"),s("p",[t._v("For more details about swith_mod_lsapi, please visit "),s("router-link",{attrs:{to:"/command-line_tools/#apache-mod-lsapi-pro"}},[t._v("switch_mod_lsapi tool")]),t._v(".")],1),t._v(" "),t._m(1239),t._v(" "),s("p",[t._v("Install mod_lsapi PRO and related packages through YUM package manager as follows:\n")]),t._m(1240),t._v("\nOnce completed, run the command to setup mod_lsapi PRO and register LSPHP handlers to Plesk Panel:\n"),t._m(1241),t._v(" "),s("p",[t._v("Now, when the module is installed, restart Apache to ensure that mod_lsapi PRO is enabled:\n")]),t._m(1242),t._v(" "),s("p",[t._v("Now LSPHPXY alt-php PHP handlers are available for managing through Plesk PHP Settings.")]),t._v(" "),t._m(1243),t._v(" "),s("p",[t._v("For more details about swith_mod_lsapi, please visit "),s("router-link",{attrs:{to:"/command-line_tools/#apache-mod-lsapi-pro"}},[t._v("switch_mod_lsapi tool")]),t._v(".")],1),t._v(" "),t._m(1244),t._v(" "),s("p",[t._v("Installation process is done with custombuild script:\n")]),t._m(1245),t._v("\nRestart Apache afterwards:\n"),t._m(1246),t._v("\nNow all domains under php1_mode are using lsphp handler and no further actions are required to enable mod_lsapi PRO on DirectAdmin.\n"),t._m(1247),t._v(" "),s("p",[t._v("Install mod_lsapi PRO and related packages through YUM package manager as follows:\n")]),t._m(1248),t._v("\nOnce completed, run a command to setup mod_lsapi PRO:\n"),t._m(1249),t._v("\nNow, when the module is installed, restart Apache to ensure that mod_lsapi PRO is enabled:\n"),t._m(1250),t._v(" "),s("p",[t._v("If you are using an alternative Apache - "),s("a",{attrs:{href:"https://www.cloudlinux.com/cloudlinux-os-blog/entry/httpd24-updated-for-cloudlinux-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("httpd24"),s("OutboundLink")],1),t._v(" , then install mod_lsapi as follows:")]),t._v(" "),t._m(1251),t._v("\nOnce completed, run a command to setup mod_lsapi PRO:\n"),t._m(1252),t._v("\nNow, when the module is installed, restart Apache to ensure that mod_lsapi PRO is enabled:\n"),t._m(1253),t._v(" "),s("p",[t._v("For more details about swith_mod_lsapi, please visit "),s("router-link",{attrs:{to:"/command-line_tools/#apache-mod-lsapi-pro"}},[t._v("switch_mod_lsapi tool")]),t._v(".")],1),t._v(" "),t._m(1254),t._v(" "),s("p",[t._v("Uninstall mod_lsapi PRO is performed depending on your control panel.")]),t._v(" "),s("p",[t._v("Select the control panel you are using:")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#uninstall-procedure-for-cpanel-servers-with-easyapache-4"}},[t._v("cPanel")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#uninstall-procedure-for-plesk-servers"}},[t._v("Plesk")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#uninstall-procedure-for-directadmin-servers"}},[t._v("DirectAdmin")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#uninstall-procedure-for-servers-with-no-control-panel"}},[t._v("No control panel")])],1)]),t._v(" "),t._m(1255),t._v(" "),s("p",[t._v("To remove lsapi handler from cPanel MultiPHP Manager and uninstall mod_lsapi PRO, run a command:\n")]),t._m(1256),t._v("\nThen remove packages with YUM package manager:\n"),t._m(1257),t._v("\nRestart Apache afterwards:\n"),t._m(1258),t._v("\nNow mod_lsapi PRO is fully uninstalled.\n"),t._m(1259),t._v(" "),s("p",[t._v("To unregister LSPHP handlers and uninstall mod_lsapi PRO, run the command:\n")]),t._m(1260),t._v("\nThen remove packages with YUM package manager:\n"),t._m(1261),t._v("\nRestart Apache afterwards:\n"),t._m(1262),t._v("\nNow LSPHPXY alt-php PHP handlers and mod_lsapi PRO are fully uninstalled.\n"),t._m(1263),t._v(" "),s("p",[t._v("Uninstall is done with custombuild script:\n")]),t._m(1264),t._v("\nThe following PHP modes are available for DirectAdmin:\n"),t._m(1265),t._v(" "),s("p",[t._v("Restart Apache afterwards:\n")]),t._m(1266),t._v("\nNow all domains under php1_mode are using the chosen handler and mod_lsapi PRO is fully uninstalled.\n"),t._m(1267),t._v(" "),s("p",[t._v("To uninstall mod_lsapi PRO, run the command:\n")]),t._m(1268),t._v("\nThen remove packages with YUM package manager:\n"),t._m(1269),t._v("\nRestart Apache to restore the standard PHP handler:\n"),t._m(1270),t._v(" "),s("p",[t._v("If you are using an alternative Apache: - "),s("a",{attrs:{href:"https://www.cloudlinux.com/cloudlinux-os-blog/entry/httpd24-updated-for-cloudlinux-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("httpd24"),s("OutboundLink")],1),t._v(", then uninstall mod_lsapi PRO as follows:")]),t._v(" "),t._m(1271),t._v("\nThen remove packages with YUM package manager:\n"),t._m(1272),t._v("\nRestart Apache afterwards:\n"),t._m(1273),t._v("\nNow mod_lsapi PRO is fully uninstalled.\n"),t._m(1274),t._v(" "),t._m(1275),t._v(" "),s("p",[t._v("First of all, for the mod_lsapi PRO work, you need to ensure that the module is loaded. In your lsapi.conf you need to make sure the "),s("a",{attrs:{href:"http://httpd.apache.org/docs/current/mod/mod_so.html#loadmodule",target:"_blank",rel:"noopener noreferrer"}},[t._v("LoadModule"),s("OutboundLink")],1),t._v(" directive has not been commented out. A correctly configured directive may look like this:\n")]),t._m(1276),t._v(" "),t._m(1277),t._m(1278),t._v(" "),s("p",[t._v("The mod_lsapi PRO handler can be enabled using the "),s("a",{attrs:{href:"https://httpd.apache.org/docs/2.4/mod/mod_mime.html#addtype",target:"_blank",rel:"noopener noreferrer"}},[t._v("AddType"),s("OutboundLink")],1),t._v(" directive. The AddType directive tells Apache that a given filename extension should be handled by mod_lsapi PRO. Apache will assume that and will attempt to execute it when that particular resource is requested by a client.\n")]),t._m(1279),t._v(" "),t._m(1280),t._v(" "),s("p",[t._v("The final lsapi.conf configuration might look like this:\n")]),t._m(1281),t._v(" "),s("p",[t._v("In order to mod_lsapi PRO work lsapi.conf should be loaded to Apache through "),s("a",{attrs:{href:"https://httpd.apache.org/docs/2.4/mod/core.html#include",target:"_blank",rel:"noopener noreferrer"}},[t._v("Include"),s("OutboundLink")],1),t._v(" directive.")]),t._v(" "),s("p",[t._v("For more detailed description of the module directives please visit "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-references"}},[t._v("Configuration reference")]),t._v("."),s("br"),t._v("\nFor installation guide mod_lsapi PRO please visit "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#installation-3"}},[t._v("Installation")]),t._v(".")],1),t._v(" "),t._m(1282),t._v(" "),s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#mod-lsapi-customization"}},[t._v("mod_lsapi customization")]),t._v(":")],1),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-engine"}},[t._v("lsapi_engine")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-socket-path"}},[t._v("lsapi_socket_path")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-poll-timeout"}},[t._v("lsapi_poll_timeout")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-per-user"}},[t._v("lsapi_per_user")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-output-buffering"}},[t._v("lsapi_output_buffering")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-disable-reject-mode"}},[t._v("lsapi_disable_reject_mode")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-terminate-backends-on-exit"}},[t._v("lsapi_terminate_backends_on_exit")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-avoid-zombies"}},[t._v("lsapi_avoid_zombies")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-use-req-hostname"}},[t._v("lsapi_use_req_hostname")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-debug"}},[t._v("lsapi_debug")])],1)]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#tuning-lsphp-backend"}},[t._v("Tuning LSPHP backend")]),t._v(":")],1),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-set-env"}},[t._v("lsapi_set_env")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-set-env-path"}},[t._v("lsapi_set_env_path")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-children"}},[t._v("lsapi_backend_children")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-connect-tries"}},[t._v("lsapi_backend_connect_tries")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-connect-timeout"}},[t._v("lsapi_backend_connect_timeout")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-max-process-time"}},[t._v("lsapi_backend_max_process_time")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-pgrp-max-idle"}},[t._v("lsapi_backend_pgrp_max_idle")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-use-own-log"}},[t._v("lsapi_backend_use_own_log")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-common-own-log"}},[t._v("lsapi_backend_common_own_log")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-coredump"}},[t._v("lsapi_backend_coredump")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-accept-notify"}},[t._v("lsapi_backend_accept_notify")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-pgrp-max-reqs"}},[t._v("lsapi_backend_pgrp_max_reqs")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-pgrp-max-crashes"}},[t._v("lsapi_backend_pgrp_max_crashes")])],1)]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#connection-pool-mode"}},[t._v("Connection pool mode")]),t._v(":")],1),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-with-connection-pool"}},[t._v("lsapi_with_connection_pool")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-max-idle"}},[t._v("lsapi_backend_max_idle")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-max-reqs"}},[t._v("lsapi_backend_max_reqs")])],1)]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#criu-support-cloudlinux7-only"}},[t._v("CRIU support (CloudLinux 7 only)")]),t._v(":")],1),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-criu"}},[t._v("lsapi_criu")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-criu-socket-path"}},[t._v("lsapi_criu_socket_path")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-criu-imgs-dir-path"}},[t._v("lsapi_criu_imgs_dir_path")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-initial-start"}},[t._v("lsapi_backend_initial_start")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-criu-use-shm"}},[t._v("lsapi_criu_use_shm")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-backend-semtimedwait"}},[t._v("lsapi_backend_semtimedwait")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-reset-criu-on-apache-restart"}},[t._v("lsapi_reset_criu_on_apache_restart")])],1)]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#php-configuration-management"}},[t._v("PHP configuration management")]),t._v(":")],1),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-process-phpini"}},[t._v("lsapi_process_phpini")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-phpini"}},[t._v("lsapi_phpini")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-phprc"}},[t._v("lsapi_phprc")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-tmpdir"}},[t._v("lsapi_tmpdir")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-enable-user-ini"}},[t._v("lsapi_enable_user_ini")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-user-ini-homedir"}},[t._v("lsapi_user_ini_homedir")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-keep-http200"}},[t._v("lsapi_keep_http200")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-mod-php-behaviour"}},[t._v("lsapi_mod_php_behaviour")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#php-valuephp-admin-valuephp-flagphp-admin-flag"}},[t._v("php_value, php_admin_value, php_flag, php_admin_flag")])],1)]),t._v(" "),s("p",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#security"}},[t._v("Security")]),t._v(":")],1),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-use-suexec"}},[t._v("lsapi_use_suexec")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-user-group"}},[t._v("lsapi_user_group")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-uid-gid"}},[t._v("lsapi_uid_gid")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-use-default-uid"}},[t._v("lsapi_use_default_uid")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-target-perm"}},[t._v("lsapi_target_perm")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-paranoid"}},[t._v("lsapi_paranoid")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-check-document-root"}},[t._v("lsapi_check_document_root")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-disable-forced-pwd-var"}},[t._v("lsapi_disable_forced_pwd_var")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#lsapi-max-resend-buffer"}},[t._v("lsapi_max_resend_buffer")])],1)]),t._v(" "),t._m(1283),t._v(" "),t._m(1284),t._v(" "),t._m(1285),t._v(" "),t._m(1286),t._v(" "),s("hr"),t._v(" "),t._m(1287),t._v(" "),t._m(1288),t._v(" "),t._m(1289),t._v(" "),s("hr"),t._v(" "),t._m(1290),t._v(" "),t._m(1291),t._v(" "),t._m(1292),t._v(" "),s("hr"),t._v(" "),t._m(1293),t._v(" "),t._m(1294),t._v(" "),t._m(1295),t._v(" "),s("hr"),t._v(" "),t._m(1296),t._v(" "),t._m(1297),t._v(" "),t._m(1298),t._v(" "),s("hr"),t._v(" "),t._m(1299),t._v(" "),t._m(1300),t._v(" "),t._m(1301),t._v(" "),s("hr"),t._v(" "),t._m(1302),t._v(" "),t._m(1303),t._v(" "),t._m(1304),t._v(" "),s("hr"),t._v(" "),t._m(1305),t._v(" "),t._m(1306),t._v(" "),t._m(1307),t._v(" "),s("hr"),t._v(" "),t._m(1308),t._v(" "),t._m(1309),t._v(" "),t._m(1310),t._v(" "),s("hr"),t._v(" "),t._m(1311),t._v(" "),t._m(1312),t._v(" "),t._m(1313),t._v(" "),s("hr"),t._v(" "),t._m(1314),t._v(" "),t._m(1315),t._v(" "),t._m(1316),t._v(" "),s("hr"),t._v(" "),t._m(1317),t._v(" "),t._m(1318),t._v(" "),t._m(1319),t._v(" "),t._m(1320),t._v(" "),s("hr"),t._v(" "),t._m(1321),t._v(" "),t._m(1322),t._v(" "),t._m(1323),t._v(" "),s("hr"),t._v(" "),t._m(1324),t._v(" "),t._m(1325),t._v(" "),t._m(1326),t._v(" "),s("hr"),t._v(" "),t._m(1327),t._v(" "),t._m(1328),t._v(" "),t._m(1329),t._v(" "),s("hr"),t._v(" "),t._m(1330),t._v(" "),t._m(1331),t._v(" "),t._m(1332),t._v(" "),s("hr"),t._v(" "),t._m(1333),t._v(" "),t._m(1334),t._v(" "),t._m(1335),t._v(" "),s("hr"),t._v(" "),t._m(1336),t._v(" "),t._m(1337),t._v(" "),t._m(1338),t._v(" "),s("hr"),t._v(" "),t._m(1339),t._v(" "),t._m(1340),t._v(" "),t._m(1341),t._v(" "),s("hr"),t._v(" "),t._m(1342),t._v(" "),t._m(1343),t._v(" "),t._m(1344),t._v(" "),s("hr"),t._v(" "),t._m(1345),t._v(" "),t._m(1346),t._v(" "),t._m(1347),t._v(" "),s("hr"),t._v(" "),t._m(1348),t._v(" "),t._m(1349),t._v(" "),t._m(1350),t._v(" "),s("hr"),t._v(" "),t._m(1351),t._v(" "),t._m(1352),t._v(" "),t._m(1353),t._v(" "),s("hr"),t._v(" "),t._m(1354),t._v(" "),t._m(1355),t._v(" "),t._m(1356),t._v(" "),s("hr"),t._v(" "),t._m(1357),t._v(" "),t._m(1358),t._v(" "),t._m(1359),t._v(" "),t._m(1360),t._v(" "),s("hr"),t._v(" "),t._m(1361),t._v(" "),t._m(1362),t._v(" "),t._m(1363),t._v(" "),s("hr"),t._v(" "),t._m(1364),t._v(" "),t._m(1365),t._v(" "),t._m(1366),t._v(" "),s("hr"),t._v(" "),t._m(1367),t._v(" "),t._m(1368),t._v(" "),t._m(1369),t._v(" "),t._m(1370),t._v(" "),s("hr"),t._v(" "),t._m(1371),t._v(" "),t._m(1372),t._v(" "),t._m(1373),t._v(" "),s("hr"),t._v(" "),t._m(1374),t._v(" "),t._m(1375),t._v(" "),t._m(1376),t._v(" "),s("hr"),t._v(" "),t._m(1377),t._v(" "),t._m(1378),t._v(" "),t._m(1379),t._v(" "),s("hr"),t._v(" "),t._m(1380),t._v(" "),t._m(1381),t._v(" "),t._m(1382),t._v(" "),s("hr"),t._v(" "),t._m(1383),t._v(" "),t._m(1384),t._v(" "),t._m(1385),t._v(" "),s("hr"),t._v(" "),t._m(1386),t._v(" "),t._m(1387),t._v(" "),t._m(1388),t._v(" "),s("hr"),t._v(" "),t._m(1389),t._v(" "),t._m(1390),t._v(" "),t._m(1391),t._v(" "),t._m(1392),t._v(" "),s("hr"),t._v(" "),t._m(1393),t._v(" "),t._m(1394),t._v(" "),t._m(1395),t._v(" "),s("hr"),t._v(" "),t._m(1396),t._v(" "),t._m(1397),t._v(" "),t._m(1398),t._v(" "),s("hr"),t._v(" "),t._m(1399),t._v(" "),t._m(1400),t._v(" "),t._m(1401),t._v(" "),s("hr"),t._v(" "),t._m(1402),t._v(" "),t._m(1403),t._v(" "),t._m(1404),t._v(" "),s("hr"),t._v(" "),t._m(1405),t._v(" "),t._m(1406),t._v(" "),t._m(1407),t._v(" "),s("hr"),t._v(" "),t._m(1408),t._v(" "),t._m(1409),t._v(" "),t._m(1410),t._v(" "),s("hr"),t._v(" "),t._m(1411),t._v(" "),t._m(1412),t._v(" "),t._m(1413),t._v(" "),s("hr"),t._v(" "),t._m(1414),t._v(" "),t._m(1415),t._v(" "),t._m(1416),t._v(" "),s("hr"),t._v(" "),t._m(1417),t._v(" "),t._m(1418),t._v(" "),t._m(1419),t._v(" "),t._m(1420),t._v(" "),s("hr"),t._v(" "),t._m(1421),t._v(" "),t._m(1422),t._v(" "),t._m(1423),t._v(" "),s("hr"),t._v(" "),t._m(1424),t._v(" "),t._m(1425),t._v(" "),t._m(1426),t._v(" "),s("hr"),t._v(" "),t._m(1427),t._v(" "),t._m(1428),t._v(" "),t._m(1429),t._v(" "),s("hr"),t._v(" "),t._m(1430),t._v(" "),t._m(1431),t._v(" "),t._m(1432),t._v(" "),s("hr"),t._v(" "),t._m(1433),t._v(" "),t._m(1434),t._v(" "),t._m(1435),t._v(" "),s("hr"),t._v(" "),t._m(1436),t._v(" "),t._m(1437),t._v(" "),t._m(1438),t._v(" "),s("hr"),t._v(" "),t._m(1439),t._v(" "),t._m(1440),t._v(" "),t._m(1441),t._v(" "),s("hr"),t._v(" "),t._m(1442),t._v(" "),t._m(1443),t._v(" "),t._m(1444),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#apache-mod-lsapi-pro"}},[t._v("Apache mod_lsapi PRO CLI tools")]),t._v(".")],1),t._v(" "),t._m(1445),t._v(" "),t._m(1446),t._v(" "),s("p",[t._v("mod_lsapi errors will be located in error_log and sulsphp_log.\nNote that errors can appear in both logs at the same time, and you might need to refer to both of them to solve the issue.")]),t._v(" "),s("p",[t._v("See next table for more details:")]),t._v(" "),s("table",[t._m(1447),t._v(" "),s("tbody",[t._m(1448),t._v(" "),t._m(1449),t._v(" "),t._m(1450),t._v(" "),s("tr",[s("td",[t._v("Error sending request (lsphp is killed?): ReceiveLSHeader: nothing to read from backend socket, referer: http://XXXXXXX  Child process with pid: XXXXX was killed by signal: 11, core dump: 0")]),t._v(" "),s("td",[t._v("No need to check this log.")]),t._v(" "),s("td",[t._v("lsphp has crashed. Next slide will explain what to do (core dump creating). Also, check configuration options for apc and suhosin in php.ini. Once you have a core file generated at DocumentRoot contact "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloudlinux.zendesk.com/"),s("OutboundLink")],1),t._v(" so we can investigate the cause.")])]),t._v(" "),t._m(1451),t._v(" "),t._m(1452),t._v(" "),t._m(1453),t._v(" "),t._m(1454),t._v(" "),t._m(1455),t._v(" "),t._m(1456),t._v(" "),t._m(1457),t._v(" "),t._m(1458),t._v(" "),t._m(1459),t._v(" "),t._m(1460),t._v(" "),t._m(1461),t._v(" "),s("tr",[s("td",[t._v("Connect to backend rejected on sending request(POST /XXXXX HTTP/1.1); uri(/XXXXX)")]),t._v(" "),s("td",[t._v("No need to check this log.")]),t._v(" "),s("td",[t._v("Set "),t._m(1462),t._v(" in your "),t._m(1463),t._v(" and reload Apache. This way LSPHP daemon will put requests that cannot be served by LSPHP daemon right away into infinite queue, until one or more LSPHP daemon becomes free. Visit "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#configuration-references"}},[t._v("Configuration Reference")]),t._v(" for more info.")],1)])])]),t._v(" "),t._m(1464),t._v(" "),t._m(1465),t._m(1466),t._v("\nThis will:"),s("br"),t._v("  \n- Install: "),s("span",{staticClass:"notranslate"},[t._v(" /usr/lib/apache/mod_lsapi. ")]),t._v(" so (or to another correct httpd modules path)"),s("br"),t._v("\n- Install: "),s("span",{staticClass:"notranslate"},[t._v(" /usr/sbin/sulsphp ")]),t._v(" "),t._m(1467),t._v(" "),s("p",[t._v("Check if SuExecUserGroup specified for virtual hosts. This parameter is used by mod_lsapi for user identification.")]),t._v(" "),t._m(1468),t._v(" "),t._m(1469),t._v(" "),t._m(1470),t._v("\nThen restart cron service.\n"),t._m(1471),t._v(" "),s("p",[t._v("If you need to run PHP using mod_lsapi using users with UID < 99, you would need to re-compile sulsphp:")]),t._v(" "),t._m(1472),t._v("\nwill be installed"),s("br"),t._v("  \n- Installing: "),s("span",{staticClass:"notranslate"},[t._v(" /usr/lib/apache/mod_lsapi.so ")]),t._v(" (or another httpd modules path)"),s("br"),t._v("\n- Installing: "),s("span",{staticClass:"notranslate"},[t._v(" /usr/sbin/sulsphp ")]),t._v(" "),t._m(1473),t._v(" "),t._m(1474),t._v("\nWill be installed:"),s("br"),t._v("\n- Installing: "),s("span",{staticClass:"notranslate"},[t._v(" /usr/lib/apache/mod_lsapi.so ")]),t._v(" (or another httpd modules path)"),s("br"),t._v("\n- Installing: "),s("span",{staticClass:"notranslate"},[t._v(" /usr/sbin/sulsphp ")]),t._v(" "),t._m(1475),t._v(" "),t._m(1476),t._v(" "),s("p",[t._v("This is safe solution for easyapache rebuilding and cpanel-mod-lsapi updating.")]),t._v(" "),t._m(1477),t._v(" "),s("p",[t._v("Make php.ini for suhosin as recommended below:\n")]),t._m(1478),t._v(" "),t._m(1479),t._v(" "),s("p",[t._v("Make php.ini for APC as recommended below:\n")]),t._m(1480),t._v("\nshared memory should be not less than 32MB\n"),t._m(1481),t._v(" "),s("p",[t._v("This means that lsphp was crashed. The solution is:")]),t._v(" "),s("ul",[s("li",[t._v("Check if apc for user enabled. Tune its options as described in previous slide.")]),t._v(" "),s("li",[t._v("Check if suhosin is enabled for user. Tune its options as described in this article.")]),t._v(" "),s("li",[t._v("If previous items do not help, contact us at "),s("a",{attrs:{href:"https://helpdesk.cloudlinux.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://helpdesk.cloudlinux.com/"),s("OutboundLink")],1)])]),t._v(" "),t._m(1482),t._v(" "),t._m(1483),t._v(" "),t._m(1484),t._v(" "),t._m(1485),t._v(" "),t._m(1486),t._v(" "),t._m(1487),t._v(" "),t._m(1488),t._v("\nwhere "),s("span",{staticClass:"notranslate"},[t._v("user1")]),t._v(" is the username for which lsphp crashes.\n"),t._m(1489),t._v(" "),t._m(1490),t._v("\nSubstring "),s("span",{staticClass:"notranslate"},[t._v("“-c 200000”")]),t._v(" must be replaced with "),s("span",{staticClass:"notranslate"},[t._v("“-c unlimited”")]),t._v(" .\n"),t._m(1491),t._v(" "),t._m(1492),t._v(" "),t._m(1493),t._v(" "),t._m(1494),t._v(" "),t._m(1495),t._v(" "),t._m(1496),t._v(" "),t._m(1497),t._v(" "),t._m(1498),t._v(" "),t._m(1499),t._v("\nis not empty.\n"),s("p",[t._v("If it is empty:")]),t._v(" "),t._m(1500),t._v(" "),t._m(1501),t._v(" "),t._m(1502),t._m(1503),t._v(" "),t._m(1504),t._v(" "),t._m(1505),t._v(" "),t._m(1506),t._v(" "),s("p",[t._v("See also mod_lsapi PRO FAQ "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/articles/360025828414-Apache-mod-lsapi-PRO-FAQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(1507),t._v(" "),t._m(1508),t._v(" "),s("p",[t._v("CRIU is "),t._m(1509),t._v(" , (pronounced "),s("span",{staticClass:"notranslate"},[t._v(" kree-oo ")]),t._v(" ), is a software tool for Linux operating system. Using this tool, you can freeze a running application (or part of it) and checkpoint it as a collection of files on disk. You can then use the files to restore the application and run it exactly as it was during the time of freeze (more information on the link "),s("a",{attrs:{href:"https://criu.org/Main_Page",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://criu.org/Main_Page"),s("OutboundLink")],1),t._v(" ).")]),t._v(" "),s("p",[t._v("mod_lsapi-1.1-1 is the first beta version with freezing PHP implemented. mod_lsapi now supports the following parameters:")]),t._v(" "),t._m(1510),t._v(" "),s("p",[t._v("Example:\n")]),t._m(1511),t._v(" "),t._m(1512),t._v(" "),t._m(1513),t._v(" "),t._m(1514),t._v(" "),t._m(1515),t._v(" "),t._m(1516),t._m(1517),t._v("\nOr it would be technically better to provide a small override of service file rather than copying the whole new version in "),s("span",{staticClass:"notranslate"},[t._v(" /etc/systemd/system ")]),t._v(" "),s("p",[s("a",{attrs:{href:"http://www.freedesktop.org/software/systemd/man/systemd.unit.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.freedesktop.org/software/systemd/man/systemd.unit.html"),s("OutboundLink")],1)]),t._v(" "),t._m(1518),t._v(" "),s("p",[t._v("and")]),t._v(" "),t._m(1519),t._v(" "),t._m(1520),t._v(" "),s("p",[t._v("Criu is installed with dependency to mod_lsapi-1.1 package. To activate it:")]),t._v(" "),t._m(1521),t._v(" "),t._m(1522),t._v(" "),t._m(1523),t._v(" "),t._m(1524),t._v(" "),t._m(1525),t._v(" "),t._m(1526),t._v(" "),t._m(1527),t._v(" "),t._m(1528),t._v(" "),s("p",[t._v("On the next restart of Apache all of the images will be cleaned.")]),t._v(" "),t._m(1529),t._v(" "),t._m(1530),t._v(" "),t._m(1531),t._v(" "),s("p",[t._v("Current mod_lsapi allows cleaning all images only with one flag file.")]),t._v(" "),t._m(1532),t._v(" "),s("p",[t._v("Steps to do :")]),t._v(" "),t._m(1533),t._v(" "),s("p",[t._v("On the next requests to all virtual hosts images will be recreated (deleted first and created again later - it depends on lsapi_backend_initial_start value).")]),t._v(" "),t._m(1534),t._v(" "),t._m(1535),t._v(" "),t._m(1536),t._v(" "),t._m(1537),t._v(" "),t._m(1538),t._v(" "),s("p",[t._v("This mode is enabled by default and creates a separate lsphp process for each virtual host.")]),t._v(" "),t._m(1539),t._v(" "),t._m(1540),t._v(" "),t._m(1541),t._v(" "),s("p",[t._v("CloudLinux uses various ways to integrate with existing system.")]),t._v(" "),t._m(1542),t._v(" "),s("p",[t._v("pam_lve.so is a PAM module that sets up LVE environment. It provides easy way to setup LVE for SSH sessions, as well as other PAM enabled applications, such as crontab, su, etc.")]),t._v(" "),s("p",[t._v("pam_lve.so is installed by default when you convert existing server.")]),t._v(" "),s("p",[t._v("Installation:")]),t._v(" "),t._m(1543),t._v(" "),t._m(1544),t._v(" "),t._m(1545),t._v(" "),s("p",[t._v("In this line:")]),t._v(" "),t._m(1546),t._v(" "),t._m(1547),t._v(" "),t._m(1548),t._v(" "),s("p",[t._v("By default, module will not place users with group wheel into lve. If you want to use different group to define users that will not be placed into LVE by pam_lve - pass it as the 3rd argument.")]),t._v(" "),t._m(1549),t._v(" "),s("p",[t._v("For preventing cases when user enters under usual user (using ssh) and then tries to enter as super user (via sudo or su) - pam_sulve was created, which tries to enter to LVE=1 and leaves it right away. If action fails, user gets message:")]),t._v(" "),t._m(1550),t._v(" "),s("p",[t._v("To check if pam_sulve is enabled on the server:")]),t._v(" "),t._m(1551),t._v(" "),s("p",[t._v("should not be empty.")]),t._v(" "),t._m(1552),t._v(" "),s("p",[t._v("LVE wrappers are the set of tools that allow system administrator to run various users, programs & daemons within Lightweight Virtual Environment. This allows system administrator to have control over system resources such program can have. Additionally it prevents misbehaving programs running within LVE to drain system resources and slow down or take down the whole system. The tools are provided by lve-wrappers RPM.")]),t._v(" "),s("p",[t._v("You can install them by running:")]),t._v(" "),t._m(1553),t._v(" "),t._m(1554),t._v(" "),t._m(1555),t._v(" "),t._m(1556),t._v(" "),t._m(1557),t._v(" "),t._m(1558),t._v(" "),t._m(1559),t._v(" "),t._m(1560),t._v(" "),s("p",[t._v("The program will be executed within LVE with ID matching user's id.")]),t._v(" "),t._m(1561),t._v(" "),t._m(1562),t._v(" "),t._m(1563),t._v(" "),t._m(1564),t._v(" "),t._m(1565),t._v(" "),t._m(1566),t._v(" "),t._m(1567),t._v(" "),t._m(1568),t._v(" "),t._m(1569),t._v(" "),s("ul",[s("li",[t._v("Download file: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz"),s("OutboundLink")],1)]),t._v(" "),t._m(1570),t._v(" "),s("li",[t._v("And apply this patch to your Apache source code.")])]),t._v(" "),t._m(1571),t._v(" "),t._m(1572),t._v(" "),t._m(1573),t._v(" "),t._m(1574),t._v(" "),t._m(1575),t._v(" "),s("p",[t._v("This can be overwritten via LVEId or LVEUser parameter on the Directory level.")]),t._v(" "),t._m(1576),t._v(" "),s("p",[t._v("The order of detection looks as follows:")]),t._v(" "),t._m(1577),t._v(" "),t._m(1578),t._v(" "),s("p",[t._v("Example:")]),t._v(" "),t._m(1579),t._v(" "),t._m(1580),t._v(" "),t._m(1581),t._v(" "),s("p",[t._v("Min UID is read on Apache start/restart and stored in the memory during apache runtime.")]),t._v(" "),t._m(1582),t._v(" "),s("p",[t._v("The following message should appear:")]),t._v(" "),t._m(1583),t._v(" "),s("p",[t._v("This means that the correct APR is installed with mod_hostinglimits.")]),t._v(" "),t._m(1584),t._v(" "),t._m(1585),t._v(" "),s("p",[t._v("LogFormat")]),t._v(" "),t._m(1586),t._v(" "),s("p",[t._v("combined")]),t._v(" "),s("p",[t._v("shows in access_log the following info:")]),t._v(" "),t._m(1587),t._v(" "),t._m(1588),t._v(" "),t._m(1589),t._v(" "),t._m(1590),t._v(" "),t._m(1591),t._v(" "),t._m(1592),t._v(" "),t._m(1593),t._v(" "),t._m(1594),t._v(" "),t._m(1595),t._v(" "),t._m(1596),t._v(" "),t._m(1597),t._v(" "),t._m(1598),t._v(" "),t._m(1599),t._v(" "),t._m(1600),t._v(" "),t._m(1601),t._v(" "),t._m(1602),t._v(" "),s("p",[t._v("Included by default in H-Sphere 3.5+")]),t._v(" "),t._m(1603),t._v(" "),t._m(1604),t._v(" "),t._m(1605),t._v(" "),s("p",[t._v("Compile from the source: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/mod_hostinglimits.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/mod_hostinglimits.tar.gz"),s("OutboundLink")],1)]),t._v(" "),t._m(1606),t._v(" "),t._m(1607),t._v(" "),t._m(1608),t._v(" "),t._m(1609),t._v(" "),t._m(1610),t._v(" "),s("p",[t._v("Prevents apache from serving files not owned by user, stopping symlink attacks against php config files.")]),t._v(" "),t._m(1611),t._v(" "),t._m(1612),t._v(" "),s("hr"),t._v(" "),t._m(1613),t._v(" "),s("table",[t._m(1614),t._v(" "),s("tbody",[t._m(1615),t._v(" "),t._m(1616),t._v(" "),t._m(1617),t._v(" "),t._m(1618),t._v(" "),s("tr",[s("td",[s("strong",[s("font",{attrs:{color:"Red"}},[t._v("Status")])],1)]),t._v(" "),s("td",[s("font",{attrs:{color:"Red"}},[t._v("deprecated")])],1)])])]),t._v(" "),s("p",[t._v("Prevents Apache from exiting if LVE is not available.")]),t._v(" "),t._m(1619),t._v(" "),t._m(1620),t._v(" "),s("hr"),t._v(" "),t._m(1621),t._v(" "),t._m(1622),t._v(" "),s("p",[t._v("This directive allows to list handlers which will be intercepted and placed into LVE.")]),t._v(" "),t._m(1623),t._v(" "),t._m(1624),t._v(" "),s("hr"),t._v(" "),t._m(1625),t._v(" "),t._m(1626),t._v(" "),s("p",[t._v("This directive works together with AllowHandlers, to exclude some handlers from being allowed in LVE.")]),t._v(" "),t._m(1627),t._v(" "),t._m(1628),t._v(" "),t._m(1629),t._v(" "),s("hr"),t._v(" "),t._m(1630),t._v(" "),t._m(1631),t._v(" "),s("p",[t._v("Specifies ErrorCode to use on LVE error (like too many concurrent processes running).")]),t._v(" "),s("p",[t._v("The message that will be displayed by default is:\n")]),t._m(1632),t._v(" "),t._m(1633),t._v(" "),s("p",[t._v("Example:\n")]),t._m(1634),t._v(" "),s("hr"),t._v(" "),t._m(1635),t._v(" "),t._m(1636),t._v(" "),s("p",[t._v("Specifies LVE id for particular directory")]),t._v(" "),t._m(1637),t._v(" "),t._m(1638),t._v(" "),s("hr"),t._v(" "),t._m(1639),t._v(" "),t._m(1640),t._v(" "),s("p",[t._v("Specifies LVE ID for particular directory.")]),t._v(" "),t._m(1641),t._v(" "),t._m(1642),t._v(" "),s("hr"),t._v(" "),t._m(1643),t._v(" "),t._m(1644),t._v(" "),t._m(1645),t._v(" "),t._m(1646),t._v(" "),t._m(1647),t._v(" "),t._m(1648),t._v(" "),t._m(1649),t._v(" "),t._m(1650),t._v(" "),s("hr"),t._v(" "),t._m(1651),t._v(" "),t._m(1652),t._v(" "),t._m(1653),t._v(" "),t._m(1654),t._v(" "),t._m(1655),t._v(" "),s("hr"),t._v(" "),t._m(1656),t._v(" "),t._m(1657),t._v(" "),s("p",[t._v("Specifies virtual hosts to provide extra debugging information.")]),t._v(" "),t._m(1658),t._v(" "),t._m(1659),t._v(" "),s("hr"),t._v(" "),t._m(1660),t._v(" "),s("table",[t._m(1661),t._v(" "),s("tbody",[t._m(1662),t._v(" "),s("tr",[t._m(1663),t._v(" "),s("td",[s("code",[t._v("LVEParseMode CONF")]),t._v(" "),s("code",[t._v("PATH")]),t._v(" "),s("code",[t._v("OWNER")]),t._v(" "),s("router-link",{attrs:{to:"/limits/#redis-support-for-hostinglimits"}},[s("code",[t._v("REDIS")])])],1)]),t._v(" "),t._m(1664),t._v(" "),t._m(1665)])]),t._v(" "),s("ul",[t._m(1666),t._v(" "),t._m(1667),t._v(" "),t._m(1668),t._v(" "),s("li",[s("p",[t._v("In "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/limits/#redis-support-for-hostinglimits"}},[s("code",[t._v("REDIS")])])],1),t._v(" mode, LVE ID is retrieved from Redis database.")])])]),t._v(" "),t._m(1669),t._v(" "),t._m(1670),t._v(" "),s("hr"),t._v(" "),t._m(1671),t._v(" "),t._m(1672),t._v(" "),s("p",[t._v("Used to extract usersname via path.")]),t._v(" "),t._m(1673),t._v(" "),t._m(1674),t._v(" "),s("hr"),t._v(" "),t._m(1675),t._v(" "),t._m(1676),t._v(" "),t._m(1677),t._v(" "),t._m(1678),t._m(1679),t._v(" "),t._m(1680),t._v(" "),t._m(1681),t._v(" "),t._m(1682),t._v(" "),s("p",[t._v("Available for RPM based panels, EasyApache 4 and DirectAdmin.")]),t._v(" "),t._m(1683),t._v(" "),s("p",[t._v("Redis support provides a way to query Redis database for LVE id, based on domain in the HTTP request. Given a database like:")]),t._v(" "),t._m(1684),t._v(" "),s("p",[t._v("The module will retrieve corresponding LVE id from the database.")]),t._v(" "),s("p",[t._v("To enable Redis support, compile from source: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/mod_hostinglimits.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/mod_hostinglimits.tar.gz"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("The compilation requires hiredis library.")]),t._v(" "),t._m(1685),t._v(" "),s("p",[t._v("To enable Redis mode, specify:")]),t._v(" "),t._m(1686),t._v(" "),t._m(1687),t._v(" "),t._m(1688),t._v(" "),s("p",[t._v("Used to specify location of Redis socket.")]),t._v(" "),t._m(1689),t._v(" "),t._m(1690),t._v(" "),t._m(1691),t._v(" "),t._m(1692),t._v(" "),s("p",[t._v("Used to specify IP and port to connect to Redis instead of using Socket")]),t._v(" "),t._m(1693),t._v(" "),t._m(1694),t._v(" "),t._m(1695),t._v(" "),t._m(1696),t._v(" "),s("p",[t._v("Number of seconds to wait before attempting to reconnect to Redis after the last unsuccessful attempt to connect.")]),t._v(" "),t._m(1697),t._v(" "),t._m(1698),t._v(" "),t._m(1699),t._v(" "),s("p",[t._v("CloudLinux offers JSON API for "),s("router-link",{attrs:{to:"/command-line_tools/#lvectl"}},[t._v("lvectl")]),t._v(" via WHM. You can access it using the following URL:")],1),t._v(" "),t._m(1700),t._v(" "),s("p",[t._v("The output will look as follows:")]),t._v(" "),t._m(1701),t._v(" "),t._m(1702),t._v(" "),s("table",[t._m(1703),t._v(" "),s("tbody",[t._m(1704),t._v(" "),s("tr",[t._m(1705),t._v(" "),s("td",[t._v("should match "),s("router-link",{attrs:{to:"/command-line_tools/#lvectl"}},[t._v("lvectl")]),t._v(" command")],1)])])]),t._v(" "),t._m(1706),t._v(" "),t._m(1707),t._v(" "),t._m(1708),t._v(" "),t._m(1709),t._v(" "),t._m(1710),t._v(" "),t._m(1711),t._v(" "),t._m(1712),t._v(" "),t._m(1713),t._v(" "),t._m(1714),t._v(" "),t._m(1715),t._v(" "),s("p",[t._v("You can use the following commands that allow to specify user name instead of user ID:")]),t._v(" "),t._m(1716),t._v(" "),t._m(1717),t._v(" "),t._m(1718),t._v(" "),s("p",[t._v("mod_proctitle is a module for gathering URL information per request. It is available only for Apache 2.4 now.")]),t._v(" "),t._m(1719),t._v(" "),t._m(1720),t._v(" "),t._m(1721),t._v(" "),s("p",[t._v("cPanel EasyApache 4:")]),t._v(" "),t._m(1722),t._v("\nDirectAdmin:\n"),t._m(1723),t._v(" "),t._m(1724),t._v(" "),t._m(1725),t._v(" "),s("p",[t._v("For reading information saved by module use the following script (the script is not in the package):\n")]),t._m(1726),t._v("\nHere are the examples of saved by module:\n"),t._m(1727),t._v(" "),s("p",[t._v("Request information can contain:")]),t._v(" "),t._m(1728),t._v(" "),t._m(1729),t._v(" "),t._m(1730),t._v(" "),t._m(1731),t._v(" "),t._m(1732),t._v(" "),t._m(1733),t._v(" "),t._m(1734),t._v(" "),t._m(1735),t._v(" "),t._m(1736),t._v(" "),t._m(1737),t._v("\nThe package also brings its own utility for installing specific suEXEC:\n"),t._m(1738),t._v(" "),s("p",[t._v("There are two ways to set up new suEXEC binary:")]),t._v(" "),t._m(1739),t._v(" "),t._m(1740),t._v(" "),t._m(1741),t._v(" "),t._m(1742),t._v(" "),t._m(1743),t._v(" "),t._m(1744),t._v(" "),s("p",[t._v("Result of both methods:\n")]),t._m(1745),t._v(" "),s("p",[t._v("Here is standard suEXEC for CloudLinux 6 clean server:\n")]),t._m(1746),t._v(" "),t._m(1747),t._m(1748),t._v(" "),s("p",[t._v("Description of other switch_suexec parameters:")]),t._v(" "),t._m(1749),t._v(" "),s("p",[t._v("For most cases -p and -o options for standard Apache are useless.")]),t._v(" "),s("p",[t._v("Correct suEXEC will be restored even after httpd update or reinstall.")]),t._v(" "),s("p",[t._v("List of pre-built suEXEC binary files stored without suid bit and not executable.")]),t._v(" "),t._m(1750),t._v(" "),s("p",[t._v("For installation run the command:\n")]),t._m(1751),t._v(" "),t._m(1752),t._v(" "),s("p",[t._v("If you need suEXEC with custom parameters absent in current set of alt-suexec, please submit a ticket on "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloudlinux.zendesk.com"),s("OutboundLink")],1),t._v(" and we will add new suEXEC with needed parameters.")]),t._v(" "),t._m(1753),t._v(" "),s("p",[t._v("Recently, cPanel added support for the "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/CKB/Nginx",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nginx"),s("OutboundLink")],1),t._v(" web server and for "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/CKB/How+to+Install+a+Python+WSGI+Application",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://documentation.cpanel.net/display/CKB/How+to+Install+a+Node.js+Application",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),s("OutboundLink")],1),t._v(" applications.")]),t._v(" "),s("p",[t._v("We have checked the compatibility of ea-nginx and cPanel application Selectors with CloudLinux LVE and CageFS.\nAll tests passed successfully and all processes started by ea-nginx and cPanel selectors are launched inside LVE and CageFS.")]),t._v(" "),s("p",[t._v("Don’t forget, you can use Ruby/Python/Node.js Selectors from CloudLinux. Here you can find a large number of supported versions for Ruby/Python/Node.js applications.")]),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#python-selector"}},[t._v("CloudLinux Python Selector")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#ruby-selector"}},[t._v("CloudLinux Ruby Selector")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_os_components/#node-js-selector"}},[t._v("CloudLinux NodeJS Selector")])],1)]),t._v(" "),t._m(1754),t._v(" "),t._m(1755),t._v(" "),t._m(1756),t._v(" "),t._m(1757),t._v(" "),s("p",[t._v("If we are talking about shared hosting where different accounts are launched on the same server, the installation of this module is necessary to ensure security.")]),t._v(" "),t._m(1758),t._v(" "),s("p",[t._v("The DirectAdmin and CloudLinux (for httpd, httpd24-httpd and cPanel EasyApache 4) both provide a patched version of suexec. For other distributions you can use patches available here:\n"),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/da/cl-apache-patches.tar.gz"),s("OutboundLink")],1)]),t._v(" "),t._m(1759),t._v(" "),t._m(1760),t._v(" "),t._m(1761),t._v(" "),t._m(1762),t._v(" "),t._m(1763),t._v(" "),t._m(1764),t._v(" "),t._m(1765),t._v(" "),t._m(1766),t._v(" "),t._m(1767),t._v(" "),t._m(1768),t._v(" "),s("p",[t._v("The installation process varies depending on the control panel and Apache.")]),t._v(" "),t._m(1769),t._v(" "),t._m(1770),t._v(" "),t._m(1771),t._v(" "),t._m(1772),t._v(" "),t._m(1773),t._v(" "),t._m(1774),t._v(" "),t._m(1775),t._v(" "),s("p",[t._v("This module is integrated into Apache for Plesk control panel by default.")]),t._v(" "),t._m(1776),t._v(" "),s("p",[t._v("This module is integrated into Apache for DirectAdmin control panel by default.")]),t._v(" "),t._m(1777),t._v(" "),s("p",[t._v("This module is integrated into httpd Apache rpm provided by Cloudlinux by default.")]),t._v(" "),s("p",[t._v("If you are using an alternative Apache - "),s("a",{attrs:{href:"https://www.cloudlinux.com/cloudlinux-os-blog/entry/httpd24-updated-for-cloudlinux-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("httpd24"),s("OutboundLink")],1),t._v(", nothing has to be done as this module is also integrated into httpd24-httpd Apache rpm provided by Cloudlinux by default.")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"cloudlinux-os-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-os-components","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux OS components")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"reseller-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reseller-limits","aria-hidden":"true"}},[this._v("#")]),this._v(" Reseller limits")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v("Reseller limits")]),this._v(" is a feature that allows hosters to set limits for the resources each reseller can operate with. Hoster also provides controls to the reseller on what resources each reseller’s end user will have. Reseller limits set by a hoster limit the total amount of resources resellers’ end users can consume altogether.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"types-of-users"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types-of-users","aria-hidden":"true"}},[this._v("#")]),this._v(" Types of Users")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Starting from the "),e("strong",[this._v("version 3.0-18")]),this._v(", "),e("span",{staticClass:"notranslate"},[this._v("LVE Manager")]),this._v(" operates with four types of users and their resource usage limits.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("strong",[t._v("End User")])]),t._v(" is a type of user that purchases hosting directly from a hoster and uses it for his own purposes;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(" is a type of user that buys hosting from a hoster and resells it to his end users;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller’s End User")])]),t._v(" is a type of user that purchases hosting from a reseller and uses it for his own purposes.")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller’s End User (no Reseller limit)")])]),t._v(" is a type of user that purchases hosting from a reseller and uses it for his own purposes but does not have limits set by a reseller. These limits are set by the hoster.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"types-of-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types-of-limits","aria-hidden":"true"}},[this._v("#")]),this._v(" Types of Limits")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Limits")])]),t._v(" "),s("td",[s("strong",[t._v("Reseller limits")])]),t._v(" "),s("td",[s("strong",[t._v("Reseller’s end user limits")])]),t._v(" "),s("td",[s("strong",[t._v("Hoster’s end user limits")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" [SPEED")])]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" [PMEM")])]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" [IO")])]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" [IOPS")])]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" [EP")])]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" [NPROC")])]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" Inodes ")])]),t._v(" "),s("td",[t._v("Yes (default for all users)")]),t._v(" "),s("td",[t._v("No")]),t._v(" "),s("td",[t._v("Yes")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" MySQL Limits ")])]),t._v(" "),s("td",[t._v("Yes (supported only for "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ALL ")]),t._v(" mode)")]),t._v(" "),s("td",[t._v("Yes (supported only for "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ALL ")]),t._v(" mode)")]),t._v(" "),s("td",[t._v("Yes")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"what-happens-when-reseller-or-reseller-s-end-user-hits-the-limit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-happens-when-reseller-or-reseller-s-end-user-hits-the-limit","aria-hidden":"true"}},[this._v("#")]),this._v(" What happens when reseller or reseller's end user hits the limit?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[e("strong",[this._v("Reseller")])]),this._v(" is a virtual entity. So, he cannot hit the limit. There is reseller's end user with the same name as reseller. This end user is limited as any other reseller's end user. When hoster sets Reseller limits he limits the group of resellers' end users including reseller's end user with the same name as the reseller.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Reseller's end user can hit reseller limit when end user's limit is bigger than reseller's limit. In such case end user will be limited by reseller limit.")]),this._v(" "),e("li",[this._v("Reseller limit can be hit when all resellers’ end users in total use as much resources as reseller limit.")]),this._v(" "),e("li",[this._v("Reseller's end user can hit his limit when end user limit is lower than reseller limit. In such case end user will be limited by his limit.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Requirements")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Reseller Limits are only supported in kernel starting with the version "),s("strong",[t._v("3.10.0-714.10.2.lve1.5.3.el7")]),t._v(" for "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux 7 kernel ")]),t._v(" and "),s("strong",[t._v("3.10.0-714.10.2.lve1.5.3.el6h")]),t._v(" for "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux 6 Hybrid kernel ")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("If you are using CloudLinux 6 kernel you would have to migrate to "),e("span",{staticClass:"notranslate"},[this._v("CloudLinux 6 Hybrid")]),this._v(" kernel first in order to be able to use new Reseller Limits functionality.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-enabling-and-disabling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-enabling-and-disabling","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation, enabling, and disabling")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("p",[t._v("Install "),s("span",{staticClass:"notranslate"},[t._v("LVE Manager")]),t._v(" with "),s("span",{staticClass:"notranslate"},[t._v("Reseller Limit")]),t._v(" support or update it up to version 3.0-18 (or later) by running the following commands:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum install kernel lve cagefs lvemanager lve-utils lve-stats --disableexcludes=main\n")])])])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum update\n")])])])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("reboot\n")])])])]),t._v(" "),s("p",[t._v("For "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux 6 Hybrid")]),t._v(" kernel with "),s("span",{staticClass:"notranslate"},[t._v("Reseller Limit")]),t._v(" support, please run the following commands:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum install kernel lve cagefs lvemanager lve-utils lve-stats --disableexcludes=main\n")])])])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yum update\n")])])])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("reboot\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"how-to-enable-and-disable-reseller-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-enable-and-disable-reseller-limits","aria-hidden":"true"}},[this._v("#")]),this._v(" How to enable and disable Reseller limits")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To start using a new feature "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("Reseller limits")])]),this._v(" you would have to enable reseller limits for a particular reseller first.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To enable "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("Reseller")])]),this._v(" access, please do the following:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("Log in with a Hoster access.")]),t._v(" "),s("li",[t._v("You can create a new account or give privileges to an existing account.")]),t._v(" "),s("li",[t._v("For new account tick a checkbox "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Make this account a reseller")])]),t._v(" in the "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Reseller Settings")])]),t._v(" box.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/resellersettings.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("If checkbox "),s("strong",[s("span",{staticClass:"notranslate"},[t._v("Make the account own itself")]),t._v(" (i.e., the user can modify the account)")]),t._v("  is not selected when creating Reseller in cPanel WHM, then user account "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(" will belong to root, not to reseller "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(". In such case, the user "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(" will be managed by the root. So, LVE limits specified by the root will be applied to the user "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(". User "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(" will not be limited by "),s("span",{staticClass:"notranslate"},[t._v("Reseller limits")]),t._v(".")]),t._v(" "),s("p",[t._v("When the checkbox is selected, user "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Reseller")])]),t._v(" will be limited by Reseller limits (in addition to personal user limits set by Reseller).")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"4"}},[s("li",[t._v("Give privileges to the proper Reseller account to make all features work.")]),t._v(" "),s("li",[t._v("Go to the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Users")])]),t._v(" tab and choose a particular reseller you want to enable Reseller limits for and click on the pencil icon.")]),t._v(" "),s("li",[t._v("In the pop-up move the slider "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Manage Limits")])]),t._v(". Click "),s("span",{staticClass:"notranslate"},[s("em",[t._v("AGREE")])]),t._v(" for the question "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Are you sure you want to enable limits")])]),t._v(", set limits for that reseller if you you want them to be different from the default limits, otherwise default server limits will be applied. Than click the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Save")])]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/hmfile_hash_00664772.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Resellers’ end users can use as much resources in total as it is provided for that particular reseller by a hoster. The summary usage of all end users that belong to that particular reseller will not exceed the amount of resources provided to reseller by a hoster. If no Reseller Limits are set, reseller’s end user will be limited by default limits set by a hoster.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"how-to-disable-reseller-limits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-disable-reseller-limits","aria-hidden":"true"}},[this._v("#")]),this._v(" How to disable Reseller limits")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("Go to the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Users")])]),t._v(" tab, choose a particular reseller and click on the pencil icon.")]),t._v(" "),s("li",[t._v("In the pop-up move the slider "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Manage Limits")])]),t._v(". Click "),s("span",{staticClass:"notranslate"},[s("em",[t._v("AGREE")])]),t._v(" for the question "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Are you sure you want to disable limits")])]),t._v(". Than click "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Save")])]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("If you disable Reseller limits everything will work the same as before. All the end user limits set by the reseller will be saved. But all custom default reseller limits will be disabled.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"lve-stats-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lve-stats-2","aria-hidden":"true"}},[this._v("#")]),this._v(" LVE-Stats 2")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-2","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"why-is-it-needed"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#why-is-it-needed","aria-hidden":"true"}},[this._v("#")]),this._v(" Why is it needed?")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Old LVE-statistics store averages as integer numbers, as % of "),s("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" usage. If user used 100% of "),s("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" for 1 second within an hour, it is only 1-2% for a minute, and 0 for 5 minutes. Data in old LVE-statistics is aggregated to 1-hour intervals. So, such peak load will noExat be recorded and we need to store data with much higher precision.")]),t._v(" "),s("li",[t._v("100% "),s("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" usage in old lve statistics means “all cores”. On 32 core servers usage is not visible for most users (as they are limited to 1 core).")]),t._v(" "),s("li",[t._v("Old LVE-statistics does not provide a way to determine a cause of LVE faults, i.e. what processes are running when user hits LVE limits.Example")]),t._v(" "),s("li",[t._v("Notifications in old LVE-statistics are not accurate because they are based on average values for "),s("span",{staticClass:"notranslate"},[t._v("CPU, IO, IOPS.")])]),t._v(" "),s("li",[t._v("Old LVE-statistics functionality is hard to extend.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"major-improvements-and-features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#major-improvements-and-features","aria-hidden":"true"}},[this._v("#")]),this._v(" Major improvements and features")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("increased precision of statistics;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" usage is calculated  in terms of % of a single core (100% usage means one core);")]),t._v(" "),s("li",[t._v("lvestats-server emulates and tracks faults for "),s("span",{staticClass:"notranslate"},[t._v("CPU, IO, IOPS")]),t._v(";")]),t._v(" "),s("li",[t._v("lvestats-server saves “snapshots” of user’s processes and queries for each “incident” - added new lve-read-snapshot utility;")]),t._v(" "),s("li",[t._v("improved notifications about hitting LVE limits (more informative and without false positives);")]),t._v(" "),s("li",[t._v("implemented ability to add custom plugins;")]),t._v(" "),s("li",[t._v("MySQL and "),s("span",{staticClass:"notranslate"},[t._v("PostGreSQL")]),t._v(" support;")]),t._v(" "),s("li",[t._v("more pretty, scalable, interactive charts;")]),t._v(" "),s("li",[t._v("snapshots include HTTP-requests.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"what-features-will-be-implemented-in-the-future"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#what-features-will-be-implemented-in-the-future","aria-hidden":"true"}},[this._v("#")]),this._v(" What features will be implemented in the future?")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Notifications for control panels other than CPanel.")]),t._v(" "),s("li",[t._v("Burstable Limits/server health: We are monitoring server health ( "),s("span",{staticClass:"notranslate"},[t._v(" LA ")]),t._v(" , "),s("span",{staticClass:"notranslate"},[t._v(" memory ")]),t._v(" , idle "),s("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" ) and automatically decreasing/increasing limits based on server health.")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v("Reseller Limits")]),t._v(": plugin would analyze usage per group of users (reseller’s usage), and do actions.")]),t._v(" "),s("li",[t._v("Suspend/notify plugin: would detect that user is being throttled for 10 minutes, and suspend him (just because), or notify, or increase limits.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lve-stats\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum update lve-stats\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Settings of old "),e("span",{staticClass:"notranslate"},[this._v("lve-stats")]),this._v(" (ver. 0.x) are imported automatically on the first install/update of a new "),e("span",{staticClass:"notranslate"},[this._v("lve-stats")]),this._v(" package.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("SQLite database file is located in "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/lve/lvestats2.db")])]),this._v(", data from old "),e("span",{staticClass:"notranslate"},[this._v("lve-stats")]),this._v(" (ver. 0.x) are being migrated automatically in the background. Migrating process can last 2-8 hours (during this time lags are possible when admin is trying to check statistics, at the same time users will not be affected). Migrating the latest 30 days, "),e("span",{staticClass:"notranslate"},[this._v("SQLite DB")]),this._v(" stable migration is provided.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Currently, the new "),e("span",{staticClass:"notranslate"},[this._v("lve-stats")]),this._v(" supports all databases available in CloudLinux.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"downgrade"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#downgrade","aria-hidden":"true"}},[this._v("#")]),this._v(" Downgrade")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have any problems after update, downgrade "),e("span",{staticClass:"notranslate"},[this._v("lve-stats2")]),this._v(" to the previous stable version by running:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum downgrade lve-stats\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("You may need to rename "),s("code",[t._v("*.rpmsave")]),t._v(" files to original ones in order to restore settings for old "),s("span",{staticClass:"notranslate"},[t._v("lve-stats ("),s("code",[t._v("/etc/sysconfig/lvestats")]),t._v(", "),s("code",[t._v("/etc/sysconfig/cloudlinux-notify")])]),t._v(").")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Main configuration file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats2")])]),this._v(" contains the following options:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("db_type")])]),t._v(" - selects appropriate database type to use;")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("connect-string")])]),t._v(" - connection string for "),s("span",{staticClass:"notranslate"},[t._v("PostGreSQL")]),t._v(" and MySQL database, has the following form:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("connect_string = USER:PASSWORD@HOST[:PORT]/DATABASE\n")])])])]),t._v(" "),s("p",[t._v("Default port is used for specific database, if port is not specified (typical port is 3306 for MySQL and 5432 for "),s("span",{staticClass:"notranslate"},[t._v("PostGreSQL")]),t._v("). Connection string is not used for sqlite database.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("server_id")])]),t._v(" - sets the name of the server (at most 10 characters). This option is to use with centralized database ( "),s("span",{staticClass:"notranslate"},[t._v("PostGreSQL")]),t._v(' or MySQL). For use with sqlite database, value of this option should be "localhost" (without quotes).')])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("plugins")])]),t._v(" – path to directory containing custom plugins for "),s("span",{staticClass:"notranslate"},[t._v("lve-stats")]),t._v(" (default path "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve-stats/plugins")])]),t._v(").")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("db_timeout")])]),t._v(" - period of time to write data to database (in seconds); default value is 60 seconds.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("timeout")])]),t._v(" - timeout for custom plugins (seconds). If plugin execution does not finish within this period, plugin is terminated. Default value is 5 seconds.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("interval")])]),t._v(" - duration of one cycle of "),s("span",{staticClass:"notranslate"},[t._v("lvestats-server")]),t._v(" (seconds). This should be less than total duration of execution of all plugins. Default value is 5 seconds. Increasing this parameter makes precision of statistics worse.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("keep_history_days")])]),t._v(" - period of time (in days) to keep history in database. Old data is removed from database automatically. Default value is 60 days.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("mode")])]),t._v(" – sets compatibility output mode (compatibility with older lveinfo version")]),t._v(" "),s("ul",[s("li",[t._v("Value "),s("code",[t._v("v1")]),t._v(" enables compatibility with old version of "),s("span",{staticClass:"notranslate"},[t._v("lveinfo")]),t._v(".")]),t._v(" "),s("li",[t._v("Value "),s("code",[t._v("v2")]),t._v(" enables "),s("span",{staticClass:"notranslate"},[s("code",[t._v("extended")])]),t._v(" output mode, but can break LVE plugins for control panels (statistics in "),s("span",{staticClass:"notranslate"},[t._v("LVE Manager")]),t._v(", "),s("span",{staticClass:"notranslate"},[t._v("Resource Usage")]),t._v(", etc). Support of "),s("code",[t._v("v2")]),t._v(" mode will be added to LVE plugins in the recent future. When mode parameter is absent, later version of "),s("span",{staticClass:"notranslate"},[t._v("lveinfo")]),t._v(" is implied.")])])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("disable_snapshots")])]),t._v(" - disable snapshots and incidents.\nPossible values:")]),t._v(" "),s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("true")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("false")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Configuration files for plugins are located in "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats.config")])]),this._v(" directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats.config/SnapshotSaver.cfg")])]),this._v(" contains the following options:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("period_between_incidents")])]),t._v(' - the minimal interval of time between incidents (in seconds). If minimal interval of time between LVE faults is greater than value specified, than new "incident" will begin and new snapshots will be saved. Default value is 300 seconds.')]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("snapshots_per_minute")])]),t._v(" - the maximum number of snapshots saved per minute for specific LVE id (default is "),s("code",[t._v("2")]),t._v(").")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("max_snapshots_per_incident")])]),t._v(' - the maximum number of snapshots saved for one "incident". Default is '),s("code",[t._v("10")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats.config/StatsNotifier.cfg")])]),this._v(" contains the following options:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_ADMIN")])]),t._v(" – enables notification for admin ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_RESELLER")])]),t._v(" – enables notification for reseller ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_CUSTOMER")])]),t._v(" - enables notification for customers ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_INCLUDE_RESELLER_CUSTOMER")])]),t._v(" – "),s("code",[t._v("Y")]),t._v("=notify all users, "),s("code",[t._v("N")]),t._v("=notify only hoster's users (whos reseller is root), default = "),s("code",[t._v("N")]),t._v(";")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_CPU")])]),t._v(" – notify about "),s("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" faults when customer hits 100% of his "),s("span",{staticClass:"notranslate"},[t._v("CPU")]),t._v(" limit ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_IO")])]),t._v(" - notify about "),s("span",{staticClass:"notranslate"},[t._v("IO")]),t._v(" faults when customer hits 100% of his "),s("span",{staticClass:"notranslate"},[t._v("IO")]),t._v(" limit ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_IOPS")])]),t._v(" - notify about "),s("span",{staticClass:"notranslate"},[t._v("IOPS")]),t._v(" faults when customer hits 100% of his "),s("span",{staticClass:"notranslate"},[t._v("IOPS")]),t._v(" limit ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_MEMORY")])]),t._v(" - notify about memory faults ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_EP")])]),t._v(" – notify about entry processes faults ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_NPROC")])]),t._v(" – notify about number of processes faults ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("Y/N")])]),t._v(", default "),s("code",[t._v("N")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_MIN_FAULTS_ADMIN")])]),t._v(" – minimum number of faults to notify admin (default "),s("code",[t._v("1")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_MIN_FAULTS_USER")])]),t._v(" – minimum number of faults to notify customer (default "),s("code",[t._v("1")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_INTERVAL_ADMIN")])]),t._v(" – period of time to notify admin (default "),s("code",[t._v("12h")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_INTERVAL_USER")])]),t._v(" – period of time to notify customer (default "),s("code",[t._v("12h")]),t._v(");")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_FROM_EMAIL")])]),t._v(" - sender email address. For example: "),s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_FROM_EMAIL=main_admin@host.com")]),t._v(";")])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_FROM_SUBJECT")])]),t._v(" - email message subject. For example: "),s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_FROM_SUBJECT=Message from notifier")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_CHARSET_EMAIL")])]),t._v(" – charset type for email. Available for "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("lve-stats-2.9.4-1")])]),t._v(" and later. Default is "),s("span",{staticClass:"notranslate"},[s("code",[t._v("us-ascii")])]),t._v(". For example: "),s("span",{staticClass:"notranslate"},[s("code",[t._v("NOTIFY_CHARSET_EMAIL=utf-8")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve/emails/en_US/admin_notify.txt")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve/emails/en_US/reseller_notify.txt")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve/emails/en_US/user_notify.txt")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve/emails/en_US/admin_notify.html")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve/emails/en_US/reseller_notify.html")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Notifications about LVE faults are implemented for CPanel, Plesk, and DirectAdmin.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After changing any options above, please restart "),e("span",{staticClass:"notranslate"},[this._v("lvestats")]),this._v(" service:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/logrotate.d/lvestats")])]),this._v(" - configuration file for "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/log/lve-stats.log rotation")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"lve-stats2-and-db-servers-compatible-work-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lve-stats2-and-db-servers-compatible-work-setup","aria-hidden":"true"}},[this._v("#")]),this._v(" LVE-stats2 and DB servers compatible work setup")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lve-stats2-and-mysql-db-server-compatible-work-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lve-stats2-and-mysql-db-server-compatible-work-setup","aria-hidden":"true"}},[this._v("#")]),this._v(" LVE-stats2 and MySQL DB server compatible work setup")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Run all the commands below under root.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("1. MySQL server setup")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("CloudLinux 6")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install mysql mysql-server\nservice mysqld start\nchkconfig mysqld on\n")])])])])]),this._v(" "),e("li",[e("p",[this._v("CloudLinux 7")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install mariadb mariadb-server\nsystemctl start mariadb.service\nsystemctl enable mariadb.service\n")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("2. Database setup")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("Run MySQL administrative utility: "),s("span",{staticClass:"notranslate"},[s("code",[t._v("mysql")])]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("In utility run the commands:")]),t._v(" "),s("ul",[s("li",[t._v("creating server DB. Also, check "),s("strong",[s("em",[t._v("Note")])]),t._v(" below.")])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CREATE DATABASE db_lvestats2;\n")])])])]),t._v(" "),s("ul",[s("li",[t._v("creating a user for "),s("span",{staticClass:"notranslate"},[t._v("LVE Stats 2")]),t._v(" server to work under. Also, check "),s("strong",[s("em",[t._v("Note")])]),t._v(" below.")])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CREATE USER 'lvestats2'@'localhost' IDENTIFIED BY 'lvestats2_passwd';\n")])])])]),t._v(" "),s("ul",[s("li",[t._v("granting all the privileges for all DB tables to the user. Use the username and DB name from the points above.")])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("GRANT ALL PRIVILEGES ON db_lvestats2.* TO 'lvestats2'@'localhost';\n")])])])]),t._v(" "),s("ul",[s("li",[t._v("refreshing privileges information.")])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("FLUSH PRIVILEGES;\n")])])])]),t._v(" "),s("ul",[s("li",[t._v("Exit administrative utility "),s("span",{staticClass:"notranslate"},[s("code",[t._v("(Ctrl+d)")])]),t._v(".")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("DB name, username and their passwords above are given for an example - you can use any of your choices. Using old DB from "),e("span",{staticClass:"notranslate"},[this._v("LVE Stats")]),this._v(" version 1 is also acceptable as "),e("span",{staticClass:"notranslate"},[this._v("LVE Stats2")]),this._v(" uses different tables and the old information will not be corrupted.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("3.")]),this._v(" "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("LVE-stats2")])]),this._v(" "),e("strong",[this._v("setup")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Stop "),e("span",{staticClass:"notranslate"},[this._v("LVE Stats 2")]),this._v(" server by running the command:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats stop\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("In server configuration file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats2")])]),this._v(", edit the following options:\n"),e("ul",[e("li",[e("span",{staticClass:"notranslate"},[e("code",[this._v("db_type = mysql")])])]),this._v(" "),e("li",[e("span",{staticClass:"notranslate"},[e("code",[this._v("connect_string = lvestats2:lvestats2_passwd@localhost/db_lvestats2")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("connect_string")])]),this._v(" option value is used in format: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("user:pass@host/database")])]),this._v(".\nUsername, password and DB name must be the same as in point 2 of Database Setup above.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("After making changes in configuration files run:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/sbin/lve-create-db \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("When done, restart server by running:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("4. Additional security settings")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("If you need to provide access to "),s("span",{staticClass:"notranslate"},[t._v("LVE Stats")]),t._v(" information utilities ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("lveinfo")]),t._v(", "),s("code",[t._v("lvechart")]),t._v(", "),s("code",[t._v("lve-read-snapshot")])]),t._v(") for different users, then we recommend creating one more DB user with read-only privilege to guarantee information security. It can be done by running the following commands in administrative utility:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("creating a user (check "),e("strong",[e("em",[this._v("Note")])]),this._v(" above)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("CREATE USER 'lvestats2_read'@'localhost' IDENTIFIED BY 'lvestats2_read_passwd';\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("granting read-only privilege to the user")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("GRANT SELECT ON db_lvestats2.* TO 'lvestats2_read'@'localhost';\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("refreshing privileges information")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("FLUSH PRIVILEGES;\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If "),e("span",{staticClass:"notranslate"},[this._v("LVE Stats2")]),this._v(" server is set correctly (see information below), the information utilities will work under this user.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Assign permission 600 to the main configuration file ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2")])]),t._v("), so that it could be read only by "),s("span",{staticClass:"notranslate"},[t._v("LVE Stats 2")]),t._v(" server and by utilities that run under root.")]),t._v(" "),s("li",[t._v("Copy "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2")])]),t._v(" to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2.readonly")])]),t._v(", assign permission 644 to the new file, so that it could be read by any user but could only be changed by root.")]),t._v(" "),s("li",[t._v("In "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2.readonly")])]),t._v(" file, in the line "),s("span",{staticClass:"notranslate"},[s("code",[t._v("connect_string")])]),t._v(", specify DB user with read-only permission, created above.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If there is no need in such access differentiation, then "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats2")])]),this._v(" file access permission should be 644, so that it could be read by all users and could be changed only by root.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("5. Using special characters in database password")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("://user:password@host[:port]/database_name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("connect_string")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo -n '[You_P@$$]:' | perl -MURI::Escape -ne 'print uri_escape($_).\"\\n\"'\n%5BYou_P%40%24%24%5D%3A\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("!    #    $    &    '    (    )    *    +    ,    /    :    ;    =    ?    @   [    ]\n%21  %23  %24  %26  %27  %28  %29  %2A  %2B  %2C  %2F  %3A  %3B  %3D  %3F  %40  %5B %5D\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("сonnect_string")])]),this._v(" will look as follows:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("сonnect_string=lvestats2:%5BYou_P%40%24%24%5D%3A@localhost/db_lvestats2\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lve-stats2-and-postgresql-db-server-compatible-work-setup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lve-stats2-and-postgresql-db-server-compatible-work-setup","aria-hidden":"true"}},[this._v("#")]),this._v(" LVE-stats2 and PostgreSQL DB server compatible work setup")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Run all the commands below under "),e("span",{staticClass:"notranslate"},[this._v("root")]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("1.")]),this._v(" "),e("strong",[e("span",{staticClass:"notranslate"},[this._v("PostgreSQL")])]),this._v(" "),e("strong",[this._v("server installation and setup")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("PostgreSQL installation and initialization")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("CloudLinux 6")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install postgresql-server postgresql\nservice postgresql initdb\nservice postgresql start\nchkconfig postgresql on\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("CloudLinux 7")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install postgresql-server postgresql\npostgresql-setup initdb\nsystemctl start postgresql\nsystemctl enable postgresql\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("p",[s("strong",[t._v("Setup")])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("In "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/var/lib/pgsql/data/pg_hba.conf")])]),t._v(" config file change user authentication mode. Add the following lines (place before all other authentication parameters):")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# IPv4 local connections for lve-stats-2.x\nhost dblvestat all 127.0.0.1/32 password\n# IPv6 local connections for lve-stats-2.x\nhost dblvestat all ::1/128 password\n")])])])]),t._v(" "),s("p",[t._v("These lines enable user authentication by the password for "),s("span",{staticClass:"notranslate"},[t._v("IP4/IP6")]),t._v(" connections. You can set other modes if needed.")])]),t._v(" "),s("li",[s("p",[t._v("Apply config changes by running:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("service postgresql restart\n")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("2. DB for")]),this._v(" "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("LVE-stats-2.x")])]),this._v(" "),e("strong",[this._v("- creating and setup")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Run standard "),e("span",{staticClass:"notranslate"},[this._v("PostgreSQL psql")]),this._v(" administrative utility:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sudo -u postgres psql postgres \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("psql -w -U postgres\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("In utility run:")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("creating server DB. Also, check "),s("strong",[s("em",[t._v("Note")])]),t._v(" below.")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CREATE DATABASE dblvestat;\n")])])])])]),t._v(" "),s("li",[s("p",[t._v("creating a user for "),s("span",{staticClass:"notranslate"},[t._v("LVE Stats 2")]),t._v(" server to work under. Also, check "),s("strong",[s("em",[t._v("Note")])]),t._v(" below.")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CREATE USER lvestat WITH password 'passw';\n")])])])])]),t._v(" "),s("li",[s("p",[t._v("granting "),s("span",{staticClass:"notranslate"},[t._v("lvestat")]),t._v(" user all privileges for work with "),s("span",{staticClass:"notranslate"},[t._v("dblvestat DB")]),t._v(".")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("GRANT ALL privileges ON DATABASE dblvestat TO lvestat;\n")])])])])]),t._v(" "),s("li",[s("p",[t._v("exit "),s("code",[t._v("psql")]),t._v(" utility:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("\\q\n")])])])]),t._v(" "),s("p",[t._v("OR alternatively:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Ctrl+d\n")])])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("DB name, username and their passwords above are given for an example - you can use any of your choices. Using old DB from "),e("span",{staticClass:"notranslate"},[this._v("LVE Stats")]),this._v(" version 1 is also acceptable as "),e("span",{staticClass:"notranslate"},[this._v("LVE Stats 2")]),this._v(" uses different tables and the old information will not be corrupted")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("3.")]),this._v(" "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("LVE-stats-2.x")])]),this._v(" "),e("strong",[this._v("setup")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Stop "),e("span",{staticClass:"notranslate"},[this._v("lve-stats2")]),this._v(" server by running:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats stop\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("In server config file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats2")])]),this._v(" edit options for connecting to DB:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("db_type = postgresql\nconnect_string=lvestat:passw@localhost/dblvestat\nIf DB is going to be used as centralized for multiple hosts then collect_usernames parameter must be changed:\ncollect_usernames=true\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("connect_string")])]),this._v(" option value is of the format: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("user:pass@host/database")])]),this._v(". Username, password and DB name must be the same as in Database Setup section above.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("After making changes in configuration files, for DB primary initialization (creating tables, indexes, etc), run:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/sbin/lve-create-db \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("There is no need to create anything in the DB manually. When done, restart server by running:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("4. Additional security settings")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("If you need to provide access to "),s("span",{staticClass:"notranslate"},[t._v("LVE Stats")]),t._v(" information utilities ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("lveinfo")]),t._v(", "),s("code",[t._v("lve-read-snapshot")])]),t._v(" ) for other users (or if "),s("span",{staticClass:"notranslate"},[t._v("CageFS")]),t._v(" is disabled), then in order to guarantee DB security the following steps are required:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Create a DB user with read-only permission:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("CREATE USER lvestat_read WITH password 'passw';\nGRANT CONNECT ON DATABASE dblvestat to lvestat_read;\n\\connect dblvestat;\nGRANT SELECT ON lve_stats2_history, lve_stats2_history_gov, lve_stats2_history_x60, lve_stats2_incident, lve_stats2_servers, lve_stats2_snapshot, lve_stats2_user TO lvestat_read;\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("Assign root ownership and permission 600 to the main configuration file ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2")])]),t._v("), so that it could be read only by "),s("span",{staticClass:"notranslate"},[t._v("LVE Stats 2")]),t._v(" server and by utilities that run under root.")])]),t._v(" "),s("li",[s("p",[t._v("Copy "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2")]),t._v(" to "),s("code",[t._v("/etc/sysconfig/lvestats2.readonly")])]),t._v(", assign permission 644 to the new file, so that it could be read by any user but could be changed only by root.")])]),t._v(" "),s("li",[s("p",[t._v("In "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2.readonly")])]),t._v(" file, in the line "),s("span",{staticClass:"notranslate"},[s("code",[t._v("connect_string")])]),t._v(", specify DB user with read-only permission, created above.")]),t._v(" "),s("p",[t._v("These steps allow hiding main DB user username/password from other system users.")]),t._v(" "),s("p",[t._v("If there is no need in such access differentiation, then "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/sysconfig/lvestats2")])]),t._v(" file access permission should be 644, so that it could be read by all users and could be changed only by "),s("span",{staticClass:"notranslate"},[t._v("root")]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("When done, restart server by running:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("5. Using special characters in database password")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("://user:password@host[:port]/database_name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("connect_string")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo -n '[You_P@$$]:' | perl -MURI::Escape -ne 'print uri_escape($_).\"\\n\"'\n%5BYou_P%40%24%24%5D%3A\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("!    #    $    &    '    (    )    *    +    ,    /    :    ;    =    ?    @    [    ]\n%21  %23  %24  %26  %27  %28  %29  %2A  %2B  %2C  %2F  %3A  %3B  %3D  %3F  %40  %5B  %5D\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("сonnect_string")])]),this._v(" will look as follows:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("сonnect_string=lvestats2:%5BYou_P%40%24%24%5D%3A@localhost/db_lvestats2\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"customize-lve-stats2-notifications"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#customize-lve-stats2-notifications","aria-hidden":"true"}},[this._v("#")]),this._v(" Customize LVE-stats2 notifications")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The templates for notifications are located in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/lve/emails/LOCALE")])]),t._v(", where "),s("span",{staticClass:"notranslate"},[s("code",[t._v("LOCALE")])]),t._v(" is the directory with localization name (language codes are formed according to "),s("span",{staticClass:"notranslate"},[t._v("ISO 639-1")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v("ISO 639-2")]),t._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By default the templates for English are set: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/share/lve/emails/en_US.")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/share/lve/emails/en_US")])]),this._v(" contains the following templates:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("admin_notify.html")]),t._v(" "),s("code",[t._v("admin_notify.txt")])]),t._v(" for administrator;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("reseller_notify.html")]),t._v(" "),s("code",[t._v("reseller_notify.txt")])]),t._v(" for reseller;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("user_notify.txt")])]),t._v(" for user.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("Multipart content type")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The plain text is taken from the "),e("span",{staticClass:"notranslate"},[e("code",[this._v(".txt")])]),this._v(" files, html version - from the "),e("span",{staticClass:"notranslate"},[e("code",[this._v(".html")])]),this._v(" template.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In case when only one template is present ("),e("span",{staticClass:"notranslate"},[e("code",[this._v(".txt")])]),this._v(" or "),e("span",{staticClass:"notranslate"},[e("code",[this._v(".html")])]),this._v(") the notification is sent as a "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Non-multipart content")])]),this._v(" type notification.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is better to use "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Multipart content")])]),this._v(" type notifications because when a mail client can not display an html-format message, then it will be displayed as plain text version.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Variable")]),t._v(" "),s("td",[t._v("Example")]),t._v(" "),s("td",[t._v("Description")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("TONAME")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("Customer")])])]),t._v(" "),s("td",[t._v("Notification receiver user name. Taken from profile in the control panel, by default - "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Customer")])]),t._v(" for user, "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Administrator")])]),t._v(" for administrator, "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Reseller")])]),t._v(" for reseller.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("TOMAIL")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("support@cloudlinux.com")])])]),t._v(" "),s("td",[t._v("Notification receiver email address.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("DOMAIN")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("wordpress.test247.cloudlinux.com")])])]),t._v(" "),s("td",[t._v("Main domain. Available only for user.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LOCALE")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("en_US")])])]),t._v(" "),s("td",[t._v("Locale in which the notification is sent. Available only for user.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("RESELLER")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("root")])])]),t._v(" "),s("td",[t._v("User reseller. Available only for user.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("PERIOD")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("12 hours")])])]),t._v(" "),s("td",[t._v("Verification and notification sending period.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LOGIN")])])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("wordpress")])])]),t._v(" "),s("td",[t._v("User login in the system.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("ID")])])]),t._v(" "),s("td",[s("code",[t._v("500")])]),t._v(" "),s("td",[t._v("User ID in the system.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("lPMem")]),t._v(" "),s("code",[t._v("lEP")]),t._v(" "),s("code",[t._v("PMemF")]),t._v(" "),s("code",[t._v("lVMem")]),t._v(" "),s("code",[t._v("anyF")]),t._v(" "),s("code",[t._v("IOf")]),t._v(" "),s("code",[t._v("VMemF")]),t._v(" "),s("code",[t._v("lCPU")]),t._v(" "),s("code",[t._v("aIOPS")]),t._v(" "),s("code",[t._v("aEP")]),t._v(" "),s("code",[t._v("aPMem")]),t._v(" "),s("code",[t._v("IOPSf")]),t._v(" "),s("code",[t._v("lIO")]),t._v(" "),s("code",[t._v("lIOPS")]),t._v(" "),s("code",[t._v("aIO")]),t._v(" "),s("code",[t._v("EPf")]),t._v(" "),s("code",[t._v("aCPU")]),t._v(" "),s("code",[t._v("aVMem")]),t._v(" "),s("code",[t._v("NprocF")]),t._v(" "),s("code",[t._v("aNproc")]),t._v(" "),s("code",[t._v("lNproc")]),t._v(" "),s("code",[t._v("CPUf")])])]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("See description in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("lveinfo --help")])]),t._v(" output. Available only for users")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("STATS_HTML")])])]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("html table with the list of users that exceeded limits. Available for administrator and reseller.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("STATS")])])]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("ASCII - table with the list of users that exceeded limits. Available only for admins and resellers.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Sender’s email address by default is administrator email address from control panel settings "),e("span",{staticClass:"notranslate"},[e("code",[this._v("(root@{hostn_name}")])]),this._v(" if there is no email in the control panel).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It can be changed with "),e("span",{staticClass:"notranslate"},[e("code",[this._v("NOTIFY_FROM_EMAIL")])]),this._v(" option in the config "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats.config/StatsNotifier.cfg")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("NOTIFY_FROM_EMAIL=support@hostername.com")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To apply changes restart "),e("span",{staticClass:"notranslate"},[e("code",[this._v("lve-stats")])]),this._v(" service:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("systemctl restart lvestats.service\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Default subject is "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Hosting account resources exceeded")])]),this._v(".  It can be changed for each template (and for localized templates as well). To change subject, in the very beginning of the file (no blank lines allowed in the beginning of the template) add the field "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Subject:")])]),this._v(", leave two blank lines after it and add template body.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Customized subjects can be taken only from the templates with the resolution "),s("span",{staticClass:"notranslate"},[s("code",[t._v("*.txt")])]),t._v(" "),s("span",{staticClass:"notranslate"},[t._v("("),s("code",[t._v("admin_notify.txt")]),t._v(", "),s("code",[t._v("reseller_notify.txt")]),t._v(", "),s("code",[t._v("user_notify.txt")]),t._v(")")]),t._v(". Changes apply without "),s("span",{staticClass:"notranslate"},[s("code",[t._v("lvestats")])]),t._v(" restart.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For backward compatibility the subject can be also changed with the key "),e("span",{staticClass:"notranslate"},[e("code",[this._v("NOTIFY_FROM_SUBJECT")])]),this._v(" in the config "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats.config/StatsNotifier.cfg")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Customized subjects have the higher priority than the key "),e("span",{staticClass:"notranslate"},[e("code",[this._v("NOTIFY_FROM_SUBJECT")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Example for the file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("user_notify.txt")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{pre:!0,attrs:{class:"notranslate"}},[e("div",{pre:!0,attrs:{class:"language- extra-class"}},[e("pre",{pre:!0,attrs:{"v-pre":"",class:"language-text"}},[e("code",[this._v('Subject: Customized subject example\nDear {{TONAME}},\n \nYour {{DOMAIN}} web hosting account exceeded one or more of its resources within the last {{PERIOD}}.\n{% if epf %}Exceeded the maximum of {{lep}} concurrent website connections. Your website was not available {{epf}} times because of this problem.\n{% endif %}{% if pmemf %}Exceeded the physical memory limit of {{lpmem}}KB. Your website was not available {{pmemf}} times because of this problem.\n{% endif %}{% if vmemf %}Exceeded the virtual memory limit of {{lvmem}}KB. Your website was not available {{vmemf}} times because of this problem.\n{% endif %}{% if nprocf %}Exceeded the number of processes limit of {{lnproc}}. Your website was not available {{nprocf}} times because of this problem.\n{% endif %}{% if cpuf %}You reached limit of {{lcpu}} of total server CPU usage {{cpuf}} times. Your website was forced to load slower to reduce its CPU usage.\n{% endif %}{% if iof %}You reached limit of {{lio}}KB/s disk io rate {{iof}} times. The disk io speed for your account was slowed as a result of this problem.\n{% endif %}{% if iopsf %}You reached limit of {{liops}} I/O operations {{iopsf}} times. The disk io speed for your account was slowed as a result of this problem.\n{% endif %}\n \nTo view full details about your web hosting account\'s resource usage, including the time of each incident listed above, please click the link below and log into your cpanel hosting control panel, then click the "Resource Usage" link under the "Logs and Statistics" section.\nhttp://{{DOMAIN}}:2083\n \nIf your account is regularly exceeding it\'s available resources, please consider upgrading to a higher level hosting plan that includes more resources. If you have any questions or need help with anything, just reply to this email and let us know.\n \nSincerely,\n \nYour Friendly Web Hosting Support Team\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" Plugins")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Plugin Name")]),t._v(" "),s("td",[t._v("Order")]),t._v(" "),s("td",[t._v("Default")]),t._v(" "),s("td",[t._v("Period (seconds)")]),t._v(" "),s("td",[t._v("Description")])]),t._v(" "),s("tr",[s("td",[t._v("LVECollector")]),t._v(" "),s("td",[t._v("1000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("Collects usage/limits data from "),s("code",[t._v("/proc/lve/list")])])]),t._v(" "),s("tr",[s("td",[t._v("CPUInfoCollector")]),t._v(" "),s("td",[t._v("2000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("collents info about "),s("span",{staticClass:"notranslate"},[t._v(" CPU - "),s("code",[t._v("/proc/cpuinfo")])])])]),t._v(" "),s("tr",[s("td",[t._v("LVEUsernamesCollector")]),t._v(" "),s("td",[t._v("3000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("3600")]),t._v(" "),s("td",[t._v("collects usernames & user ids to match "),s("span",{staticClass:"notranslate"},[s("code",[t._v("uid <-> lve id")])]),t._v(" later on")])]),t._v(" "),s("tr",[s("td",[t._v("LVEUsageAnalyzer")]),t._v(" "),s("td",[t._v("4000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("analyzes usage of LVE")])]),t._v(" "),s("tr",[s("td",[t._v("LveUsageAggregator")]),t._v(" "),s("td",[t._v("5000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("60")]),t._v(" "),s("td",[t._v("aggregates data by time periods")])]),t._v(" "),s("tr",[s("td",[t._v("DBGovSaver")]),t._v(" "),s("td",[t._v("6000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("Saves data about database governor")])]),t._v(" "),s("tr",[s("td",[t._v("FileSaver")]),t._v(" "),s("td",[t._v("7000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("Saves LVE data into "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/var/lve/info")])])])]),t._v(" "),s("tr",[s("td",[t._v("CloudLinuxTopFileSaver")]),t._v(" "),s("td",[t._v("8000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("60")]),t._v(" "),s("td",[t._v("saves data used by "),s("span",{staticClass:"notranslate"},[t._v(" cloudlinux-top to "),s("code",[t._v("/var/lve/cloudlinux-top.json")])])])]),t._v(" "),s("tr",[s("td",[t._v("DBSaver")]),t._v(" "),s("td",[t._v("9000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("60")]),t._v(" "),s("td",[t._v("save LVE data to database")])]),t._v(" "),s("tr",[s("td",[t._v("DbUsernamesSaver")]),t._v(" "),s("td",[t._v("10000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("3600")]),t._v(" "),s("td",[t._v("saves users name to database")])]),t._v(" "),s("tr",[s("td",[t._v("DBSaverX60")]),t._v(" "),s("td",[t._v("11000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("3600")]),t._v(" "),s("td",[t._v("saves aggregated hourly data into database")])]),t._v(" "),s("tr",[s("td",[t._v("SnapshotSaver")]),t._v(" "),s("td",[t._v("12000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("30")]),t._v(" "),s("td",[t._v("collects & saves snapshots data")])]),t._v(" "),s("tr",[s("td",[t._v("StatsNotifier")]),t._v(" "),s("td",[t._v("13000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("varied")]),t._v(" "),s("td",[t._v("notify user/admin based on usage")])]),t._v(" "),s("tr",[s("td",[t._v("HistoryCleaner")]),t._v(" "),s("td",[t._v("14000")]),t._v(" "),s("td",[t._v("Y")]),t._v(" "),s("td",[t._v("3600")]),t._v(" "),s("td",[t._v("removes old usage")])]),t._v(" "),s("tr",[s("td",[t._v("ResMEMCollector")]),t._v(" "),s("td",[t._v("1500")]),t._v(" "),s("td",[t._v("N")]),t._v(" "),s("td",[t._v("30")]),t._v(" "),s("td",[t._v("collects physical memory usage from processes RES field instead of "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/proc/lve/list")])])])]),t._v(" "),s("tr",[s("td",[t._v("LVEDestroyer")]),t._v(" "),s("td",[t._v("-")]),t._v(" "),s("td",[t._v("N")]),t._v(" "),s("td",[t._v("5")]),t._v(" "),s("td",[t._v("destroys LVEs that weren't active for X iterations. Number of iterations is passed from config using iterations variable. "),s("span",{staticClass:"notranslate"},[s("code",[t._v("iterations=0")])]),t._v(" means plugin disabled")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To enable non-default plugin, copy or link it to "),e("code",[this._v("/usr/share/lve-stats/plugins")]),this._v(" directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example to enable "),e("code",[this._v("ResMEMCollector")]),this._v(" plugin, do:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ln -s /usr/share/lve-stats/plugins.other/res_mem_collector.py /usr/share/lve-stats/plugins/\nservice lvestats restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"creating-a-plugin-for-lve-stats2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-plugin-for-lve-stats2","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating a plugin for LVE-stats2")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[this._v("#")]),this._v(" Introduction")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" LVE Stats 2 ")]),this._v(" complex has scalable architecture, which allows to connect custom plugins.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" LVE Stats ")]),this._v(" server searches for plugins in the directory which is specified with plugins parameter of server’s "),e("em",[this._v("/etc/sysconfig/lvestats2")]),this._v(" configuration file. Default directory is "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share/lve-stats/plugins")]),this._v(". ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Each plugin must be of a "),s("span",{staticClass:"notranslate"},[t._v(" Python ")]),t._v(" class, must be written in "),s("span",{staticClass:"notranslate"},[t._v(" Python ")]),t._v(" language and its file must have "),s("span",{staticClass:"notranslate"},[t._v(" .py ")]),t._v(" extension. Files with all other extensions will be ignored. For normal server work access permission 400 is enough; owner – "),s("span",{staticClass:"notranslate"},[t._v(" root ")]),t._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Plugin classes can be of the same name, but better not, because classes' names can affect the set of parameters in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("set_config")])]),this._v(" method. You can find detailed plugins' configuring information below, in appropriate chapter.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("execute()")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[t._v(" order (integer) ")]),t._v(" - defines plugin's position in the server's plugin list, (more info in "),s("span",{staticClass:"notranslate"},[t._v(" Servers Plugin Arrangement ")]),t._v(" ).")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" timeout (integer ")]),t._v(" or "),s("span",{staticClass:"notranslate"},[t._v(" float ")]),t._v(" ) – the longest allowable duration of one launch of the plugin (execute method). Default value of "),s("span",{staticClass:"notranslate"},[t._v(" timeout ")]),t._v(" parameter is 5 seconds.")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" period (integer) ")]),t._v(" – sets the interval between two launches of execute plugin method in seconds. If not defined, then plugin runs every 5 seconds ( "),s("span",{staticClass:"notranslate"},[t._v(" interval ")]),t._v(" parameter in configuration file).")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("When "),s("span",{staticClass:"notranslate"},[s("em",[t._v("execute()")])]),t._v(" method of the plugin is invoked, the server creates an attribute "),s("span",{staticClass:"notranslate"},[s("em",[t._v("now")])]),t._v(" in it, where launch time is recorded. This value is equal to what a standard Python function "),s("span",{staticClass:"notranslate"},[s("em",[t._v("time.time()")])]),t._v(" returns. All the plugins launched one after another receive the same  value of "),s("span",{staticClass:"notranslate"},[s("em",[t._v("now")])]),t._v(" attribute from the server. "),s("span",{staticClass:"notranslate"},[s("em",[t._v("now")])]),t._v(" is overwritten before "),s("span",{staticClass:"notranslate"},[s("em",[t._v("execute()")])]),t._v(" method is invoked.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Plugin class can be inherited from "),e("span",{staticClass:"notranslate"},[e("em",[this._v("LveStatsPlugin")])]),this._v(" class, which is the part of the server itself. This is not obligatory, but inheritance can help to avoid different errors in servers work, particularly if a plugin doesn't contain required execute method.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("em",[this._v("LveStatsPlugin")])]),this._v(" class is defined in the file: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/alt/python27/lib/python2.7/site-packages/lvestats/core/plugin.py")]),this._v(" . ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"server-plugin-arrangement"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#server-plugin-arrangement","aria-hidden":"true"}},[this._v("#")]),this._v(" Server plugin arrangement")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When the server starts, it performs the search of plugins in the directory specified in "),e("em",[this._v("/etc/sysconfig/lvestats2")]),this._v(" configuration file. This directory is scanned only when the server starts, therefore if any plugin was added into the directory, the server has to be restarted with the following command:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service lvestats restart.\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("After successful restart, the plugins are graded and executed  ascending by "),s("span",{staticClass:"notranslate"},[s("em",[t._v("order")])]),t._v(" attribute. If any plugin "),s("span",{staticClass:"notranslate"},[s("em",[t._v("order")])]),t._v(" attribute is not set, it is considered as a "),s("span",{staticClass:"notranslate"},[t._v(" Python ")]),t._v(" language constant "),s("em",[t._v("sys.maxint")]),t._v(" (which is usually 9223372036854775807). This in fact means that such plugins will be executed in the last.\nIf any plugins has similar "),s("span",{staticClass:"notranslate"},[s("em",[t._v("order")])]),t._v(" meanings, their execution order is unpredictable.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The server invokes "),e("span",{staticClass:"notranslate"},[e("em",[this._v("execute")])]),this._v(" method of all plugins one after another.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When the server invokes "),e("span",{staticClass:"notranslate"},[e("em",[this._v("execute()")])]),this._v(" method of any plugin, it transmits a data dictionary ( "),e("span",{staticClass:"notranslate"},[e("em",[this._v("lve_data")])]),this._v(" argument) into plugin. The dictionary is common for all the plugins. Any plugin can read, write and change any data in this dictionary. "),e("span",{staticClass:"notranslate"},[this._v(" LVE Stats 2 ")]),this._v(" server doesn't control this area. That is why one must be careful while developing new plugins, in order not to change or corrupt other plugins' data which can break their functionality.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("If an exception occurs in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("execute()")])]),t._v(" method, its text and "),s("span",{staticClass:"notranslate"},[t._v(" python ")]),t._v(" stack trace is recorded into server log "),s("em",[t._v("/var/log/lve-stats")]),t._v(" and all the changes made to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("lve_data")])]),t._v(" dictionary before the exception happened are lost.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The keys of the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("lve_data")])]),this._v(" dictionary are recommended to look like "),e("span",{staticClass:"notranslate"},[this._v(" “ "),e("em",[this._v("PluginName_Key")]),this._v(" ” ")]),this._v(" , in order the plugins do not corrupt other data accidentally.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Server contains some standard plugins which define and use the following keys in the common dictionary "),e("span",{staticClass:"notranslate"},[this._v(" lve_data: "),e("em",[this._v("LVE_VERSION, stats, old_stats, procs")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("em",[this._v("lve_usage")])]),this._v(" . User plugins can use data from these keys, but it is recommended not to change them if there is no special need, because it can break the next plugins in the execution queue.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Key")]),t._v(" "),s("td",[t._v("Content")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVE_VERSION")])])]),t._v(" "),s("td",[t._v("LVE version. The same as console command "),s("span",{staticClass:"notranslate"},[s("code",[t._v("lvectl lve-version")])]),t._v(" produces.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("stats")])])]),t._v(" "),s("td",[t._v("Dictionary, that contains lve id’s as keys and LVEStat class objects as values. Every LVEStat object contains values of usages and limits taken from "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/proc/lve/list")])]),t._v(" file for every "),s("span",{staticClass:"notranslate"},[t._v(" LVE Id ")]),t._v(" . Dictionary keys – "),s("span",{staticClass:"notranslate"},[t._v(" integer lve id ")]),t._v(" , including 0 for “ "),s("span",{staticClass:"notranslate"},[t._v(" default ")]),t._v(" ” LVE. This dictionary is updated on each iteration of lvestats-server (every 5 seconds by default). LVEStat – is a standard server class, it can be imported with the command from "),s("span",{staticClass:"notranslate"},[s("em",[t._v("lvestats.core.lvestat")])]),t._v(" "),s("code",[t._v("import LVEStat.")]),t._v(" The class is described in the file "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/opt/alt/python27/lib/python2.7/site-packages/lvestats/core/lvestat.py")])]),t._v(" . Here you can find the whole list of data fields and their functions.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("old_stats")])])]),t._v(" "),s("td",[s("em",[t._v("stats")]),t._v(" content from the previous iteration. Before the first iteration – empty dictionary.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("totalHz")])])]),t._v(" "),s("td",[t._v("When LVE_VERSION is 4, real "),s("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" frequency in "),s("span",{staticClass:"notranslate"},[t._v(" Hz ")]),t._v(" multiplied by number of cores. When LVE_VERSION > 4, "),s("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" speed is in conventional units and equals to 1000000000 * cores (1 "),s("span",{staticClass:"notranslate"},[t._v(" GHz ")]),t._v(" per core).")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("procs")])])]),t._v(" "),s("td",[t._v("Quantity of "),s("span",{staticClass:"notranslate"},[t._v("  CPU ")]),t._v(" cores.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("lve_usages")])])]),t._v(" "),s("td",[t._v("Contains accumulated LVE statistics for each 5-seconds interval in current minute. Cleared each minute.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("lve_usage")])])]),t._v(" "),s("td",[t._v("Contains aggregated LVE Statistics for “previous” minute to store to database. Overwritten each minute.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Each plugin’s instance lifetime is from the moment it was loaded till the server stops working. But if "),e("span",{staticClass:"notranslate"},[e("em",[this._v("execute()")])]),this._v(" method working time exceeds timeout, the plugin will be terminated and restarted in the next iteration. All changes to the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("lve_data")])]),this._v(" dictionary will be lost.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("During servers graceful shutdown (restart, server shutdown, commands "),e("span",{staticClass:"notranslate"},[e("code",[this._v("service lvestats stop, service lvestats restart")])]),this._v(" ), each plugin receives SIGTERM signal.\nThis is useful to correctly unload the plugin (terminate all subsidiary processes, save data to files etc.). If a plugin doesn't need to “finalize” its execution before termination, then there's no need to implement this signal handler. Below you can see an example of such handler.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("If a plugin implements handler for SIGTERM, then this handler must end with "),e("span",{staticClass:"notranslate"},[e("code",[this._v("sys.exit(0)")])]),this._v(" command. Otherwise plugin process will not be terminated correctly and will become orphaned.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"plugin-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugin-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Plugin configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" LVE Stats 2 ")]),this._v(" Server allows to configure each plugin separately.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("On initialization stage the server invokes "),e("span",{staticClass:"notranslate"},[e("em",[this._v("set_config()")])]),this._v(" method of the plugin and locates there a dictionary which contains:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("all parameters from file "),s("em",[t._v("/etc/sysconfig/lvestats2")]),t._v(" (global).")]),t._v(" "),s("li",[t._v("plugin's individual configuration file parameters (if one exists). Configuration files must be located in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/sysconfig/lvestats.config")])]),t._v(" directory, have .cfg extension and be the same format as "),s("em",[t._v("/etc/sysconfig/lvestats2")]),t._v(" . Files in this directory are matched with the plugins by name. For instance, if plugin class is "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Plugin1_class")])]),t._v(" , then server will try to find and download "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/sysconfig/lvestats.config/Plugin1_class.cfg")]),t._v(". ")]),t._v(" Names are case sensitive. If any plugin doesn't have an individual configuration file, then it's not an error. In this case plugin will just receive parameters from "),s("em",[t._v("/etc/sysconfig/lvestats2")]),t._v(" .")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("An individual configuration file of every plugin is loaded after server configuration file. That is why if it contains any parameters with names similar to ones of server config, then plugin will use parameters from its individual config rather than server config parameters.")]),this._v(" "),e("p",[this._v("If a plugin doesn't require any configuration to be done, then set_config method can be skipped.")]),this._v(" "),e("p",[this._v("In addition, plugins can use their own configuration methods.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"types-of-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#types-of-plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" Types of plugins")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("span",{staticClass:"notranslate"},[this._v(" collectors ")])]),this._v(" "),e("li",[e("span",{staticClass:"notranslate"},[this._v(" analyzers ")])]),this._v(" "),e("li",[e("span",{staticClass:"notranslate"},[this._v(" persistors ")])]),this._v(" "),e("li",[e("span",{staticClass:"notranslate"},[this._v(" notifiers ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" Collectors ")]),t._v(" are designed to collect information; "),s("span",{staticClass:"notranslate"},[t._v(" analyzers ")]),t._v(" – to analyze it and form some other data on its basis; "),s("span",{staticClass:"notranslate"},[t._v(" persistors ")]),t._v(" – to save information from the common dictionary into files, databases, etc.; "),s("span",{staticClass:"notranslate"},[t._v(" notifiers ")]),t._v(" - to notify system users about any events.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"examples-of-plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-of-plugins","aria-hidden":"true"}},[this._v("#")]),this._v(" Examples of plugins")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("To trace specified file size changes. The name of file being traced must be specified in configuration file, which allows to change it without modifying the plugin itself. If file size has been changed, it has to be written as a message into our log. The name of log must be specified in configuration file as well.")])]),this._v(" "),e("li",[e("p",[this._v("File size must be checked with default interval (5 seconds), and log notification must be held once a minute (to avoid resource expend for possibly regular write).")])]),this._v(" "),e("li",[e("p",[this._v("System administrator must receive emails with file size at the moment the email was sent. These notifications must be sent even if the file size hasn’t been changed. Notification emails must be read periodicity from configuration file as well as sender/receiver emails .")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("That is why we realize 4 plugins: "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("collector, analyzer, persistor")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("notifier")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"collector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#collector","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Collector")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Collector's ")]),this._v(" aim is to determine the size of a proper file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# FSize_watcher_collector.py\n# Example plugin for monitoring file size.\n# Part 1. Collector\n\nimport os\nfrom lvestats.core.plugin import LveStatsPlugin \n\n# Key name\nCOLLECTOR_KEY = 'FSizeWatcher_fsize'\nCOLLECTOR_KEY_FILENAME = 'FSizeWatcher_fname'  \n\nclass FSize_watcher_collector (LveStatsPlugin):\n\t# this plugin should be first in chain\n\torder = 0\n\t# File to monitoring\n\tfile_to_monitoring = None \n\t\n\tdef __init__(self):\n\t\tpass \n\t\t\n\t# Sets configuration to plugin\n\tdef set_config(self, config):\n\t\tself.file_to_monitoring = config.get('file_to_monitoring', None)\n\t\tpass\n\t# Work method\n\tdef execute(self, lve_data):\n\t\ttry:\n\t\t\t# if monitoring file absent, do nothing\n\t\t\tif self.file_to_monitoring is None or not os.path.exists(self.file_to_monitoring):\n\t\treturn \n\t\t\n\t\t\t# Get file size\n\t\t\tstat_info = os.stat(self.file_to_monitoring)\n\t\t\tfsize = stat_info.st_size \n\t\t\t\n\t\t\t# Place file name and file size to server data dictionary\n\t\t\tlve_data[COLLECTOR_KEY_FILENAME] = self.file_to_monitoring\n\t\t\tlve_data[COLLECTOR_KEY] = fsize\n\t\texcept (OSError, IOError):\n\t\t\t# file absent or any other error - remove size from dictionary\n\t\t\tdel lve_data[COLLECTOR_KEY]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Plugin algorithm is extremely simple – file size is read and written into data dictionary. Files name is read from "),e("span",{staticClass:"notranslate"},[e("em",[this._v("set_config")])]),this._v(" method configuration. If the name is not specified, then "),e("span",{staticClass:"notranslate"},[this._v(" None ")]),this._v(" is written into appropriate variable. All the errors are completely ignored (e.g. if specified file doesn't exist or there's no way to read any of it's information).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("em",[this._v("order")])]),this._v(" attribute is specified as 0 to make this plugin go the first among three. Data collector must always be the first in plugins logical chain, because it provides all the necessary information for the analyzer which goes the next. Specific values of "),e("span",{staticClass:"notranslate"},[e("em",[this._v("order")])]),this._v(" can be of any kind, but what is important is that when the server starts, all the plugins line up in proper sequence: "),e("span",{staticClass:"notranslate"},[this._v(" collector – analyzer – persistor ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In order to make plugin work, we have to create configuration file "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/sysconfig/lvestats.config/FSize_watcher_collector.cfg")])]),this._v(" with the following content:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# Config file for FSize_watcher_collector plugin\n# Please define monitoring file here\n# file_to_monitoring = /usr/local/cpanel/logs/error_log\nfile_to_monitoring = /usr/local/cpanel/logs/access_log\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Note that file name "),e("span",{staticClass:"notranslate"},[e("em",[this._v("FSize_watcher_collector")])]),this._v(" without .cfg extension matches plugin class name.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("em",[this._v("file_to_monitoring")])]),this._v(" option is read by plugin in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("set_config")])]),this._v(" method and contains file’s full name for monitoring.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Files for monitoring, suggested in the actual example - "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/local/cpanel/logs/error_log")]),this._v(" and "),e("em",[this._v("/usr/local/cpanel/logs/access_log")])]),this._v(" - are real, these are cPanel control panel logs.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"analyzer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#analyzer","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Analyzer")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Analyzer ")]),this._v(" decides if the file's size has changed and gives a command to persistor to refresh log.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# FSize_watcher_analyzer.py\n# Example plugin for monitoring file size.\n# Part 2. Analyzer \n\nfrom lvestats.core.plugin import LveStatsPlugin \n\n# Key name from collector plugin\nCOLLECTOR_KEY = 'FSizeWatcher_fsize' \n\n# Key name 1 for saver plugin\nSAVER_KEY = 'FSizeWatcher_fsize_to_store'\n# Key name 2 for saver plugin\nSAVER_DATA_PRESENCE = 'FSizeWatcher_fsize_present'  \n\nclass FSize_watcher_analyzer (LveStatsPlugin):\n\t# this plugin should be second in chain\n\torder = 1\n\t# Last file size\n\tfile_last_size = 0\n\t# Plugin run period in secondsperiod = 60 \n\t\n\tdef __init__(self):\n\t\tpass \n\t\t\n\t# work method\n\tdef execute(self, lve_data):\n\t\t# Default setting for saver\n\t\tlve_data[SAVER_DATA_PRESENCE] = 0\n\t\t# Check presence data\n\t\tif COLLECTOR_KEY not in lve_data:\n\t\treturn \n\t\t\n\t\t# Get file size from server data dictionary\n\t\tfsize = lve_data[COLLECTOR_KEY] \n\t\t\n\t\t# Check, if file size changed, store it for saver plugin\n\t\tif fsize == self.file_last_size:\n\t\t\treturn \n\t\t\t\n\t\t# Put new size for saver plugin\n\t\tlve_data[SAVER_KEY] = fsize\n\t\tself.file_last_size = fsize\n\t\tlve_data[SAVER_DATA_PRESENCE] = 1\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This plugin is extremely simple as well. It starts after "),e("span",{staticClass:"notranslate"},[this._v(" collector (order=1) ")]),this._v(" , searches for file size in the dictionary and compares it with the previous index. If it has changed, then it writes a sign of presence of a new size into the dictionary. If no changes seen, then sign resets. The previous file size is stored in the plugin itself in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("file_last_size")])]),this._v(" variable. Note that they are stored during the whole server "),e("span",{staticClass:"notranslate"},[this._v(" lve-stats ")]),this._v(" lifetime.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Analyzer ")]),this._v(" is unconfigurable, that is why it doesn’t require any configuration file and it doesn’t contain "),e("span",{staticClass:"notranslate"},[e("em",[this._v("set_config")])]),this._v(" method.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"persistor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#persistor","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Persistor")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Persistor ")]),this._v(" saves information from the common dictionary into files, databases, etc.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# FSize_watcher_saver.py\n# Example plugin for monitoring file size and last modification date-time.\n# Part 3. Data saver \n\nimport signal\nimport sys\nimport time\nfrom lvestats.core.plugin import LveStatsPlugin \n\n# Key name 1 for saver plugin\nSAVER_KEY = 'FSizeWatcher_fsize_to_store'\n# Key name 2 for saver plugin\nSAVER_DATA_PRESENCE = 'FSizeWatcher_fsize_present'\n# Monitoring file name\nCOLLECTOR_KEY_FILENAME = 'FSizeWatcher_fname'  \n\nclass FSize_watcher_saver (LveStatsPlugin):\n\t# this plugin should be third in chain\n\torder = 2\n\t# Plugin run period in seconds\n\tperiod = 60\n\t# Log filename\n\tlog_file_name = None\n\t# First run flag\n\tis_first_run = True \n\t\n\tdef __init__(self):\n\t\tsignal.signal(signal.SIGTERM, self.sigterm_handler) \n\t\t\n\t# Sets configuration to plugin\n\tdef set_config(self, config):\n\t\t# Get log filename\n\t\tself.log_file_name = config.get('log_filename', None) \n\t\t\n\t# work method\n\tdef execute(self, lve_data):\n\t\t# do nothing, if log file not defined\n\t\tif not self.log_file_name:\n\t\t\treturn\n\t\ttry:\n\t\t\t# Check presence data\n\t\t\tif SAVER_DATA_PRESENCE not in lve_data or lve_data[SAVER_DATA_PRESENCE] == 0:\n\t\t\t\t# No data\n\t\t\t\treturn\n\t\t\t# Get file size from server data dictionary\n\t\t\tfsize = lve_data[SAVER_KEY]\n\t\t\t\n\t\t\t# Store data to log\n\t\t\tf = open(self.log_file_name, 'a')\n\t\t\tif self.is_first_run:\n\t\t\t\tf.write('%s - FSize_watcher started. Monitoring file: %s, saving data period=%d sec\\n' % (time.asctime(time.localtime()), lve_data[COLLECTOR_KEY_FILENAME], self.period))\n\t\t\t\tself.is_first_run = False\n\t\t\tf.write('%s - FSize_watcher: file size is %d bytes\\n' % (time.asctime(time.localtime()), fsize))\n\t\t\tf.close()\n\t\texcept:\n\t\t\t# Ignore all errors\n\t\t\tpass \n\t\t\t\n\t# Terminate handler\n\tdef sigterm_handler(self, signum, frame):\n\t\tif self.log_file_name:\n\t\t\ttry:\n\t\t\t\t# Store data to log file\n\t\t\t\tf = open(self.log_file_name, 'a')\n\t\t\t\tf.write('%s - File watcher saver plugin: TERMINATE\\n' % time.asctime(time.localtime()))\n\t\t\t\tf.close()\n\t\t\t\tpass\n\t\t\texcept:\n\t\t\t\t# Ignore all errors\n\t\t\t\tpass\n\t\t# Terminate process\n\t\tsys.exit(0)\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Configuration file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/sysconfig/lvestats.config/FSize_watcher_saver.cfg")])]),this._v(":\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# Config file for FSize_watcher_saver.py plugin\n# Please define log filename here\nlog_filename = /var/log/FSize_watcher.log\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This plugin starts after "),e("span",{staticClass:"notranslate"},[this._v(" analyzer (order=2) ")]),this._v(" , checks new file size "),e("span",{staticClass:"notranslate"},[e("code",[this._v("presence")])]),this._v(" flag, and if positive – writes it into log. If the flag is cleared (which means the size hasn't changed), then plugin simply ends.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Plugin constructor registers handler-function of a  proper signal: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("signal.signal(signal.SIGTERM, self.sigterm_handler)")]),this._v(" .  ")]),this._v(" This means, that when the server finishes its work, then "),e("span",{staticClass:"notranslate"},[e("em",[this._v("sigterm_handler")])]),this._v(" method of plugin class will be invoked. In the actual example the function just writes a notification into log, tracing the fact of it's invocation.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("sys.exit(0)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In addition see into examples of file log "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/log/FSize_watcher.log")])]),this._v(" formed by the plugins above:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Tue Feb  3 13:06:24 2015 - FSize_watcher started. Monitoring file: /usr/local/cpanel/logs/access_log, saving data period=60 sec\nTue Feb  3 13:06:24 2015 - FSize_watcher: file size is 122972890 bytes\nTue Feb  3 13:07:25 2015 - FSize_watcher: file size is 122975507 bytes\nTue Feb  3 13:08:25 2015 - FSize_watcher: file size is 122978124 bytes\nTue Feb  3 13:09:25 2015 - FSize_watcher: file size is 122978997 bytes\nTue Feb  3 13:10:25 2015 - FSize_watcher: file size is 122981033 bytes\nTue Feb  3 13:11:25 2015 - FSize_watcher: file size is 122982052 bytes\nTue Feb  3 13:13:25 2015 - FSize_watcher: file size is 122983798 bytes\nTue Feb  3 13:20:15 2015 - File watcher saver plugin: TERMINATE\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Thu Feb  5 13:07:27 2015 - FSize_watcher started. Monitoring file: /usr/local/cpanel/logs/error_log, saving data period=60 sec\nThu Feb  5 13:07:27 2015 - FSize_watcher: file size is 14771849 bytes\nThu Feb  5 14:03:32 2015 - FSize_watcher: file size is 14771995 bytes\nThu Feb  5 15:01:36 2015 - FSize_watcher: file size is 14772434 bytes\nThu Feb  5 17:15:47 2015 - FSize_watcher: file size is 14772873 bytes\nThu Feb  5 18:47:54 2015 - FSize_watcher: file size is 14775213 bytes\nThu Feb  5 19:11:56 2015 - FSize_watcher: file size is 14775652 bytes\nThu Feb  5 21:09:05 2015 - FSize_watcher: file size is 14776091 bytes\nThu Feb  5 23:06:14 2015 - FSize_watcher: file size is 14776530 bytes\nFri Feb  6 00:47:23 2015 - FSize_watcher: file size is 14778870 bytes\nFri Feb  6 01:02:24 2015 - FSize_watcher: file size is 14779309 bytes\nFri Feb  6 02:00:28 2015 - FSize_watcher: file size is 14779434 bytes\nFri Feb  6 03:16:34 2015 - FSize_watcher: file size is 14779873 bytes\nFri Feb  6 05:04:42 2015 - FSize_watcher: file size is 14779998 bytes\nFri Feb  6 05:12:43 2015 - FSize_watcher: file size is 14780437 bytes\nFri Feb  6 05:56:50 2015 - FSize_watcher: file size is 14780551 bytes\nFri Feb  6 06:01:50 2015 - FSize_watcher: file size is 14780975 bytes\nFri Feb  6 06:03:51 2015 - FSize_watcher: file size is 14782183 bytes\nFri Feb  6 06:04:51 2015 - FSize_watcher: file size is 14782575 bytes\nFri Feb  6 06:18:52 2015 - FSize_watcher: file size is 14782647 bytes\nFri Feb  6 06:21:52 2015 - FSize_watcher: file size is 14782898 bytes\nFri Feb  6 06:48:54 2015 - FSize_watcher: file size is 14785238 bytes\nFri Feb  6 07:09:56 2015 - FSize_watcher: file size is 14785677 bytes\nTue Feb  6 08:03:15 2015 - File watcher saver plugin: TERMINATE\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Also we can notice that handler "),e("span",{staticClass:"notranslate"},[this._v(" SIG_TERM ")]),this._v(" was executed, signaling that plugin received the notification about server shut-down.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"notifier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notifier","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Notifier")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v("Notifier")]),this._v(" informs system users about any events.\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# FSize_watcher_saver.py\n# Example plugin for monitoring file size and last modification date-time.\n# Part 4. Notifier \n\nimport time\nimport smtplib \n\nfrom lvestats.lib.commons import dateutil\nfrom lvestats.core.plugin import LveStatsPlugin  \n\n\n# Key name\nCOLLECTOR_KEY_FSIZE = 'FSizeWatcher_fsize'\nCOLLECTOR_KEY_FILENAME = 'FSizeWatcher_fname' \n\n# email message pattern\nEMAIL_MESSAGE_PATTERN = \"\"\"Hello, administrator!\nSize of the file '%s' is %d bytes.\n\"\"\"  \n\n\nclass FSize_watcher_notifier (LveStatsPlugin):\n\t# Default period\n\tDEFAULT_PERIOD_STR = '12h'\n\t# this plugin should be third in chainorder = 3\n\t# Timeout\n\ttimeout = 20\n\t# Notifier Log filename\n\tlog_file_name = '/var/log/FSize_watcher_notifier.log'\n\t# Email from address\n\temail_from = None\n\t# Email to address\n\temail_to = None\n\t# Email subject\n\temail_subject = None\n\t# Sets configuration to plugin\n\tdef set_config(self, config):\n\t\t# Email settings\n\t\tself.email_from = config.get('notify_from_email', None)\n\t\tself.email_to = config.get('notify_to_email', None)\n\t\tself.email_subject = config.get('notify_from_subject', 'Message from FSize_watcher_notifier plugin')\n\t\t# Notify period\n\t\ts_period = config.get('notify_period', None)\n\t\tif s_period:\n\t\t\tself.period = dateutil.parse_period2(s_period)\n\t\telse:\n\t\t\tself.period = dateutil.parse_period2(FSize_watcher_notifier.DEFAULT_PERIOD_STR)\n\t\tf = open(self.log_file_name, 'a')\n\t\tf.write('%s - FSize_watcher_notifier plugin: configure\\n' % time.asctime(time.localtime()))\n\t\tf.write('       - Period: %s\\n' % self.period)\n\t\tf.write('       - From: %s\\n' % self.email_from)\n\t\tf.write('       - To: %s\\n' % self.email_to)\n\t\tf.write('       - Subject: \\'%s\\'\\n' % self.email_subject)\n\t\tf.close() \n\t\t\n\t# work method\n\tdef execute(self, lve_data):\n\t\tif COLLECTOR_KEY_FSIZE not in lve_data or COLLECTOR_KEY_FILENAME not in lve_data:\n\t\t\treturn\n\t\tif not self.email_from or not self.email_to:\n\t\t\tf = open(self.log_file_name, 'a')\n\t\t\tf.write('%s - FSize_watcher_notifier plugin error: email_from or email_to not set\\n')\n\t\t\tf.close()\n\t\t\treturn\n\t\ttry:\n\t\t\tfrom email.mime.text import MIMEText\n\t\t\t# Send email\n\t\t\tmsg = MIMEText(EMAIL_MESSAGE_PATTERN % (lve_data[COLLECTOR_KEY_FILENAME], lve_data[COLLECTOR_KEY_FSIZE]))\n\t\tmsg['Subject'] = self.email_subject\n\t\tmsg['From'] = self.email_from\n\t\tmsg['To'] = self.email_to \n\t\t\n\t\ts = smtplib.SMTP('localhost')\n\t\ts.sendmail(self.email_from, [self.email_to], msg.as_string())\n\t\t\ts.quit() \n\t\t\t\n\t\tf = open(self.log_file_name, 'a')\n\t\t\tf.write('%s - FSize_watcher_notifier plugin: email message was successfully sent\\n' % time.asctime(time.localtime()))\n\t\t\tf.close()\n\t\t\texcept Exception as e:\n\t\t\tf = open(self.log_file_name, 'a')\n\t\t\tf.write('%s - FSize_watcher_notifier plugin error:\\n%s\\n' % (time.asctime(time.localtime()), str(e)))\n\t\t\tf.close()\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Configuration file "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/sysconfig/lvestats.config/FSize_watcher_notifier.cfg")]),this._v(" : ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# Config file for FSize_watcher_notifier.py plugin\n# Please define email options here \n\nNOTIFY_FROM_EMAIL=user@hostname\nNOTIFY_FROM_SUBJECT=Message from FSize_watcher_notifier\nNOTIFY_TO_EMAIL=admin@hostname\nNOTIFY_PERIOD=12h\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Plugin’s index number equals 3 ( "),s("span",{staticClass:"notranslate"},[t._v(" order=3 ")]),t._v(" ), that is why "),s("span",{staticClass:"notranslate"},[t._v(" notifier ")]),t._v(" starts after the rest. But since it uses only data formed by "),s("span",{staticClass:"notranslate"},[t._v(" collector ")]),t._v(" , then its order may equal any number bigger that "),s("span",{staticClass:"notranslate"},[t._v(" collectors ")]),t._v(" order (>0).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Notifier ")]),this._v(" reads the necessary parameters from the configuration (email address, topic, period) and writes them into its own log as reference.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Plugin’s "),e("span",{staticClass:"notranslate"},[e("em",[this._v("execute")])]),this._v(" method checks the availability of all the necessary data (email parameters, collectors data) and sends the message. All the notifications are written into the "),e("span",{staticClass:"notranslate"},[this._v(" notifier's ")]),this._v(" own log.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Thu Feb  5 11:51:34 2015 - FSize_watcher_notifier plugin: configure\n       - Period: 60.0\n       - From: user@hostname\n       - To: admin@hostname\n       - Subject: 'Message from FSize_watcher_notifier'\nThu Feb  5 11:51:35 2015 - FSize_watcher_notifier plugin: email message was successfully sent\nThu Feb  5 11:52:35 2015 - FSize_watcher_notifier plugin: email message was successfully sent\nThu Feb  5 11:53:35 2015 - FSize_watcher_notifier plugin: email message was successfully sent\nThu Feb  5 11:54:35 2015 - FSize_watcher_notifier plugin: email message was successfully sent\nThu Feb  5 11:57:00 2015 - FSize_watcher_notifier plugin: configure\n       - Period: 43200.0\n       - From: user@hostname\n       - To: admin@hostname\n       - Subject: 'Message from FSize_watcher_notifier'\nThu Feb  5 11:57:00 2015 - FSize_watcher_notifier plugin: email message was successfully sent\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"file-info-and-format-for-var-lve-info-file"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#file-info-and-format-for-var-lve-info-file","aria-hidden":"true"}},[this._v("#")]),this._v(" File info and format for /var/lve/info file")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When writing to this file we make sure that: average "),e("span",{staticClass:"notranslate"},[this._v(" CPU/IOPS/MEM ")]),this._v(" is never greater then "),e("span",{staticClass:"notranslate"},[this._v(" LIMIT ")]),this._v(" for that resource.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("First line of the file is ' "),e("span",{staticClass:"notranslate"},[this._v(" default limits ")]),this._v(" '.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# 0 - id\n# 1 - mep (average entry processes)\n# 2 - lep  (limit ...)\n# 3 - cpu_usage (average speed)\n# 4 - lcpu (limit spped)\n# 5 - mem_usage (average virtual memory)\n# 6 - lmem (limit ...)\n# 7 - mem_fault (number of virtual memory faults)\n# 8 - mep_fault (number of entry processes faults)\nLVE_VERSION >=6\n# 9 - lmemphy (limit physical memory)\n# 10 - memphy (average ...)\n# 11 - memphy_fault (faults ...)\n# 12 - lnproc (limit number of processes)\n# 13 - nproc (average ...)\n# 14 - nproc_fault (faults ...)\n# 15 - lcpuw (CPU weight -- deprecated not used)\n# 16 - io_usage (average IO usage)\n# 17 - io_limit (limit ...)\nLVE_VERSION >=8\n#18 - liops  (limit IOPS)\n#19 - iops (average IOPS)\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"troubleshooting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting","aria-hidden":"true"}},[this._v("#")]),this._v(" Troubleshooting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" lvestats ")]),this._v(" service and utilities write fatal errors to system log.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("There is "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/log/lve-stats.log")])]),this._v(" file with additional information (warnings, tracebacks for errors).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"cagefs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" CageFS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-3","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Only safe binaries are available to user")]),t._v(" "),s("li",[t._v("User will not see any other users, and would have no way to detect presence of other users & their user names on the server")]),t._v(" "),s("li",[t._v("User will not be able to see server configuration files, such as Apache config files.")]),t._v(" "),s("li",[t._v("User's will have limited view of "),s("em",[t._v("/proc")]),t._v(" file system, and will not be able to see other users' processes")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[t._v(" Apache (suexec, suPHP, mod_fcgid, mod_fastcgi) ")])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" LiteSpeed Web Server ")])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" Cron Jobs  ")])]),t._v(" "),s("li",[t._v("SSH")]),t._v(" "),s("li",[t._v("Any other "),s("span",{staticClass:"notranslate"},[t._v(" PAM ")]),t._v(" enabled service")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("mod_php is not supported, MPM ITK requires a custom patch")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("CageFS is not supported for H-Sphere.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"minimum-requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#minimum-requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Minimum Requirements:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("kernel: CL6 with lve1.2.17.1 or later, CL7.")]),this._v(" "),e("li",[this._v("7GB of disk space.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Up to 8MB per customer in "),s("code",[t._v("/var")]),t._v(" directory (to store custom "),s("code",[t._v("/etc")]),t._v(" directory)")]),t._v(" "),s("li",[t._v("5GB to 20GB in "),s("code",[t._v("/usr/share")]),t._v(" directory (to store safe skeleton of a filesystem)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"cagefs-quirks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cagefs-quirks","aria-hidden":"true"}},[this._v("#")]),this._v(" CageFS quirks")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("lastlog will not work ("),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/log/lastlog")])]),this._v(").")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[t._v("PHP will load "),s("code",[t._v("php.ini")]),t._v(" from "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/selector/php.ini")])]),t._v(". That file is actually a link to the real "),s("code",[t._v("php.ini")]),t._v(" file from your system. So the same "),s("code",[t._v("php.ini")]),t._v(" will be loaded in the end.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("You have to run "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cagefsctl --update")])]),this._v(" any time you have modified "),e("code",[this._v("php.ini")]),this._v(", or you want to get new/updated software inside CageFS.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("jailshell")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install cagefs\n$ /usr/sbin/cagefsctl --init\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("That last command will create skeleton directory that might be around 7GB in size. If you don't have enough disk space in "),e("em",[this._v("/usr/share")]),this._v(", use following commands to have "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cagefs-skeleton")])]),this._v(" being placed in a different location:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ mkdir /home/cagefs-skeleton\n$ ln -s /home/cagefs-skeleton /usr/share/cagefs-skeleton\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("If you are placing skeleton in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/home")])]),t._v(" directory on cPanel servers, you must configure the following option in cPanel WHM: "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("WHM -> Server Configuration -> Basic cPanel/WHM Setup -> Basic Config -> Additional home directories")])]),s("br"),t._v("\nChange the value to blank (not default "),s("span",{staticClass:"notranslate"},[t._v(" Home ")]),t._v(" ). Without changing this option, cPanel will create new accounts in incorrect places.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("cPanel")]),t._v(" "),s("li",[t._v("Plesk")]),t._v(" "),s("li",[t._v("DirectAdmin")]),t._v(" "),s("li",[t._v("ISPmanager")]),t._v(" "),s("li",[t._v("Interworx")]),t._v(" "),s("li",[t._v("MySQL")]),t._v(" "),s("li",[t._v("PostgreSQL")]),t._v(" "),s("li",[t._v("LiteSpeed")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Starting from "),s("strong",[t._v("cagefs-6.1-27")]),t._v(" "),s("span",{staticClass:"notranslate"},[s("code",[t._v("fs.proc_can_see_other_uid")])]),t._v(" will be migrated (one time) from "),s("em",[t._v("/etc/sysctl.conf")]),t._v(" into "),s("em",[t._v("/etc/sysctl.d/90-cloudlinux.conf")]),t._v(" . If this variable is not set in either file, it will default to 0.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("It is strongly advised against setting this variable in "),s("code",[t._v("90-cloudlinux.conf")]),t._v(". Define it in "),s("code",[t._v("/etc/sysctl.conf")]),t._v(" or in some other config file with an index number greater than "),s("code",[t._v("90-cloudlinux.conf")]),t._v(", e.g. "),s("code",[t._v("/etc/sysctl.d/95-custom.conf")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("fs.proc_can_see_other_uid")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"uninstalling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstalling")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --remove-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("That command will: disable CageFS for all customers, unmount CageFS for all users, removes "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share/cagefs-skeleton")]),this._v(" & "),e("em",[this._v("/var/cagefs")])]),this._v(" directories. It will not remove "),e("em",[this._v("/etc/cagefs")]),this._v(" directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum remove cagefs\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"managing-users"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#managing-users","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing users")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Enabled for all, except those that are disabled.")]),this._v(" "),e("li",[this._v("Disabled for all, except those that are enabled.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --enable-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --disable-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --toggle-mode\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --enable [username]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --disable [username]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --list-enabled\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --list-disabled\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --display-user-mode\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"file-system-templates"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#file-system-templates","aria-hidden":"true"}},[this._v("#")]),this._v(" File system templates")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS creates a filesystem template in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share/cagefs-skeleton")])]),this._v(" directory. CageFS template will be mounted for each customer.  The template is created by running:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# /usr/sbin/cagefsctl --init\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --update\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The behavior of the commands (and the files copied into "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share/cagefs-skeleton")])]),this._v(" directory) depends on the configuration files in "),e("em",[this._v("/etc/cagefs/conf.d")]),e("br"),this._v("\nYou can add additional files, users, groups and devices into CageFS template by adding .cfg file, and running:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --update\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/sbin/cagefsctl --update\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here is an example "),e("span",{staticClass:"notranslate"},[e("em",[this._v("openssh-clients.cfg")])]),this._v(" file:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[openssh-clients]\n\ncomment=OpenSSH Clients\n\npaths=/etc/ssh/ssh_config, /bin/hostname, /usr/bin/scp, /usr/bin/sftp, /usr/bin/slogin, /usr/bin/ssh, /usr/bin/ssh-add, /usr/bin/ssh-agent, /usr/bin/ssh-copy-id, /usr/bin/.ssh.hmac, /usr/bin/ssh-keyscan, /usr/libexec/openssh/sftp-server, /etc/environment, /etc/security/pam_env.conf\n\ndevices=/dev/ptmx\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Example "),e("span",{staticClass:"notranslate"},[e("em",[this._v("mail.cfg")])]),this._v(" file:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[mail]\n\ncomment=Mail tools\n\npaths=/bin/mail, /etc/aliases.db, /etc/mail, /etc/mailcap, /etc/mail.rc, /etc/mime.types, /etc/pam.d/smtp.sendmail, /etc/rc.d/init.d/sendmail, /etc/smrsh, /etc/sysconfig/sendmail, /usr/bin/hoststat, /usr/bin/Mail, /usr/bin/mailq.sendmail, /usr/bin/makemap, /usr/bin/newaliases.sendmail, /usr/bin/purgestat, /usr/bin/rmail.sendmail, /usr/lib64/sasl2/Sendmail.conf, /usr/lib/mail.help, /usr/lib/mail.tildehelp, /usr/lib/sendmail.sendmail, /usr/sbin/mailstats, /usr/sbin/makemap, /usr/sbin/praliases, /usr/sbin/sendmail.sendmail, /usr/sbin/smrsh, /var/log/mail, /var/spool/clientmqueue, /var/spool/mqueue\n\nusers=smmsp\n\ngroups=smmsp\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("There is an easy way to add/delete files from particular "),s("span",{staticClass:"notranslate"},[t._v(" RPMs ")]),t._v(" into CageFS. That can be done by using "),s("span",{staticClass:"notranslate"},[s("code",[t._v("--addrpm")]),t._v(" and "),s("code",[t._v("--delrpm")])]),t._v(" options in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("cagefsctl")])]),t._v(" . Like:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --addrpm ffmpeg\n$ cagefsctl --update\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("ffmpeg RPM should be installed on the system already.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"excluding-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#excluding-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Excluding files")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To exclude files and directories from CageFS, edit file:"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/custom.black.list")])]),e("br"),this._v("\nAnd add files or directories in there, one per line.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --force-update\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Please do not edit "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/black.list")])]),this._v(" file because it is replaced during the update of CageFS package.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"excluding-users"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#excluding-users","aria-hidden":"true"}},[this._v("#")]),this._v(" Excluding users")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To exclude users from CageFS, create a file (any name would work) inside "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/exclude")])]),this._v(" folder, and list users that you would like to exclude from CageFS in that file (each user in separate line).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --user-status USER\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("And check that the command shows "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Disabled")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"mount-points"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mount-points","aria-hidden":"true"}},[this._v("#")]),this._v(" Mount points")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",{staticClass:"notranslate"},[this._v(" /usr/share/cagefs-skeleton ")]),this._v(" with safe files is created")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Any directory from the server that needs to be shared across all users is mounted into "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/share/cagefs-skeleton")])]),this._v("\n(a list of such directories is defined in /etc/cagefs/cagefs.mp)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",{staticClass:"notranslate"},[this._v(" /var/cagefs/[prefix]/username ")]),this._v(" directory for each user. Prefix is defined as last two digits of user id. User id is taken from "),e("span",{staticClass:"notranslate"},[this._v(" /etc/passwd ")]),this._v(" file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Separate /etc directory is created and populated for each user inside "),e("span",{staticClass:"notranslate"},[this._v(" /var/cagefs/[prefix]/username ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("/tmp directory is mounted for each user separately into "),e("span",{staticClass:"notranslate"},[this._v(" ~username/.cagefs-tmp directory ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("@/full/path/to/directory,permission notation")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("@/var/run/screen,777")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Such entry would create separate "),e("span",{staticClass:"notranslate"},[this._v(" /var/run/screen ")]),this._v(" for each user, with permissions set to 777")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/var/lib/mysql\n/var/lib/dav\n/var/www/cgi-bin\n/var/spool\n/dev/pts\n/usr/local/apache/domlogs\n/proc\n/opt\n@/var/spool/cron,700\n@/var/run/screen,777\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --remount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"per-user-virtual-mount-points"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#per-user-virtual-mount-points","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Per user virtual mount points")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[this._v("[CageFS 5.1 and higher]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/cagefs/[prefix]/[user]/virt.mp")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("virtdir1,mask\n@subdir1,mask\n@subdir2,mask\nvirdir2,mask\n@subdir3,mask\n@subdir4,mask\n>virtdir3,mask\n@subdir5,mask\n@subdir6,mask\n# comments\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("em",[t._v("mask")])]),t._v(" is always optional, if missing 0755 is used")]),t._v(" "),s("li",[t._v("Create virtual directory "),s("span",{staticClass:"notranslate"},[s("em",[t._v("subdir/virtdir")])]),t._v(" , mount it to:\n"),s("ul",[s("li",[s("span",{staticClass:"notranslate"},[t._v(" skeleton "),s("em",[t._v("jaildir/virtdir")])])]),t._v(" "),s("li",[t._v("inside virtual directory, create directories "),s("span",{staticClass:"notranslate"},[s("em",[t._v("subdir1, subdir2")])])]),t._v(" "),s("li",[t._v("mount "),s("span",{staticClass:"notranslate"},[s("em",[t._v("virtdir1/subdir1")])]),t._v(" to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("subdir/virtdir/subdir1")])])]),t._v(" "),s("li",[t._v("if "),s("span",{staticClass:"notranslate"},[s("em",[t._v("virtdir")])]),t._v(" is started with >, create directory "),s("span",{staticClass:"notranslate"},[s("em",[t._v("subdir/virtdir")])]),t._v(" , but don't mount it into "),s("span",{staticClass:"notranslate"},[s("em",[t._v("jaildir")])]),t._v(" . This is needed for cases when "),s("span",{staticClass:"notranslate"},[s("em",[t._v("virtdir")])]),t._v(" is inside home base dir.")])])]),t._v(" "),s("li",[t._v("if file "),s("em",[t._v("/var/cagefs/[prefix]/[user]/virt.mp")]),t._v(" is missing -- no virt directories are loaded for that user.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example if we have Plesk 11.5 with two users "),e("span",{staticClass:"notranslate"},[e("em",[this._v("cltest1")])]),this._v(", and "),e("span",{staticClass:"notranslate"},[e("em",[this._v("cltest2")])]),this._v(":\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cltest1 uid 10000 has domains: cltest1.com, cltest1-addon.com and sub1.cltest1.com\ncltest2 uid 10001 has domains: cltest2.com, cltest2-addon.com\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In such case we would have file "),e("em",[this._v("/var/cagefs/00/cltest1/virt.mp")]),this._v(" :\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(">/var/www/vhosts/system,0755\n@cltest1-addon.com,0755\n@cltest1.com,0755\n@sub1.cltest1.com,0755\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("and file: "),e("em",[this._v("/var/cagefs/01/cltest2/virt.mp:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v(">/var/www/vhosts/system\n@cltest2-addon.com\n@cltest2.com\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"split-by-username"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#split-by-username","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Split by username")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[this._v("[CageFS 5.3.1+]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/home/httpd/fcgi-bin/user1\n/home/httpd/fcgi-bin/user2\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("%/home/httpd/fcgi-bin\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --remount-all\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("After that each subdirectory of "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/httpd/fcgi-bin")])]),t._v(" will be mounted for appropriate user in CageFS: "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/httpd/fcgi-bin/user1")])]),t._v(" will be mounted for "),s("span",{staticClass:"notranslate"},[t._v(" user1 ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/httpd/fcgi-bin/user2")])]),t._v(" will be mounted for "),s("span",{staticClass:"notranslate"},[t._v(" user2 ")]),t._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"mounting-users-home-directory-inside-cagefs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mounting-users-home-directory-inside-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Mounting users home directory inside CageFS")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS 6.1-1 (and later) has improved mounting user’s home directory that is applied for users with home directories like "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/home/user")]),this._v(" or "),e("em",[this._v("/homeN/user")])]),this._v(" (where "),e("span",{staticClass:"notranslate"},[this._v(" N ")]),this._v(" = 0,1,..9).")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("In such case, earlier versions of CageFS always mount user’s home directory to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/user")])]),t._v(" and create symlink "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/homeN -> /home")])]),t._v(" when needed, so user’s home directory can be accessed both via "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/user")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/homeN/user")])]),t._v(" . This quirk leads to some rare incompatibilities between CageFS and other software (for example OpenCart), because real path of user’s home directory in CageFS and in real file system can differ.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("New CageFS mounts user’s home directory in a way that its real path in CageFS is always the same as in real file system. Additionally, CageFS searches for symlinks like\n"),e("span",{staticClass:"notranslate"},[e("em",[this._v("/homeX -> /homeY")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/homeX/user -> /homeY/user")])]),this._v(" in real system and creates such symlinks in user’s CageFS when found.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# touch /etc/cagefs/disable.home.dirs.search\n# cagefsctl --force-update\n# cagefsctl --remount-all\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v('New mounting mode will be disabled automatically when "mounting base home directory" mode is enabled '),s("span",{staticClass:"notranslate"},[t._v(" ("),s("code",[t._v("mount_basedir=1")]),t._v(" setting in "),s("em",[t._v("/etc/cagefs/cagefs.base.home.dirs")])]),t._v(" file).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"base-home-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#base-home-directory","aria-hidden":"true"}},[this._v("#")]),this._v(" Base home directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have a custom setup where home directories are in a special format, like: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/home/$USERNAME/data")])]),this._v(" , you can specify it using regular expressions. This is needed by CageFS to create safe home space for end user, where no other users are visible.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("We will create empty: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/cagefs/[prefix]/$USERNAME/home")])]),this._v(" , and then mount "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/home/$USERNAME")])]),this._v(" in that directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To do that, create a file: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/cagefs.base.home.dirs")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("^/home/\n^/var/www/users/\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If there is no such file, the home directory without last component will be considered as a base dir, like with\n"),e("span",{staticClass:"notranslate"},[e("em",[this._v("/home/$USERNAME")])]),this._v(" we would create "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/cagefs/[prefix]/$USERNAME/home")])]),this._v(" , and then mount\n"),e("span",{staticClass:"notranslate"},[e("em",[this._v("/home/$USERNAME")])]),this._v(" in there")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("With "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/$USERNAME/data")])]),t._v(" as a home dir, we would assume that "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/$USERNAME")])]),t._v(" is the base directory, and we would create "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/cagefs/[prefix]/$USERNAME/home/$USERNAME/data")])]),t._v(" and then we would mount "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/$USERNAME/data")])]),t._v(" -- which would cause each user to see empty base directories for other users, exposing user names.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Sharing home directory structure among users")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When you want to share directory structure among multiple users, you can add following line at the top of the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/cagefs.base.home.dirs")])]),this._v(" file. This is useful on the systems that support sites with multiple users, with different home directories inside the main 'site' directory.\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mount_basedir=1\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" user1 ")]),t._v(" has home directory "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/www/vhosts/sitename.com/web_users/user1")])]),t._v(" "),s("span",{staticClass:"notranslate"},[t._v(" user2 ")]),t._v(" has home directory "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/www/vhosts/sitename.com/web_users/user2")])]),t._v("\nsite admin has home directory "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/www/vhosts/sitename.com")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("So, content of "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/cagefs.base.home.dirs")])]),this._v(" should be the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mount_basedir=1\n^/var/www/vhosts/[^/]+\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Directory structure in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/www/vhosts/sitename.com")])]),this._v(" will be mounted in CageFS for appropriate users."),e("br"),this._v("\nEach user will have access to whole directory structure in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/www/vhosts/sitename.com")])]),this._v(" (according to their permissions).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("You should execute "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cagefsctl --remount-all")])]),this._v(" in order to apply changes to CageFS (i.e. remount home directories).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"postgresql-support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#postgresql-support","aria-hidden":"true"}},[this._v("#")]),this._v(" PostgreSQL support")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS works with any PostgreSQL version installed from CloudLinux or CentOS repositories. PostgreSQL packages for CloudLinux 7 come from the upstream (CentOS) unmodified. PostgreSQL’s socket is located in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/run/postgresql")])]),this._v(" directory. This directory is mounted to CageFS by default (in cagefs-5.5-6.34 or later).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/var/run/postgresql\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("tо "),e("em",[this._v("/etc/cagefs/cagefs.mp")]),this._v(" file and then execute:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --remount-all \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS provides separate "),e("em",[this._v("/tmp")]),this._v(" directory for each end user. Yet, PostgreSQL keeps its Unix domain socket inside server's main "),e("em",[this._v("/tmp")]),this._v(" directory. In addition to that, the location is hard coded inside PostgreSQL libraries.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To resolve the issue, CloudLinux provides a version of PostgreSQL with modified start up script that can store PostgreSQL's socket in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/run/postgres.")])]),this._v(" The script automatically creates link from "),e("em",[this._v("/tmp")]),this._v(" to that socket to prevent PostgreSQL dependent applications from breaking.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In addition to that, CageFS knows how to correctly link this socket inside end user's "),e("em",[this._v("/tmp")]),this._v(" directory.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("Make sure you have updated to latest version of PostgreSQL.")])]),t._v(" "),s("li",[s("p",[t._v("Edit file "),s("em",[t._v("/etc/sysconfig/postgres")]),t._v(", and uncomment "),s("span",{staticClass:"notranslate"},[s("em",[t._v("SOCK_DIR")])]),t._v(" line.")])]),t._v(" "),s("li",[s("p",[t._v("Update CageFS configuration by running:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl  --reconfigure-cagefs\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Restart PostgreSQL by running:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service postgresql restart \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you are using cPanel, you would also need to modify file: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cron.daily/tmpwatch")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("flags=-umc \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("flags=-umcl\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"pam-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pam-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" PAM configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS depends on "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("pam_lve")])]),this._v(" module tor PAM enabled services. When installed, the module is automatically installed for following services:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("sshd")]),this._v(" "),e("li",[this._v("crond")]),this._v(" "),e("li",[this._v("su")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The following line is added to corresponding file in "),e("code",[this._v("/etc/pam.d/")]),this._v(":\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("session    required     pam_lve.so      100     1\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Where 100 stands for minimum "),e("span",{staticClass:"notranslate"},[this._v(" UID ")]),this._v(" to put into "),e("span",{staticClass:"notranslate"},[this._v("CageFS & LVE")]),this._v(" , and 1 stands for CageFS enabled.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"filtering-options-for-commands-executed-by-proxyexec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#filtering-options-for-commands-executed-by-proxyexec","aria-hidden":"true"}},[this._v("#")]),this._v(" Filtering options for commands executed by proxyexec")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can disallow a user in CageFS to execute specific commands with some specific "),e("em",[this._v("dangerous")]),this._v(" options via proxyexec.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To do so, you should create "),e("span",{staticClass:"notranslate"},[e("code",[this._v("<command>.json")])]),this._v(" file in the "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/filters")])]),this._v(" directory and specify the names of options you want to disable.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example, to disable some options of "),e("span",{staticClass:"notranslate"},[e("code",[this._v("sendmail")])]),this._v(" command, "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/filters/sendmail.json")])]),this._v(" is created with the following content:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{\n  "default": {\n    "deny": [\n      "-be",\n      "-bem"\n    ],\n    "restrict_path": [\n      "-C",\n      "-D"\n    ]\n  },\n  "/usr/sbin/sendmail": {\n    "deny": [\n      "-be",\n      "-bem"\n    ],\n    "restrict_path": [\n      "-C",\n      "-D"\n    ]\n  },\n  "/var/qmail/bin/sendmail": {\n    "deny": [\n      "-be",\n      "-bem"\n    ],\n    "restrict_path": [\n      "-C",\n      "-D"\n    ]\n  },\n  "/usr/sbin/sendmail.sendmail": {\n    "deny": [\n      "-be",\n      "-bem"\n    ],\n    "restrict_path": [\n      "-C",\n      "-D"\n    ]\n  },\n  "/usr/local/cpanel/bin/sendmail": {\n    "deny": [\n      "-be",\n      "-bem"\n    ],\n    "restrict_path": [\n      "-C",\n      "-D"\n    ]\n  }\n}\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can specify options for different paths separately (for example, "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/sbin/sendmail")])]),this._v(" or "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/qmail/bin/sendmail")])]),this._v(").")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("deny")])]),t._v(" list should contain options that should be disallowed for use by users (the black list of options, all other options will be allowed).")]),t._v(" "),s("li",[t._v("You can specify the white list of options in the "),s("span",{staticClass:"notranslate"},[s("code",[t._v("allow")])]),t._v(" list (all other options will be denied).")]),t._v(" "),s("li",[t._v("You cannot specify both white and black list ("),s("span",{staticClass:"notranslate"},[s("code",[t._v("allow")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("code",[t._v("deny")])]),t._v(").")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is possible to verify that a path specified as a parameter for an option does not refer outside of the user’s home directory. This check is performed for options specified in the "),e("span",{staticClass:"notranslate"},[e("code",[this._v("restrict_path")])]),this._v(" list. All issues are reported in "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/log/secure")])]),this._v(" log file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"executing-by-proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#executing-by-proxy","aria-hidden":"true"}},[this._v("#")]),this._v(" Executing by proxy")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Some software has to run outside CageFS to be able to complete its job. This includes such programs as "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("passwd, sendmail")])]),this._v(", etc.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CloudLinux uses "),e("span",{staticClass:"notranslate"},[this._v(" proxyexec ")]),this._v(" technology to accomplish this goal. You can define any program to run outside CageFS, by specifying it in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/custom.proxy.commands")])]),this._v(" file. Do not edit existing "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/proxy.commands")])]),this._v(" as it will be overwritten with next CageFS update.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --update\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("All the cPanel scripts located in "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/local/cpanel/cgi-sys/")])]),this._v(" that user might need to execute should be added to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("proxy.commands")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The syntax of "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/*.proxy.commands")])]),this._v(" files is as follows:"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("code",[this._v("ALIAS:wrapper_name=username:path_to_executable")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Mandatory parameters are "),e("span",{staticClass:"notranslate"},[e("code",[this._v("ALIAS")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[this._v("path_to_executable")])]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("ALIAS")])]),t._v(" - any name which is unique within all "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cagefs/*.proxy.commands")])]),t._v(" files;")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("wrapper_name")])]),t._v(" - the name of wrapper file, which is used as a replacement for executable file "),s("span",{staticClass:"notranslate"},[s("code",[t._v("path_to_executable_ inside CageFS")])]),t._v(". Wrapper files are located in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/cagefs/safeprograms")])]),t._v(". If wrapper name is not specified, then default wrapper "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/cagefs/safeprograms/cagefs.proxy.program")])]),t._v(" is used. Also, a reserved word "),s("span",{staticClass:"notranslate"},[s("code",[t._v("noproceed")])]),t._v(" can be used, it will intend that wrapper is not in use (installed before) - applied for the commands with several "),s("span",{staticClass:"notranslate"},[s("code",[t._v("ALIAS")])]),t._v(", as in the example below.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("username")])]),t._v(" - the name of a user on whose behalf "),s("span",{staticClass:"notranslate"},[s("code",[t._v("path_to_executable")])]),t._v(" will run in the real system. If "),s("span",{staticClass:"notranslate"},[s("code",[t._v("username")])]),t._v(" is not specified, then "),s("span",{staticClass:"notranslate"},[s("code",[t._v("path_to_executable")])]),t._v(" will run on behalf the same user that is inside CageFS.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("path_to_executable")])]),t._v(" - the path to executable file which will run via "),s("span",{staticClass:"notranslate"},[s("code",[t._v("proxyexec")])]),t._v(".")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Example of a simple command executed via "),e("span",{staticClass:"notranslate"},[e("code",[this._v("proxyexec")])]),this._v(":\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("SENDMAIL=/usr/sbin/sendmail\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Example of "),s("span",{staticClass:"notranslate"},[t._v(" crontab ")]),t._v(" command execution with custom wrapper under "),s("span",{staticClass:"notranslate"},[t._v("root")]),t._v(" (privilege escalation). The command uses two "),s("span",{staticClass:"notranslate"},[t._v("ALIAS")]),t._v(" , that is why in the second line "),s("span",{staticClass:"notranslate"},[s("code",[t._v("noproceed")])]),t._v(" is specified instead of wrapper name.\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("CRONTAB_LIST:cagefs.proxy.crontab=root:/usr/bin/crontab\nCRONTAB_SAVE:noproceed=root:/usr/bin/crontab\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Users with duplicate UIDs")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Sometimes hosters may have users with non unique "),e("span",{staticClass:"notranslate"},[this._v("UIDs")]),this._v(". Thus, "),e("span",{staticClass:"notranslate"},[e("code",[this._v("proxyexec")])]),this._v(" may traverse users directory to find a specific one. That behavior turns into inappropriate if users directory is not cached locally (for example LDAP is in use).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("touch /etc/cagefs/proxy.disable.duid\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("rm /etc/cagefs/proxy.disable.duid\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"custom-etc-files-per-customer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#custom-etc-files-per-customer","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom /etc files per customer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[this._v("[4.0-5 and later]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To create a custom file in /etc directory for end user, create a directory:"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/custom.etc/[username]")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example, if you want to create custom "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/hosts")]),this._v(" file for USER1 ")]),this._v(" , create a directory:"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/custom.etc/USER1")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Inside that directory, create a "),e("span",{staticClass:"notranslate"},[e("em",[this._v("hosts")])]),this._v(" file, with the content for that user.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --update-etc USER1\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --update-etc\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To remove a custom file, remove it from "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/custom.etc/[USER]")])]),this._v(" directory, and re-run:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --update-etc\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"moving-cagefs-skeleton-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#moving-cagefs-skeleton-directory","aria-hidden":"true"}},[this._v("#")]),this._v(" Moving cagefs-skeleton directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Sometimes you might need to move "),e("span",{staticClass:"notranslate"},[this._v(" cagefs-skeleton ")]),this._v(" from "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share")])]),this._v(" to another partition.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("If "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/share/cagefs-skeleton")])]),this._v(" is not created yet ( "),e("span",{staticClass:"notranslate"},[this._v(" cagefsctl --init ")]),this._v(" wasn't executed), then execute:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ mkdir /home/cagefs-skeleton \n$ ln -s /home/cagefs-skeleton /usr/share/cagefs-skeleton \n$ cagefsctl --init\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("If "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share/cagefs-skeleton")])]),this._v(" already exists:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('$ cagefsctl --disable-cagefs \n$ cagefsctl --unmount-all\n# To ensure that the following command prints empty output: \n$ cat /proc/mounts | grep cagefs \n# if you see any cagefs entries, execute "cagefsctl --unmount-all" again.\n$ mv /usr/share/cagefs-skeleton /home/cagefs-skeleton \n$ ln -s /home/cagefs-skeleton /usr/share/cagefs-skeleton\n$ cagefsctl --enable-cagefs\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("On cPanel servers, if you place skeleton into "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/home")])]),this._v(" directory, then you should configure the following option:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("In "),s("em",[t._v("cPanel WHM")]),t._v(" choose "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Server Configuration")])]),t._v(" and go to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Basic cPanel/WHM Setup")])]),t._v(" , then in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Basic Config")])]),t._v(" change "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Additional home directories")])]),t._v(" default value to blank (not "),s("span",{staticClass:"notranslate"},[t._v(' "home" ')]),t._v(" ).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("If this option is not set, then cPanel will create new accounts in incorrect places.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"moving-var-cagefs-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#moving-var-cagefs-directory","aria-hidden":"true"}},[this._v("#")]),this._v(" Moving /var/cagefs directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To move "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/cagefs")])]),this._v(" to another location:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --disable-cagefs\n$ cagefsctl --unmount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Verify that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/cagefs.bak")])]),this._v(' directory does not exist (if it exists - change name "cagefs.bak" to something else)')])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cp -rp /var/cagefs /new/path/cagefs\n$ mv /var/cagefs /var/cagefs.bak\n$ ln -s /new/path/cagefs /var/cagefs\n$ cagefsctl --enable-cagefs\n$ cagefsctl --remount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cat /proc/mounts | grep cagefs.bak\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ rm -rf /var/cagefs.bak\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"tmp-directories"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tmp-directories","aria-hidden":"true"}},[this._v("#")]),this._v(" TMP directories")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS makes sure that each user has his own "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/tmp")])]),this._v(" directory, and that directory is the part of end-user's quota.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The actual location of the directory is "),e("span",{staticClass:"notranslate"},[e("em",[this._v("$USER_HOME/.cagefs/tmp")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Once a day, using cron job, "),e("span",{staticClass:"notranslate"},[this._v(" CageFS ")]),this._v(" will clean up user's "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/tmp")])]),this._v(" directory from all the files that haven't been accessed during 30 days.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --set-tmpwatch='/usr/sbin/tmpwatch -umclq 720'\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By default this is done at 03:37 AM, but you can also force the clean up outdated files that match 'chosen period' of all user's "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/tmp")])]),this._v(" directories without waiting for a job to be launched by "),e("span",{staticClass:"notranslate"},[this._v(" cronjob ")]),this._v(" . Just run:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --tmpwatch\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/var/cache/php-eaccelerator")])]),t._v(" (actual location "),s("span",{staticClass:"notranslate"},[s("code",[t._v("$USER_HOME/.cagefs/var/cache/php-eaccelerator")])]),t._v(")")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/opt/alt/phpNN/var/lib/php/session")])]),t._v(" (actual location "),s("span",{staticClass:"notranslate"},[s("code",[t._v("$USER_HOME/.cagefs/opt/alt/phpNN/var/lib/php/session")])]),t._v("), where NN corresponds to Alt-PHP version.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can configure "),e("span",{staticClass:"notranslate"},[e("code",[this._v("tmpwatch")])]),this._v(" to clean custom directories inside "),e("span",{staticClass:"notranslate"},[this._v(" CageFS")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cagefs/cagefs.ini")])]),this._v(" configuration file and specify "),e("span",{staticClass:"notranslate"},[e("code",[this._v("tmpwatch_dirs")])]),this._v(" directive as follows:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("tmpwatch_dirs=/dir1,/dir2")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After that directories "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/dir1")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/dir2")])]),this._v(" inside CageFS  will be cleaned automatically.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Note that actual location of those directories in real file system is "),e("span",{staticClass:"notranslate"},[e("code",[this._v("$USER_HOME/.cagefs/dir1")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[this._v("$USER_HOME/.cagefs/dir2")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Cleanup PHP sessions")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For cPanel servers, CageFS version 6.0-42 or higher performs cleaning of PHP sessions based on "),e("span",{staticClass:"notranslate"},[e("code",[this._v("session.gc_maxlifetime")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[this._v("session.save_path")])]),this._v(" directives specified in proper "),e("span",{staticClass:"notranslate"},[e("code",[this._v("php.ini")])]),this._v(" files.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("session.gc_maxlifetime")])]),this._v(" directive default value is 1440 seconds. Those session files will be deleted, that were created or had metadata (ctime) changes more time ago than it is specified in "),e("span",{staticClass:"notranslate"},[e("code",[this._v("session.gc_maxlifetime")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" versions "),e("span",{staticClass:"notranslate"},[e("code",[this._v("session.save_path")])]),this._v(" value is normally "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/tmp")])]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("For new installations of Alt-PHP packages, "),s("span",{staticClass:"notranslate"},[s("code",[t._v("session.save_path")])]),t._v(" will be changed from "),s("code",[t._v("/tmp")]),t._v(" to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/opt/alt/phpNN/var/lib/php/session")])]),t._v(", where NN corresponds to Alt-PHP version.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This applies to the following "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" versions (or later):")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("alt-php44-4.4.9-71;")]),t._v(" "),s("li",[t._v("alt-php51-5.1.6-81;")]),t._v(" "),s("li",[t._v("alt-php52-5.2.17-107;")]),t._v(" "),s("li",[t._v("alt-php53-5.3.29-59;")]),t._v(" "),s("li",[t._v("alt-php54-5.4.45-42;")]),t._v(" "),s("li",[t._v("alt-php55-5.5.38-24;")]),t._v(" "),s("li",[t._v("alt-php56-5.6.31-7;")]),t._v(" "),s("li",[t._v("alt-php70-7.0.23-5;")]),t._v(" "),s("li",[t._v("alt-php71-7.1.9-5;")]),t._v(" "),s("li",[t._v("alt-php72-7.2.0-0.rc.2.2.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("When using EasyApache 3, "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.save_path")])]),t._v(" value is normally "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/cpanel/php/sessions/ea3")])]),t._v(" or "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/tmp")])]),t._v(" . Seettings for EasyApache 3 are usualy taken from the file "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/usr/local/lib/php.ini")]),t._v(" . ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("When using EasyApache 4, "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.save_path")])]),t._v(" value is normally "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/cpanel/php/sessions/ea-phpXX")]),t._v(" ,  ")]),t._v(" where "),s("span",{staticClass:"notranslate"},[s("em",[t._v("XX")])]),t._v(" corresponds to PHP version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Cleaning is started by cron "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cron.d/cpanel_php_sessions_cron")])]),this._v(" , which starts the script "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/share/cagefs/clean_user_php_sessions")])]),this._v(" twice within one hour.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The settings for ea-php are located in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/cpanel/ea-phpXX/root/etc/php.d/local.ini")])]),this._v(" or in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/cpanel/ea-phpXX/root/etc/php.ini")])]),this._v(" , where "),e("span",{staticClass:"notranslate"},[e("em",[this._v("XX")])]),this._v(" corresponds to the PHP version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The settings for alt-php are located in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/alt/phpXX/etc/php.ini")])]),this._v(" files, where "),e("span",{staticClass:"notranslate"},[e("em",[this._v("XX")])]),this._v(" corresponds to PHP version.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The cleaning script cleans php sessions for all PHP versions ( "),s("span",{staticClass:"notranslate"},[s("em",[t._v("ea-php")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("em",[t._v("alt-php")])]),t._v(" ) regardless of whether a version is used or selected via "),s("span",{staticClass:"notranslate"},[t._v(" MultiPHP Manager ")]),t._v(" or "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" . When different "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.gc_maxlifetime")])]),t._v(" values are specified for the same "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.save_path")])]),t._v(" (for different php versions), the cleaning script will use the least value for cleaning "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.save_path")])]),t._v(" . So, it is recommended to specify different "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.save_path")])]),t._v(" for each PHP version.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Users can define custom value of "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.gc_maxlifetime")]),t._v(" via PHP Selector ")]),t._v(" in order to configure PHP's garbage collector, but that will not affect the script for cleaning PHP sessions. The script cleans PHP sessions based on global values of "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.gc_maxlifetime")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("em",[t._v("session.save_path")])]),t._v(" directives taken from files mentioned above. Settings in custom users’ "),s("span",{staticClass:"notranslate"},[t._v(" php.ini ")]),t._v(" files are ignored.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Cleanup PHP session files in Plesk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For Plesk servers, "),e("span",{staticClass:"notranslate"},[this._v(" CageFS ")]),this._v(" version 6.0-52 or higher is provided with a special cron job for removing obsolete PHP session files. Cleanup script runs once an hour (similar to how it is done in Plesk).")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("set by "),s("span",{staticClass:"notranslate"},[s("code",[t._v("session.save_path")])]),t._v(" directive in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/opt/alt/phpXX/etc/php.ini")])]),t._v(" files. If "),s("span",{staticClass:"notranslate"},[t._v(" session.save_path ")]),t._v(" is missing, then "),s("span",{staticClass:"notranslate"},[t._v(" /tmp ")]),t._v(" is used. Session files lifetime is set by "),s("span",{staticClass:"notranslate"},[t._v(" session.gc_maxlifetime ")]),t._v(" directive. If it is not found, then 1440 seconds value is used (24 minutes, as in Plesk). Lifetime set in the file is only taken into consideration if it is longer than 1440 seconds, otherwise 1440 seconds is used. All the installed "),s("span",{staticClass:"notranslate"},[t._v(" Alt-PHP ")]),t._v(" versions are processed.")])]),t._v(" "),s("li",[s("p",[s("span",{staticClass:"notranslate"},[s("em",[t._v("/var/lib/php/session")])]),t._v(" . Files lifetime is only defined by Plesk script "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/usr/lib64/plesk-9.0/maxlifetime")])]),t._v(" . If the script is missing or returns errors, then this directory is not processed.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("all the users with "),s("span",{staticClass:"notranslate"},[t._v(" UID ")]),t._v(" higher than specified in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/login.defs")])]),t._v(" are processed. Each user is processed independently from one another.")]),t._v(" "),s("li",[t._v("only directories inside "),s("span",{staticClass:"notranslate"},[t._v(" CageFS ")]),t._v(" are being cleaned. The paths of the same name in the physical  file system are not processed.")]),t._v(" "),s("li",[t._v("in all the detected directories, all the files with the names that correspond to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("sess_")]),t._v(" search ")]),t._v(" mask are removed, the rest of the files are ignored.")]),t._v(" "),s("li",[t._v("the files older than specified lifetime are removed.")]),t._v(" "),s("li",[t._v("all non-fatal errors (lack of rights, missing directory) are ignored and do not affect the further work of the script.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Disable PHP sessions cleanup on cPanel and Plesk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here is a possible workaround for PHP session expiration problem (session lives longer than it is possible in a control panel). To use your own custom PHP sessions cleanup scripts - you can turn off built-in sessions cleanup implementation in the following way:\nadd "),e("span",{staticClass:"notranslate"},[e("code",[this._v("clean_user_php_sessions=false")]),this._v(" line to "),e("em",[this._v("/etc/sysconfig/cloudlinux")])]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"syslog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#syslog","aria-hidden":"true"}},[this._v("#")]),this._v(" Syslog")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By default, "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/dev/log")])]),this._v(" should be available inside end user's "),e("span",{staticClass:"notranslate"},[this._v(" CageFS ")]),this._v(" . This is needed so that user's cronjobs and other things that user "),e("span",{staticClass:"notranslate"},[e("em",[this._v("dev/log")])]),this._v(" would get recorded in the system log files.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This is controlled using file "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/rsyslog.d/schroot.conf")])]),this._v(" with the following content:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$AddUnixListenSocket /usr/share/cagefs-skeleton/dev/log\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To remove presence of "),e("span",{staticClass:"notranslate"},[e("em",[this._v("dev/log")])]),this._v(" inside CageFS, remove that file, and restart rsyslog service.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"excluding-mount-points"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#excluding-mount-points","aria-hidden":"true"}},[this._v("#")]),this._v(" Excluding mount points")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to exclude mounts from namespaces for all LVEs")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("By default, all mounts from the real file system is inherited by namespaces of all "),e("span",{staticClass:"notranslate"},[this._v(" LVEs ")]),this._v(" . So, destroying all "),e("span",{staticClass:"notranslate"},[this._v(" LVEs ")]),this._v(" may be required in order to unmount some mount in real file system completely. Otherwise, mount point remains busy after unmounting it in the real file system because this mount exists in namespaces of "),e("span",{staticClass:"notranslate"},[this._v(" LVEs ")]),this._v(" .")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[s("code",[t._v("lvectl start")])]),t._v(" command saves all mounts from real file system as “default namespace” for later use in all "),s("span",{staticClass:"notranslate"},[t._v(" LVEs ")]),t._v(" . "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("lve_namespaces")])]),t._v(" service executes "),s("span",{staticClass:"notranslate"},[s("code",[t._v("lvectl start")])]),t._v(" command during startup.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("In "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("lve-utils-2.0-26")])]),t._v(" (and later) there is an ability to exclude specific mounts from namespaces for all "),s("span",{staticClass:"notranslate"},[t._v(" LVEs ")]),t._v(" .\nIn order to do so, please create a file "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/container/exclude_mounts.conf")])]),t._v(" with list of mounts to exclude (one mount per line) as regular expressions, and then execute "),s("span",{staticClass:"notranslate"},[s("code",[t._v("lvectl start")])]),t._v(" :\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# cat /etc/container/exclude_mounts.conf    \n^/dir1/\n^/dir2$\n# lvectl start\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("After that, all new created "),s("span",{staticClass:"notranslate"},[t._v(" LVEs ")]),t._v(" will be without "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/dir2")])]),t._v(" mount and without mounts that start with "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/dir1/")])]),t._v(" (like "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/dir1/x")]),t._v(" ,  "),s("em",[t._v("/dir1/x/y")])]),t._v(" , etc). To apply changes to existing "),s("span",{staticClass:"notranslate"},[t._v(" LVEs ")]),t._v(" you should recreate "),s("span",{staticClass:"notranslate"},[t._v(" LVEs ")]),t._v(" :\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# lvectl destroy all   \n# lvectl apply all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("You should recreate all LVEs only once after creating "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/container/exclude_mounts.conf")])]),this._v(" file. After that the configuration changes will be applied to all new LVEs automatically.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"shared-memory-dev-shm-isolation-in-cagefs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shared-memory-dev-shm-isolation-in-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" Shared memory (/dev/shm) isolation in CageFS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Requires "),e("code",[this._v("cagefs-6.2.1-1")]),this._v(" or later")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("/dev/shm")]),this._v(" in a real file system directory is “world-writable”. This directory from the real file system is mounted to CageFS by default, so "),e("code",[this._v("/dev/shm")]),this._v(" directory is common for all users by default. However, it is possible to improve security and isolate "),e("code",[this._v("/dev/shm")]),this._v(" (shared memory) for each user in CageFS.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To enable "),e("code",[this._v("/dev/shm")]),this._v(" isolation, do the following steps:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Delete "),e("code",[this._v("/dev/shm")]),this._v(" line from the "),e("code",[this._v("/etc/cagefs/cagefs.mp")]),this._v(" file")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sed -i -e '/^\\/dev\\/shm/d' /etc/cagefs/cagefs.mp\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Create a configuration file with mount options for shared memory")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo 'mode=0777' > /etc/cagefs/dev.shm.options\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Remount CageFS to apply changes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --remount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo 'mode=0777,size=1m' > /etc/cagefs/dev.shm.options\ncagefsctl --remount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo 'mode=0777,size=50%' > /etc/cagefs/dev.shm.options\ncagefsctl --remount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To disable "),e("code",[this._v("/dev/shm")]),this._v(" isolation, do the following steps:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Delete configuration file")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("rm -f /etc/cagefs/dev.shm.options\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Validate "),e("code",[this._v("/etc/cagefs/cagefs.mp")]),this._v(" file")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --check-mp\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Add "),e("code",[this._v("/dev/shm")]),this._v(" line to "),e("code",[this._v("/etc/cagefs/cagefs.mp")]),this._v(" file")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("echo '/dev/shm' >> /etc/cagefs/cagefs.mp\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Remount CageFS to apply changes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --remount-all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("you should specify "),e("code",[this._v("mode=0777")]),this._v(". It is required for the proper operation of shared memory inside CageFS. This is not a security issue because the "),e("code",[this._v("/dev/shm")]),this._v(" directory is isolated for each user and visible inside a user’s CageFS only.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[s("code",[t._v("/dev/shm")]),t._v(" is mounted with "),s("code",[t._v("nosuid,nodev,noexec")]),t._v(" mount options always (both in “isolated "),s("code",[t._v("/dev/shm")]),t._v("” mode and not). You cannot change this behavior.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("“isolated "),e("code",[this._v("/dev/shm")]),this._v("” mode will become the default in the future CageFS releases.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("when the size of the "),s("code",[t._v("/dev/shm")]),t._v(" is specified in percentage of user’s physical memory limit (PMEM), you should remount CageFS after changing PMEM limit in order to change the size of shared memory allocated for the "),s("code",[t._v("/dev/shm")]),t._v(" in user’s CageFS. To do so, execute "),s("code",[t._v("cagefsctl --remount-all")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"integration-with-control-panels"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration-with-control-panels","aria-hidden":"true"}},[this._v("#")]),this._v(" Integration with control panels")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Initialize CageFS;")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("See and modify the list of enabled/disabled users;")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Update CageFS skeleton.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"cpanel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpanel","aria-hidden":"true"}},[this._v("#")]),this._v(" cPanel")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CageFS plugin for cPanel is located in "),e("span",{staticClass:"notranslate"},[this._v(" Plugins ")]),this._v(" section of WHM.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/_img1_zoom73.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("To enable CageFS for a proper user (users), in "),s("span",{staticClass:"notranslate"},[t._v(" CageFS User Manager ")]),t._v(" choose a user from the list on the right ( "),s("span",{staticClass:"notranslate"},[t._v(" Disabled ")]),t._v(" users) and click "),s("span",{staticClass:"notranslate"},[t._v(" Toggle ")]),t._v(" . The user will move to the list on the left ( "),s("span",{staticClass:"notranslate"},[t._v(" Enabled ")]),t._v(" users).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To disable a user (users), choose a user from the list on the left ( "),e("span",{staticClass:"notranslate"},[this._v(" Enabled ")]),this._v(" users) and click "),e("span",{staticClass:"notranslate"},[this._v(" Disable CageFS ")]),this._v(" . The user will move to the list on the right ( "),e("span",{staticClass:"notranslate"},[this._v(" Disabled ")]),this._v(" users).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To update CageFS skeleton, click "),e("span",{staticClass:"notranslate"},[this._v(" Update CageFS Skeleton ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/_img2_zoom71.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"plesk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plesk","aria-hidden":"true"}},[this._v("#")]),this._v(" Plesk")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/plesk_cagefs_icon.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("To enable CageFS for a proper user (users), in "),s("span",{staticClass:"notranslate"},[t._v(" CageFS User Manager ")]),t._v(" choose a user from the list on the right ( "),s("span",{staticClass:"notranslate"},[t._v(" Disabled ")]),t._v(" users) and click "),s("span",{staticClass:"notranslate"},[t._v(" Toggle ")]),t._v(" . The user will move to the list on the left ( "),s("span",{staticClass:"notranslate"},[t._v(" Enabled ")]),t._v(" users).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To disable a user (users), choose a user from the list on the left ( "),e("span",{staticClass:"notranslate"},[this._v(" Enabled ")]),this._v(" users) and click "),e("span",{staticClass:"notranslate"},[this._v(" Disable CageFS ")]),this._v(" . The user will move to the list on the right ( "),e("span",{staticClass:"notranslate"},[this._v(" Disabled ")]),this._v(" users).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To update CageFS skeleton, click "),e("span",{staticClass:"notranslate"},[this._v(" Update CageFS Skeleton ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/plesk_cagefs_manager_disable_all.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"ispmanager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ispmanager","aria-hidden":"true"}},[this._v("#")]),this._v(" ISPManager")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("CageFS comes with plugin for "),s("span",{staticClass:"notranslate"},[t._v(" ISP Manager ")]),t._v(" to enable/disable CageFS on per user base. In edit user section chose "),s("span",{staticClass:"notranslate"},[t._v(" Permission ")]),t._v(" tab. Mark "),s("span",{staticClass:"notranslate"},[t._v(" CageFS User Mode ")]),t._v(" checkbox and click "),s("span",{staticClass:"notranslate"},[t._v(" OK ")]),t._v(" to apply.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/ispmanager_cagefs_user_zoom98.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Or you can manage global CageFS settings via CageFS menu\n"),e("img",{attrs:{src:"/images/_img3.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"mysql-governor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql-governor","aria-hidden":"true"}},[this._v("#")]),this._v(" MySQL Governor")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-4","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[this._v("MySQL Governor")]),this._v(" 0.8-32+")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" is software to monitor and restrict MySQL usage in shared hosting environment. The monitoring is done via resource usage statistics per each MySQL thread.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" can also kill off slow "),e("span",{staticClass:"notranslate"},[this._v(" SELECT ")]),this._v(" queries.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" has multiple modes of operations, depending on the configuration. It can work in monitor-only mode, or it can use different throttling scenarious.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" allows to restrict customers who use too much resources. It supports following limits:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" CPU ")])]),t._v(" "),s("td",[t._v("%")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" CPU ")]),t._v(" speed relative to one core. 150% would mean one and a half cores")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" READ ")])]),t._v(" "),s("td",[t._v("bytes")]),t._v(" "),s("td",[t._v("bytes read. Cached reads are not counted, only those that were actually read from disk will be counted")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" WRITE ")])]),t._v(" "),s("td",[t._v("bytes")]),t._v(" "),s("td",[t._v("bytes written. Cached writes are not counted, only once data is written to disk, it is counted")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("IMPORTANT")]),this._v(" "),e("p",[this._v("Please make full database backup (including system tables) before you upgrade MySQL or switch to MariaDB. This action will prevent data loss in case if something goes wrong.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[e("em",[this._v("MySQL Governor is compatible only with MySQL 5.x, 8.0; MariaDB & Percona Server 5.6.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To install "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" on your server install "),e("span",{staticClass:"notranslate"},[this._v(" governor-mysql ")]),this._v(" package at first:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum remove db-governor db-governor-mysql  # you can ignore errors if you don't have those packages installed\n$ yum install governor-mysql\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Then configure "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" properly.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The installation is currently supported only on "),e("span",{staticClass:"notranslate"},[this._v(" cPanel, Plesk, DirectAdmin, ISPmanager, InterWorx ")]),this._v(" , as well as on servers without control panel.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you are installing "),e("span",{staticClass:"notranslate"},[this._v(" CloudLinux ")]),this._v(" on a server running MySQL already, set your current MySQL version before calling installation script:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=mysqlXX\n$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("55 — MySQL v5.5")]),t._v(" "),s("li",[t._v("56 — MySQL v5.6")]),t._v(" "),s("li",[t._v("57 — MySQL v5.7")]),t._v(" "),s("li",[t._v("80 — MySQL v8.0 [requires "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" 1.2-37+; database packages are available in "),s("span",{staticClass:"notranslate"},[t._v(" Beta ")]),t._v(" only, so, please use "),s("span",{staticClass:"notranslate"},[s("code",[t._v("--install-beta")])]),t._v(" flag instead of "),s("span",{staticClass:"notranslate"},[s("code",[t._v("--install")])]),t._v(" ]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you are installing "),e("span",{staticClass:"notranslate"},[this._v(" CloudLinux ")]),this._v(" on a server running "),e("span",{staticClass:"notranslate"},[this._v(" MariaDB ")]),this._v(" already, do instead:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=mariadbXX\n$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Please make sure to specify your current "),e("span",{staticClass:"notranslate"},[this._v(" MariaDB ")]),this._v(" version instead of "),e("span",{staticClass:"notranslate"},[this._v(" XX ")]),this._v(" as follows:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("55 — MariaDB v5.5")]),t._v(" "),s("li",[t._v("100 — MariaDB v10.0")]),t._v(" "),s("li",[t._v("101 — MariaDB v10.1")]),t._v(" "),s("li",[t._v("102 — MariaDB v10.2")]),t._v(" "),s("li",[t._v("103 — MariaDB v10.3 [requires "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor 1.2-36+; for cPanel - MySQL Governor 1.2-41+] ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Installation for "),e("span",{staticClass:"notranslate"},[this._v(" Percona Server 5.6 ")]),this._v(" [requires "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" 1.1-22+ or 1.2-21+]:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=percona56\n$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Please note that "),e("span",{staticClass:"notranslate"},[this._v(" MySQL/MariaDB/Percona ")]),this._v(" will be updated from "),e("span",{staticClass:"notranslate"},[this._v(" CloudLinux ")]),this._v(" repositories.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you are installing "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" on a server without MySQL at all, you have an opportunity to choose desired MySQL version to be installed with "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" installation script. Use "),e("span",{staticClass:"notranslate"},[this._v(" --mysql-version ")]),this._v(" flag before calling the installation script:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=MYSQL_VERSION\n$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MYSQL_VERSION ")]),this._v(" could be chosen from the list of versions currently supported by "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" :")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("mysql51")]),t._v(" "),s("td",[t._v("MySQL v5.1")])]),t._v(" "),s("tr",[s("td",[t._v("mysql55")]),t._v(" "),s("td",[t._v("MySQL v5.5")])]),t._v(" "),s("tr",[s("td",[t._v("mysql56")]),t._v(" "),s("td",[t._v("MySQL v5.6")])]),t._v(" "),s("tr",[s("td",[t._v("mysql57")]),t._v(" "),s("td",[t._v("MySQL v5.7")])]),t._v(" "),s("tr",[s("td",[t._v("mysql80")]),t._v(" "),s("td",[t._v("MySQL v8.0 [requires "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" 1.2-37+; database packages available in beta only, so use "),s("span",{staticClass:"notranslate"},[t._v(" --install-beta flag instead of --install] ")])])]),t._v(" "),s("tr",[s("td",[t._v("mariadb55")]),t._v(" "),s("td",[t._v("MariaDB v5.5")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb100")]),t._v(" "),s("td",[t._v("MariaDB v10.0")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb101")]),t._v(" "),s("td",[t._v("MariaDB v10.1")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb102")]),t._v(" "),s("td",[t._v("MariaDB v 10.2")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb103")]),t._v(" "),s("td",[t._v("MariaDB v 10.3 [requires "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor 1.2-36+; for cPanel - MySQL Governor 1.2-41+] ")])])]),t._v(" "),s("tr",[s("td",[t._v("percona56")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" Percona Server v 5.6 ")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Generally, "),s("span",{staticClass:"notranslate"},[t._v(" stable ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" beta ")]),t._v(" channels contain different version of MySQL packages - "),s("span",{staticClass:"notranslate"},[t._v(" beta ")]),t._v(" contains newer version than "),s("span",{staticClass:"notranslate"},[t._v(" stable ")]),t._v(" or the same one. If you would like to install  "),s("span",{staticClass:"notranslate"},[t._v(" beta ")]),t._v("  packages, use  "),s("span",{staticClass:"notranslate"},[t._v(" --install-beta ")]),t._v("  flag instead of  "),s("span",{staticClass:"notranslate"},[t._v(" --install ")]),t._v("  when calling installation script:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install-beta\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Starting with "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" version 1.2 when installing "),e("span",{staticClass:"notranslate"},[this._v(" MySQL/MariaDB MySQL Governor ")]),this._v(" asks for a confirmation of a database version to be installed. To avoid such behavior for the automatic installations, please use "),e("span",{staticClass:"notranslate"},[this._v(" --yes ")]),this._v(" flag.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install --yes\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Please note that restore of previous packages in case of failed installation would also be confirmed with "),e("span",{staticClass:"notranslate"},[e("code",[this._v("--yes")])]),this._v(" flag.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("IMPORTANT")]),this._v(" "),e("p",[this._v("Use "),e("span",{staticClass:"notranslate"},[this._v(" --yes ")]),this._v(" flag on your own risk, because it confirms installation in any case - even in case if there are troubles during installation (for example, network problems causing incomplete download of packages), everything would be confirmed.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"upgrading-database-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-database-server","aria-hidden":"true"}},[this._v("#")]),this._v(" Upgrading database server")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=MYSQL_VERSION\n$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("where "),e("code",[this._v("MYSQL_VERSION")]),this._v(" is the target database server version that should be replaced with the value from the table above.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("IMPORTANT")]),this._v(" "),e("p",[this._v("Make sure you have full database backup (including system tables) before you switch. This action will prevent data loss in case if something goes wrong.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"uninstalling-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstalling")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To remove "),e("span",{staticClass:"notranslate"},[this._v("MySQL Governor")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --delete\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The script will install original MySQL server, and remove "),e("span",{staticClass:"notranslate"},[this._v("MySQL Governor")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration-and-operation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-and-operation","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration and operation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"configuration-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" configuration is located in "),e("span",{staticClass:"notranslate"},[this._v(" /etc/container/mysql-governor.xml ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Once configuration file is updated, please, restart the "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" using:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service db_governor restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('<governor> \n\n\x3c!--  \'off\' - do not throttle anything, monitoring only --\x3e\n\x3c!--  \'abusers\' - when user reaches the limit, put user\'s queries into LVE for that user --\x3e\n\x3c!--  \'all\' - user\'s queries always run inside LVE for that user --\x3e\n\x3c!--  \'single\' - single LVE=3 for all abusers. --\x3e\n\x3c!-- \'on\' - deprecated (old restriction type) --\x3e\n\x3c!-- To change resource usage of restricted user in LVE mode use command /usr/sbin/lvectl set 3 --cpu=<new value> --ncpu=<new value> --io=<new value> --save-all-parameters --\x3e\n<lve use="on|single|off|abusers|all"/> \n\n\x3c!-- connection information --\x3e\n\x3c!-- If host, login and password are not present, this information is taken from /etc/my.cnf and ~root/.my.cnf --\x3e\n\x3c!-- Use symbol specified in prefix to figure out hosting accounts (mysql username will be split using prefix_separator, and first part will be used as account name). If prefix is not set, or empty -- don’t use prefixes/accounts --\x3e \n\n\x3c!-- db governor will try to split MySQL user names using prefix separator (if present)and statistics will be aggregated for the prefix (account name) --\x3e\n<connector host="..." login="..." password=".." prefix_separator="_"/> \n\n\x3c!-- Intervals define historical intervals for burstable limits. In seconds --\x3e\n<intervals short="5" mid="60" long="300"/> \n\n\x3c!-- log all errors/debug info into this log --\x3e\n<log file=”/var/log/dbgovernor-error.log” mode=”DEBUG|ERROR”/> \n\n\x3c!-- s -- seconds, m -- minutes, h -- hours, d -- days --\x3e\n\x3c!-- on restart, restrict will disappear --\x3e\n\x3c!-- log file will contain information about all restrictions that were take --\x3e\n\x3c!-- timeout - penalty period when user not restricted, but if he hit his limit during this period he will be restricted with higher level of restrict (for more long time) --\x3e\n<!- level1, level2, level3, level4 - period of restriction user for different level of restriction. During this period all user\'s requests will be placed into LVE container --\x3e\n\n\x3c!-- if user hits any of the limits during period of time specified in timeout, higher level of restrict will be used to restrict user. If user was already on level4, level4 will be applied again --\x3e\n\x3c!-- attribute format set an restrict log format:\nSHORT -  restrict info only\nMEDIUM - restrict info, _all_tracked_values_\nLONG - restrict info, _all_tracked_values_, load average and vmstat info\nVERYLONG - restrict info, _all_tracked_values_, load average and vmstat info, slow query info --\x3e\n\x3c!-- script -- path to script to be triggered when account is restricted --\x3e\n\x3c!-- user_max_connections - The number of simultaneous connections of blocked user (in LVE mode) --\x3e \n\n\x3c!-- restriction levels/format are deprecated --\x3e\n<restrict level1="60s" level2="15m" level3="1h" level4="1d" timeout="1h"\nlog="/var/log/dbgovernor-restrict.log" format="SHORT|MEDIUM|LONG|VERYLONG"\nscript="/path/to/script"\nuser_max_connections="30"/> \n\n\x3c!-- period (deprecated) - period based restriction that has multiple levels (see above) --\x3e\n\x3c!-- limit (by default) - when user hits limits, the account will be marked as restricted and if user does not hit  limit again during "unlimit=1m" account will be unrestricted. This mode doesn\'t have any additional levels/penalties. --\x3e\n<restrict_mode use="period|limit" unlimit="1m"/>\n\n\x3c!-- killing slow SELECT queries (no other queries will be killed) --\x3e\n\x3c!-- if "log" attribute was set all killed queries will be saved in log file --\x3e\n\x3c!-- slow parameter in the <limit name="slow" current="30"/> will no be applied without enabling slow_queries --\x3e \n<slow_queries run="on|off" log="/var/log/dbgovernor-kill.log"/> \n\x3c!-- Enable or disable saving of statistics for lve-stats - On - enabled, Off-disabled --\x3e\n<statistic mode="on|off"></statistic>\n\x3c!-- Enable logging user queries on restrict, can be On or Off --\x3e\n\x3c!-- Files are saved in /var/lve/dbgovernor-store and being kept here during 10 days --\x3e\n<logqueries use="on|off"></logqueries>\n<default>\n\x3c!-- -1 not use limit(by default, current - required) --\x3e\n<limit name="cpu" current="150" short="100" mid="90" long="65"/>\n<limit name="read" current="100000000" short="90000000" mid="80000000" long="70000000"/>\n<limit name="write" current="100000000" short="90000000" mid="80000000" long="70000000"/>\n\x3c!-- Time to kill slow SELECT queries for account, can be different for accounts in seconds(but unit can be specified) --\x3e\n\x3c!-- enabled only when slow_queries run="on" --\x3e\n\x3c!-- s -- seconds, m -- minutes, h -- hours, d -- days --\x3e\n<limit name="slow" current="30"/>\n</default>\n\x3c!-- name will matched account name, as extracted via prefix extraction --\x3e \n\n\x3c!-- mysql_name will match exact MySQL user name. If both name and mysql_name are present, system will produce error --\x3e\n\x3c!-- mode restrict -- default mode, enforcing restrictions --\x3e\n\x3c!-- mode norestrict -- track usage, but don’t restrict user --\x3e \n\x3c!-- mode ignore -- don’t track and don’t restrict user --\x3e\n<user name=”xxx” mysql_name=”xxx” mode=”restrict|norestrict|ignore”>\n<limit...>\n</user> \n\n\x3c!-- debug mode for particular user. The information logged to restrict log. --\x3e\n<debug_user name="xxx"/> \n\n</governor>\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"modes-of-operation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modes-of-operation","aria-hidden":"true"}},[this._v("#")]),this._v(" Modes of operation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[this._v("MySQL Governor")]),this._v(" 1.0+")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" has multiple modes of operation. Some of them are experimental at this moment."),s("br"),t._v("\nMode:"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("off -- Monitor Only")]),t._v(" :  ")]),t._v(" In this mode "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" will not throttle customer's queries, instead it will let you monitor the MySQL usage to see the abusers at any given moment in time (and historically). This mode is good when you are just starting and want to see what is going on"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("single -- Single restricted's LVE for all restricted customers (deprecated)")]),t._v(" :  ")]),t._v(" In that mode once customer reaches the limits specified in the "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" , all customer's queries will be running inside LVE with id 3. This means that when you have 5 customers restricted at the same time, all queries for all those 5 customers will be sharing the same LVE. The larger the number of restricted customers - the less resources per restricted customer will be available"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("abusers - Use LVE for a user to restrict queries (default mode)")]),t._v(" :  ")]),t._v(" In that mode, once user goes over the limits specified in the "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" , all customer's queries will execute inside that user's LVE. We believe this mode will help with the condition when the site is still fast, but MySQL is slow (restricted) for that user. If someone abuses MySQL, it will cause queries to share LVE with PHP processes, and PHP processes will also be throttled, causing fewer new queries being sent to MySQL. "),s("em",[t._v("Requires")]),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("dbuser-map")])]),t._v(" "),s("em",[t._v("file")]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("all - Always run queries inside user's LVE")]),t._v(" :  ")]),t._v(" This way there is no need for separate limits for MySQL. Depending on overhead we see in the future, we might decide to use it as a primary way of operating "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" . The benefit of this approach is that limits are applied to both PHP & MySQL at the same time, all the time, preventing any spikes whatsoever. "),s("em",[t._v("Requires")]),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("dbuser-map")])]),t._v(" "),s("em",[t._v("file")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If "),e("span",{staticClass:"notranslate"},[this._v(" dbuser-map ")]),this._v(' file is absent on the server, " '),e("span",{staticClass:"notranslate"},[this._v(" abusers ")]),this._v(' " mode emulates " '),e("span",{staticClass:"notranslate"},[this._v(" single ")]),this._v(' ".')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("With "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("single")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("abusers")])]),this._v(" mode, once user is restricted, the queries for that user will be limited as long as user is using more than limits specified. After a minute that user is using less, we will unrestricted that user.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/container/dbuser-map")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"starting-and-stopping"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#starting-and-stopping","aria-hidden":"true"}},[this._v("#")]),this._v(" Starting and stopping")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service db_governor start\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service db_governor stop\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"mapping-a-user-to-a-database"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapping-a-user-to-a-database","aria-hidden":"true"}},[this._v("#")]),this._v(" Mapping a user to a database")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("[")]),this._v(" "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("MySQL Governor")])]),this._v(" "),e("strong",[this._v("1.x]")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Traditionally "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor ")]),t._v(" used prefixes to map user to database. With the latest version, we automatically generate "),s("span",{staticClass:"notranslate"},[t._v(" user -> database user ")]),t._v(" mapping for "),s("span",{staticClass:"notranslate"},[t._v(" cPanel ")]),t._v(", "),s("span",{staticClass:"notranslate"},[t._v(" Plesk ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" DirectAdmin ")]),t._v(" control panels.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The mapping file is located in: "),e("span",{staticClass:"notranslate"},[this._v(" /etc/container/dbuser-map ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[dbuser_name1] [account_name1] [UID1]\n...\n[dbuser_nameN] [account_nameN] [UIDN]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("pupkinas_u2 pupkinas 502\npupkinas_u1 pupkinas 502\npupkinas_u3 pupkinas 502\npupkin2a_uuu1 pupkin2a 505\npupkin10_p10 pupkin10 513\npupkin5a_u1 pupkin5a 508\npupkin3a_qq1 pupkin3a 506\npupkin3a_test22 pupkin3a 506\npupkin3a_12 pupkin3a 506\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("This would specify that db users: "),s("span",{staticClass:"notranslate"},[t._v(" pupkinas_us2, pupkinas_u1, pupkinas_u3 ")]),t._v(" belong to user "),s("span",{staticClass:"notranslate"},[t._v(" pupkinas ")]),t._v(" with uid (lve id) 502\ndb user "),s("span",{staticClass:"notranslate"},[t._v(" pupkin2a_uuu1 ")]),t._v(" belongs to user "),s("span",{staticClass:"notranslate"},[t._v(" pupkin2a ")]),t._v(" with uid 505, etc...")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service db_governor restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"log-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#log-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Log files")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("strong",[this._v("Error_log")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" error log is used to track any problems that "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" might have")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("strong",[this._v("Restrict_log")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Restrict log is located in "),e("span",{staticClass:"notranslate"},[this._v(" /var/log/dbgovernor-restrict.log ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("_timestamp_ _username_ LIMIT_ENFORCED _limit_setting_ __current_value_                         _restrict_level__ SERVER_LOAD TRACKED_VALUES_DUMP\n ... \n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[t._v(" TRACKED_VALUES_DUMP=busy_time:xx,cpu_time:xx,... ")])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" SERVER_LOAD ")]),t._v(" = load averages followed by output of "),s("span",{staticClass:"notranslate"},[t._v(" vmstat ")])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" TRACKED_VALUES_DUMP ")]),t._v(" is available with "),s("span",{staticClass:"notranslate"},[t._v(" MEDIUM & LONG ")]),t._v(" format")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v(" SERVER_LOAD ")]),t._v(" is available with "),s("span",{staticClass:"notranslate"},[t._v(" LONG ")]),t._v(" format")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"change-mysql-version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#change-mysql-version","aria-hidden":"true"}},[this._v("#")]),this._v(" Change MySQL version")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you would like to change to a different MySQL version, or switch to "),e("span",{staticClass:"notranslate"},[this._v(" MariaDB ")]),this._v(" you have to start by backing up existing databases.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("For experienced users only. Changing MySQL version is a quite complicated procedure, it causes system table structural changes which can lead to unexpected results. Think twice before proceeding.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("IMPORTANT")]),this._v(" "),e("p",[this._v("Please make full database backup (including system tables) before you will do upgrade of MySQL or switch to MariaDB. This action will prevent data losing in case if something goes wrong.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --mysql-version=MYSQL_VERSION\n$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If you are using "),e("span",{staticClass:"notranslate"},[this._v(" cPanel ")]),this._v(" or "),e("span",{staticClass:"notranslate"},[this._v(" DirectAdmin ")]),this._v(" - recompile "),e("span",{staticClass:"notranslate"},[this._v(" Apache ")]),this._v(" .")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/share/lve/dbgovernor/mysqlgovernor.py --install-beta\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" MYSQL_VERSION ")]),this._v(" can be one of the following:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" auto ")])]),t._v(" "),s("td",[t._v("default version of MySQL for given OS release (or cPanel settings)")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" mysql50   ")])]),t._v(" "),s("td",[t._v("MySQL v5.0")])]),t._v(" "),s("tr",[s("td",[t._v("mysql51")]),t._v(" "),s("td",[t._v("MySQL v5.1")])]),t._v(" "),s("tr",[s("td",[t._v("mysql55")]),t._v(" "),s("td",[t._v("MySQL v5.5")])]),t._v(" "),s("tr",[s("td",[t._v("mysql56")]),t._v(" "),s("td",[t._v("MySQL v5.6")])]),t._v(" "),s("tr",[s("td",[t._v("mysql57")]),t._v(" "),s("td",[t._v("MySQL v5.7")])]),t._v(" "),s("tr",[s("td",[t._v("mysql80")]),t._v(" "),s("td",[t._v("MySQL v8.0 [requires MySQL Governor 1.2-37+; database packages are available in Beta only, so, please use "),s("code",[t._v("--install-beta")]),t._v(" flag instead of "),s("code",[t._v("--install")]),t._v(" ]")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb55")]),t._v(" "),s("td",[t._v("MariaDB v5.5")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb100")]),t._v(" "),s("td",[t._v("MariaDB v10.0")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb101")]),t._v(" "),s("td",[t._v("MariaDB v10.1")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb102")]),t._v(" "),s("td",[t._v("MariaDB v 10.2")])]),t._v(" "),s("tr",[s("td",[t._v("mariadb103")]),t._v(" "),s("td",[t._v("MariaDB v 10.3 [requires "),s("span",{staticClass:"notranslate"},[t._v(" MySQL Governor 1.2-36+; for cPanel - MySQL Governor 1.2-41+ ")]),t._v(" ]")])]),t._v(" "),s("tr",[s("td",[t._v("percona56")]),t._v(" "),s("td",[t._v("Percona v 5.6")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("We don't recommend to downgrade from MySQL v5.6, MariaDB 10.x")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Starting from cPanel & WHM version 70, cPanel supports MySQL 5.7: https://blog.cpanel.com/being-a-good-open-source-community-member-why-we-hesitated-on-mysql-5-7/")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Starting from cPanel & WHM version 78, cPanel supports MariaDB 10.3: https://documentation.cpanel.net/display/78Docs/MySQL+or+MariaDB+Upgrade")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("cPanel does not officially support MySQL 8.0, that is why we don’t recommend to use it on cPanel servers. Use on your own risk for "),e("span",{staticClass:"notranslate"},[this._v(" DirectAdmin and Plesk ")]),this._v(" servers, because downgrade can corrupt your databases.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"backing-up-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#backing-up-mysql","aria-hidden":"true"}},[this._v("#")]),this._v(" Backing up MySQL")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("On "),e("span",{staticClass:"notranslate"},[this._v(" cPanel ")]),this._v(" server disable MySQL service monitoring before doing the job:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ whmapi1 configureservice service=mysql enabled=1 monitored=0\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Execute as "),e("span",{staticClass:"notranslate"},[this._v(" root ")]),this._v(" :\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ mkdir -p ~/mysqlbkp\n$ service mysql restart --skip-networking --skip-grant-tables\n$ mysql_upgrade\n$ mysqldump --all-databases --routines --triggers > ~/mysqlbkp/dbcopy.sql\n$ service mysql stop\n$ cp -r /var/lib/mysql/mysql ~/mysqlbkp/\n$ service mysql start\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("On "),e("span",{staticClass:"notranslate"},[this._v(" cPanel ")]),this._v(" server enable monitoring back:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ whmapi1 configureservice service=mysql enabled=1 monitored=1\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("This operation may take some time.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"abrt-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#abrt-plugin","aria-hidden":"true"}},[this._v("#")]),this._v(" abrt plugin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("We have created a plugin for "),e("span",{staticClass:"notranslate"},[this._v(" abrt ")]),this._v(" tool to automatically upload core dumps in case "),e("span",{staticClass:"notranslate"},[this._v(" MySQL Governor ")]),this._v(" crashes.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install cl-abrt-plugin --enablerepo=cloudlinux-updates-testing\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It will monitor crash reports for "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/sbin/db_governor, /usr/sbin/dbtop and /usr/sbin/dbctl")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can modify "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/libreport/plugins/dropbox.conf")])]),this._v(" to monitor other software as well by adding them to "),e("span",{staticClass:"notranslate"},[this._v(" AppList")]),this._v(".\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("AppLists=/usr/sbin/db_governor,/usr/sbin/dbtop,/usr/sbin/dbctl\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"troubleshooting-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Troubleshooting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("MariaDB 5.5 and MariaDB 10.0: How to set LimitNOFILE correctly for systemd.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" MariaDB 5.5 ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" MariaDB 10.0 ")]),t._v(" have only file for managing the service, but the file has "),s("span",{staticClass:"notranslate"},[t._v(" LSB ")]),t._v(" functions, so it is supported by "),s("span",{staticClass:"notranslate"},[s("code",[t._v("systemd")])]),t._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Run:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mkdir /etc/systemd/system/mariadb.service.d/\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Run:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("touch /etc/systemd/system/mariadb.service.d/limits.conf\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Add the following content to the the file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/systemd/system/mariadb.service.d/limits.conf")])]),this._v(" :")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[Service] \nLimitNOFILE=99999\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("MySQL Governor lost connection to MySQL - “Can't connect to mysql” messages in /var/log/dbgovernor-error.log (Plesk and DirectAdmin)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This may be caused by changing root/administrator credentials without updating MySQL "),e("span",{staticClass:"notranslate"},[this._v(" Governor ")]),this._v(" configuration file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When you change root or administrator credentials in "),e("span",{staticClass:"notranslate"},[this._v(" Plesk or DirectAdmin, ")]),this._v(" you also need to update MySQL "),e("span",{staticClass:"notranslate"},[this._v(" Governor ")]),this._v(" configuration file. This could be done with the following command (available since "),e("span",{staticClass:"notranslate"},[this._v(" governor-mysql 1.2-38): ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/share/lve/dbgovernor/mysqlgovernor.py --update-config-auth\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The command updates credentials in MySQL "),e("span",{staticClass:"notranslate"},[this._v("Governor")]),this._v(" configuration file and restarts "),e("span",{staticClass:"notranslate"},[e("code",[this._v("db_governor")])]),this._v(" service afterwards.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After applying the command MySQL "),e("span",{staticClass:"notranslate"},[this._v("Governor")]),this._v(" successfully connects to MySQL.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"php-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP Selector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-5","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" is a CloudLinux component that sits on top of CageFS. It allows each user to select PHP version and module based on their needs. "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" requires account to have CageFS enabled to work.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" is "),e("strong",[this._v("compatible")]),this._v(" with the following technologies: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("suPHP, mod_fcgid, CGI (suexec), LiteSpeed")])]),this._v(" .")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("It is "),s("strong",[t._v("not compatible")]),t._v(" with "),s("span",{staticClass:"notranslate"},[s("code",[t._v("mod_php/DSO")])]),t._v(", including "),s("span",{staticClass:"notranslate"},[s("em",[t._v("mod_ruid2")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("code",[t._v("MPM ITK")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("PHP Selector is not supported for H-Sphere.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum groupinstall alt-php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Update CageFS & "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager with support for PHP Alternatives: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum update cagefs lvemanager\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("strong",[this._v("cPanel/WHM")]),this._v(": Make sure 'Select PHP version' ")]),this._v(" is enabled in "),e("span",{staticClass:"notranslate"},[this._v(" Feature Manager ")]),this._v(" .")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("IMPORTANT")]),t._v(" "),s("p",[t._v("Please, do not use settings like "),s("span",{staticClass:"notranslate"},[s("code",[t._v("SuPHP_ConfigPath")]),t._v(", "),s("code",[t._v("PHPRC")]),t._v(", "),s("code",[t._v("PHP_INI_SCAN_DIR")])]),t._v(". Do not redefine path to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("php.ini")])]),t._v(" and ini-files for PHP modules. Doing that can break "),s("span",{staticClass:"notranslate"},[t._v("PHP Selector")]),t._v(" functionality.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example, alternative php5.2 versions should load "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/php52/etc/php.ini")])]),this._v(" file and scan "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/php52/etc/php.d")])]),this._v(" directory for modules:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Configuration File (php.ini) Path         /opt/alt/php52/etc\nLoaded Configuration File                 /opt/alt/php52/etc/php.ini\nScan this dir for additional .ini files   /opt/alt/php52/etc/php.d\nadditional .ini files parsed              /opt/alt/php52/etc/php.d/alt_php.ini\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Those are default locations for "),e("span",{staticClass:"notranslate"},[this._v("alt-php")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you need custom PHP settings per user, please change them via "),e("span",{staticClass:"notranslate"},[this._v('"Edit PHP settings"')]),this._v(" feature of "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" .")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("If a list of default modules is absent on the server in the "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cl.selector/defaults.cfg")])]),t._v(" file for some alt-PHP version and there is "),s("code",[t._v("nd_mysqli")]),t._v(" extension in this version, then on installation/update of the LVE Manager the "),s("code",[t._v("mysqli")]),t._v(" extension will be disabled and "),s("code",[t._v("nd_mysqli")]),t._v(" extension will be enabled automatically.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If "),e("em",[this._v("nd_mysqli")]),this._v(" module is absent or a list of enabled modules is available, then they won't be changed automatically.")]),this._v(" "),e("li",[this._v("If alt-PHP is not installed on LVE Manager installation/update, then they won’t be changed automatically.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# /usr/sbin/cloudlinux-selector make-defaults-config --json --interpreter=php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"update"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update","aria-hidden":"true"}},[this._v("#")]),this._v(" Update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupupdate alt-php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This command allows to install newly released versions in "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector. ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"litespeed-support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#litespeed-support","aria-hidden":"true"}},[this._v("#")]),this._v(" LiteSpeed support")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("LiteSpeed detects CloudLinux OS and applies all settings out-of-the-box.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If the settings were not applied, you can use the following steps to set up LiteSpeed to use "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector. ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to set up LiteSpeed version lower than 5.3 to use PHP Selector")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("span",{staticClass:"notranslate"},[t._v("CloudLinux (Admin Console | Configuration | Server | General): CageFS ")])]),t._v(" "),s("li",[t._v("Enable "),s("span",{staticClass:"notranslate"},[t._v("SuExec: Server | General | PHP SuEXEC | Yes ")])]),t._v(" "),s("li",[t._v("Go to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("External App")])]),t._v(" tab, the new "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("lsphp_selector")])]),t._v(" is here.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("You can select any other application or create a custom one.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/litespeed1_zoom70.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"4"}},[s("li",[t._v("The "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Command")])]),t._v(" line should be "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("/var/www/cgi-bin/cgi_wrapper/cloudlinux_wrapper")])]),t._v(" on "),s("span",{staticClass:"notranslate"},[t._v(" Plesk ")]),t._v(" . For other control panels, "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Command")])]),t._v(" line should be "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("/usr/local/bin/lsphp")])]),t._v(" .")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("em",[this._v("Run On Start Up")])]),this._v(" line must contain "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("Yes")])]),this._v(" or "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("No")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For "),e("span",{staticClass:"notranslate"},[this._v("Plesk")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/litespeed3_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/litespeed2_zoom70.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Name")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("lsphp_selector")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Address")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("uds://tmp/lshttpd/lsphp_selector.sock")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Notes")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("Not Set")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Max Connections")])]),t._v(" "),s("td",[s("code",[t._v("35")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Environment")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("PHP_LSAPI_MAX_REQUESTS=5000")])]),s("br"),s("span",{staticClass:"notranslate"},[s("code",[t._v("PHP_LSAPI_CHILDREN=35")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Initial Request Timeout (secs)")])]),t._v(" "),s("td",[s("code",[t._v("60")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Retry Timeout (secs)")])]),t._v(" "),s("td",[s("code",[t._v("0")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Persistent Connection")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("Yes")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Connection Keepalive Timeout")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("Not Set")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Response Buffering")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("No")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Auto Start")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("Through CGI Daemon (Async)")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Command")])]),t._v(" "),s("td",[t._v("* For Plesk "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/var/www/cgi-bin/cgi_wrapper/cloudlinux_wrapper")])]),s("br"),t._v("* For other control panels "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/local/bin/lsphp")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Back Log")])]),t._v(" "),s("td",[s("code",[t._v("100")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Instances")])]),t._v(" "),s("td",[s("code",[t._v("1")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("suEXEC User")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("Not Set")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("suEXEC Group")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("Not Set")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("umask")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("Not Set")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Run On Start Up")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("Yes")])])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Max Idle Time")])]),t._v(" "),s("td",[s("code",[t._v("70")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Priority")])]),t._v(" "),s("td",[s("code",[t._v("0")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Memory Soft Limit (bytes)")])]),t._v(" "),s("td",[s("code",[t._v("2047M")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Memory Hard Limit (bytes)")])]),t._v(" "),s("td",[s("code",[t._v("2047M")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Process Soft Limit")])]),t._v(" "),s("td",[s("code",[t._v("400")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("Process Hard Limit")])]),t._v(" "),s("td",[s("code",[t._v("500")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Go to "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Script Handler")])]),this._v(" tab. For required suffixes change the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Handler Name")])]),this._v(" to "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("lsphp_selector")])]),this._v(" .")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/litespeed4_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/litespeed5_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Additional settings for LiteSpeed version 5.3 +")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Go to "),e("span",{staticClass:"notranslate"},[this._v(" Server --\x3e PHP ")]),this._v(" tab. Click "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Edit")])]),this._v(" in the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("PHP Handler Defaults")])]),this._v(" section. We recommend to set up the following settings:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Set "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Yes")])]),this._v(" in the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Run On Startup")])])]),this._v(" "),e("li",[this._v("Make sure to set "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Max Idle Time")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/litespeed_4_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("In order to use "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector and custom php.ini, lsphp5 ")]),this._v(" needs to be in SuEXEC non-daemon mode.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Some PHP configurations require more memory for SuExec to work properly. If you are getting error 500 after switching suEXEC to non-daemon mode, try to increase "),e("span",{staticClass:"notranslate"},[this._v(" Memory Soft Limit and Memory Hard Limit for external App ")]),this._v(" to at least 650/800M.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("If you have LiteSpeed installed not in standard location path, please create a symlink: "),e("span",{staticClass:"notranslate"},[this._v(" 'ln -s /path/to/custom/lsws /usr/local/lsws' then run 'cagefsctl --setup-cl-selector'. ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"ispmanager-support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ispmanager-support","aria-hidden":"true"}},[this._v("#")]),this._v(" ISPmanager support")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("As of July 2013, "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" support for "),e("span",{staticClass:"notranslate"},[this._v(" ISPmanager ")]),this._v(" is limited to command line utilities. You should still be able to use it.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("As always, "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" requires "),e("span",{staticClass:"notranslate"},[this._v("  CGI, FCGI ")]),this._v(" or "),e("span",{staticClass:"notranslate"},[this._v(" suPHP ")]),this._v(" to work.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create new file "),e("span",{staticClass:"notranslate"},[this._v(" /usr/local/bin/php-cgi-etc: ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('#!/bin/bash\n/usr/bin/php-cgi -c /etc/php.ini "$@"\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ chmod +x /usr/local/bin/php-cgi-etc\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("path phpcgibinary /usr/local/bin/php-cgi-etc\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Make sure there is no other lines with "),e("span",{staticClass:"notranslate"},[e("code",[this._v("path phpcgibinary")])]),this._v(" defined in the file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Restart "),e("span",{staticClass:"notranslate"},[this._v(" ISPmanager ")]),this._v(" :\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ killall ispmgr\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After that "),e("span",{staticClass:"notranslate"},[this._v(" FCGID ")]),this._v(" wrappers "),e("span",{staticClass:"notranslate"},[this._v("("),e("code",[this._v("/var/www/[USER]/data/php-bin/php")]),this._v(")")]),this._v(" for new users will be like this:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" #!/usr/local/bin/php-cgi-etc ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You might need to edit/modify wrappers for existing users if you want them to be able to use "),e("span",{staticClass:"notranslate"},[this._v("PHP Selector")]),this._v(". You can leave them as is for users that don't need such functionality.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"uninstalling-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstalling")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is not possible to remove "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" from the system completely as it is an essential part of "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager ")]),this._v(" and CageFS packages. However, you can make PHP Selector unavailable for cPanel and Plesk users.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("To do so, go to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("LVE Manager → PHP Selector")])]),t._v(" and check "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Disabled")]),t._v(" as PHP Selector ")]),t._v(" status. Doing so allows you to disable web-interface of the "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" in the user interface but does not reset custom settings (choosing a version of PHP and modules).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To disable "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" and make it has no effect on a PHP version on the sites, run the following command:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("this command resets PHP versions to Native:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --cl-selector-reset-versions\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("this command resets PHP modules to Default:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --cl-selector-reset-modules\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),e("p",[this._v("These commands can affect PHP version of your clients’ web sites. Use them with caution as improper usage might cause your clients’ web sites down.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"disabling-php-extension-globally"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#disabling-php-extension-globally","aria-hidden":"true"}},[this._v("#")]),this._v(" Disabling PHP extension globally")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you want to disable PHP extension globally, you don't need to remove file "),e("span",{staticClass:"notranslate"},[this._v(" /opt/alt/phpXX/etc/php.d.all/$EXTENSION.ini ")]),this._v(" . You should just comment out "),e("span",{staticClass:"notranslate"},[this._v(' "extension=" ')]),this._v(" directives in it.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The extension will be visible in "),e("span",{staticClass:"notranslate"},[this._v("PHP Selector")]),this._v(" interface, but selecting it in users's interface will take no effect - extension will be disabled in fact.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Reinstalling of "),e("span",{staticClass:"notranslate"},[e("code",[this._v("alt-php")])]),this._v(" packages will not reset settings (will not enable extension again).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration-and-using"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-and-using","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration and using")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"setting-default-version-and-modules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setting-default-version-and-modules","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting default version and modules")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Administrator can set default interpreter version and extensions for all users. All file operations are actually done by CageFS. CageFS takes settings from "),e("span",{staticClass:"notranslate"},[this._v("  /etc/cl.selector/defaults.cfg. ")]),this._v(" Currently the "),e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.selector/defaults.cfg ")]),this._v(" is created and handled by "),e("span",{staticClass:"notranslate"},[this._v(" CloudLinux PHP Selector ")]),this._v(" scripts. It has the following format:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[global]\nselector=enabled\n\n[versions]\nphp=5.4\n\n[php5.4]\nmodules=json,phar\n\n[php5.3]\nmodules=json,zip,fileinfo\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"individual-php-ini-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#individual-php-ini-files","aria-hidden":"true"}},[this._v("#")]),this._v(" Individual PHP.ini files")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For each customer, inside CageFS, file "),e("span",{staticClass:"notranslate"},[this._v(" alt_php.ini is located in /etc/cl.php.d/alt-phpXX (XX ")]),this._v(" - version of PHP, like 52 or 53). The file contains PHP extension settings and extension directives selected by customer. This file exists for each customer, for each PHP version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Note, that this is "),e("span",{staticClass:"notranslate"},[this._v(" 'local' to CageFS, ")]),this._v(" and different users will have different files. The file is not visible in "),e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.php.d ")]),this._v(" outside CageFS. If you would like to view that file, use:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# cagefsctl -e USERNAME \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("to enter into CageFS for that user. Then type: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("exit")])]),this._v(" ; to exit from CageFS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This file has to be updated using "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cagefsctl --rebuild-alt-php-ini")])]),this._v(" after updating "),e("span",{staticClass:"notranslate"},[this._v(" alt-php ")]),this._v(" RPMs")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Admin can change individual settings for PHP extensions by changing that extension's ini file, like editing "),e("span",{staticClass:"notranslate"},[this._v(" /opt/alt/php54/etc/php.d.all/eaccelerator.ini ")]),this._v(" and then running:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --rebuild-alt-php-ini\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-to-add-additional-php-ini-file-for-a-user-inside-cagefs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-add-additional-php-ini-file-for-a-user-inside-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" How to add additional php.ini file for a user inside CageFS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you want to create additional "),e("code",[this._v("php.ini")]),this._v(" file for a user inside CageFS in order to change some specific PHP options for that user, you can execute the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('# su -s /bin/bash - USER\n# cd /etc/cl.php.d/alt-php72/\n# echo "upload_tmp_dir=/tmp" >> custom.ini\n')])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The commands above create "),s("code",[t._v("custom.ini")]),t._v(" file that will be used for "),s("code",[t._v("alt-php72")]),t._v(". By default this approach is valid only for alt-php version selected via "),s("span",{staticClass:"notranslate"},[t._v("PHP Selector")]),t._v(". When "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cl.selector/symlinks.rules")])]),t._v(" file contains "),s("span",{staticClass:"notranslate"},[s("code",[t._v("php.d.location = selector")])]),t._v(" line, then the approach is valid for all alt-php versions regardless whether it is selected in PHP Selector or not.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"substitute-global-php-ini-for-individual-customer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#substitute-global-php-ini-for-individual-customer","aria-hidden":"true"}},[this._v("#")]),this._v(" Substitute global php.ini for individual customer")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Move default php.ini into "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc")])]),this._v(" directory and create a symlink to it:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ mv /usr/local/lib/php.ini /etc/php.ini\n$ ln -fs /etc/php.ini /usr/local/lib/php.ini\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Change path to php.ini in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cl.selector/native.conf")])]),this._v(" file to:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php.ini=/etc/php.ini\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("For each user that needs custom file, create directory "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cagefs/custom.etc/USER_NAME/php.ini")])]),this._v(" .")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("For example if you want to create custom for "),s("span",{staticClass:"notranslate"},[t._v(" USER1 ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" USER2 ")]),t._v(" you would create files:"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/cagefs/custom.etc/USER1/php.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/cagefs/custom.etc/USER2/php.ini")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Execute:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --force-update \n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Notes")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Make sure that "),s("code",[t._v("php.ini")]),t._v(" load path is set to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/php.ini")])])])]),t._v(" "),s("li",[s("p",[t._v("Users will be able to override settings of those php.ini files (global or custom) via "),s("span",{staticClass:"notranslate"},[t._v("PHP Selector")]),t._v(". If you want to prevent that, you should disable "),s("span",{staticClass:"notranslate"},[t._v("PHP Selector")]),t._v(" feature.")])]),t._v(" "),s("li",[s("p",[t._v("Even if "),s("span",{staticClass:"notranslate"},[t._v("PHP Selector")]),t._v(" is disabled, user can override PHP settings by using "),s("span",{staticClass:"notranslate"},[s("code",[t._v("ini_set() php")])]),t._v(" function in PHP script, or by "),s("span",{staticClass:"notranslate"},[s("code",[t._v("php -c")])]),t._v(" command line option.")])]),t._v(" "),s("li",[s("p",[t._v("If you modify anything in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cagefs/custom.etc")])]),t._v(" directory, you should execute:")])])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ cagefsctl --update-etc\n")])])])]),t._v(" "),s("p",[t._v("in order to apply changes to CageFS for all users.")]),t._v(" "),s("p",[t._v("OR")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ cagefsctl --update-etc user1 user2\n")])])])]),t._v(" "),s("p",[t._v("to apply changes to CageFS for specific users.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-to-substitute-global-php-ini-for-individual-customer-on-cpanel-server-with-easyapache4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-substitute-global-php-ini-for-individual-customer-on-cpanel-server-with-easyapache4","aria-hidden":"true"}},[this._v("#")]),this._v(" How to substitute global php.ini for individual customer on cPanel server with EasyApache4")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("It is enough to put "),s("code",[t._v("php.ini")]),t._v(" in the directory where PHP script is located in order to run the PHP script with a custom "),s("code",[t._v("php.ini")]),t._v(" when using SuPHP. Also, you can use "),s("span",{staticClass:"notranslate"},[t._v("cPanel MultiPHP Manager")]),t._v(" to create user’s custom "),s("code",[t._v("php.ini")]),t._v(" file, and this approach should work for CGI, FCGI, and LSAPI. Recommended ways to manage "),s("code",[t._v("php.ini")]),t._v(" settings per user are to use "),s("span",{staticClass:"notranslate"},[t._v("cPanel MultiPHP")]),t._v(" or "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux PHP Selector")]),t._v(" interfaces.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("For each user that needs custom file, create directory "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cagefs/custom.etc/USER_NAME/php.ini")])]),t._v(".")]),t._v(" "),s("p",[t._v("For example, if you want to create a custom file for USER1 and USER2 you would create files:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/etc/cagefs/custom.etc/USER1/php.ini\n/etc/cagefs/custom.etc/USER2/php.ini\n")])])])]),t._v(" "),s("p",[t._v("Create such files for each user that should have a custom file.")])]),t._v(" "),s("li",[s("p",[t._v("Execute the following command:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ cagefsctl --force-update\n")])])])])]),t._v(" "),s("li",[s("p",[t._v("Configure "),s("code",[t._v("php.ini")]),t._v(" load path for user’s domains.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("p",[t._v("When using "),s("strong",[t._v("suphp")]),t._v(" handler, you should use "),s("code",[t._v("SuPHP_ConfigPath")]),t._v(" directive in virtual host configuration for these domains, or use this directive in "),s("code",[t._v(".htaccess")]),t._v(" files: "),s("code",[t._v("suPHP_ConfigPath/etc")]),t._v(".")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("p",[t._v("When using "),s("strong",[t._v("FCGI")]),t._v(" or "),s("strong",[t._v("CGI")]),t._v(", you should implement custom PHP wrapper and redefine the path to "),s("code",[t._v("php.ini")]),t._v(" via "),s("code",[t._v("-c")]),t._v(" command line option, like below:\n")]),s("div",{staticClass:"notranslate"},[s("p"),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#!/bin/bash\n[ -f /etc/php.ini ] && exec /usr/bin/php -c /etc/php.ini\nexec /usr/bin/php\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Notes:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("You should restart Apache web server after modifying virtual host configuration for the domains.")])]),t._v(" "),s("li",[s("p",[t._v("Custom "),s("code",[t._v("php.ini")]),t._v(" may break switching PHP version via "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux PHP Selector")]),t._v(" or "),s("span",{staticClass:"notranslate"},[t._v("cPanel MultiPHP Manager")]),t._v(" for the appropriate users or domains.")])]),t._v(" "),s("li",[s("p",[t._v("When using cPanel ea-php for the domains, additional "),s("code",[t._v("php.ini")]),t._v(" files may not be loaded, so you should load all needed PHP extensions in custom "),s("code",[t._v("/etc/php.ini")]),t._v(" file:\n"),s("img",{attrs:{src:"/images/custom_file_cPanel1.png",alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("When using CloudLinux alt-php, additional "),s("code",[t._v("php.ini")]),t._v(" files will be loaded:\n"),s("img",{attrs:{src:"/images/custom_file_cPanel2.png",alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("If you have modified anything in "),s("code",[t._v("/etc/cagefs/custom.etc")]),t._v(" directory, you should execute one of the following:")]),t._v(" "),s("ul",[s("li",[t._v("to apply changes to CageFS for all users, run:")])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ cagefsctl --update-etc\n")])])])]),t._v(" "),s("ul",[s("li",[t._v("to apply changes to CageFS for specific users, run:")])]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ cagefsctl --update-etc user1 user2\n")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"managing-interpreter-version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#managing-interpreter-version","aria-hidden":"true"}},[this._v("#")]),this._v(" Managing interpreter version")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Managing interpreter versions is done by means of manipulating a set of symbolic links that point to different versions of interpreter binaries. For example, if default PHP binary is "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/local/bin/php")])]),this._v(" :")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("First we move the default binary inside CageFS to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/share/cagefs-skeleton/usr/selector")])]),t._v(" , and make "),s("span",{staticClass:"notranslate"},[t._v(" /usr/local/bin/php ")]),t._v(" a symlink pointing to "),s("span",{staticClass:"notranslate"},[t._v(" /etc/cl.selector/php ")]),t._v(" . This operation is done as part of CageFS deployment.")]),t._v(" "),s("li",[t._v("Next suppose we have additional PHP version, say 7.2.5. The information about all additional interpreter binaries and paths for them is kept in "),s("span",{staticClass:"notranslate"},[t._v(" /etc/cl.selector/selector.conf ")]),t._v(" . This config file is updated by RPM package manager each time alternative PHP package is added, removed or updated")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/bin/selectorctl --list --interpreter=php")])]),t._v(" will get us list of all available PHP interpreter versions out of "),s("span",{staticClass:"notranslate"},[t._v(" /etc/cl.selector/selector.conf file ")]),t._v(" .\nNext we want to know which PHP version is active for a given user (to supply a selected option in options list). We type:")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/bin/selectorctl --user USERNAME --interpreter=php --user-current")])]),t._v(" will retrieve PHP version set for a particular user. The script gets the path from "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/var/cagefs/LAST_TWO_DIGITS_OF_UID/USERNAME/etc/cl.selector/php")])]),t._v(" symlink, compares it with contents of "),s("span",{staticClass:"notranslate"},[t._v(" /etc/cl.selector/selector.conf ")]),t._v(" file and if path is valid, prints out the current interpreter version.")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/bin/selectorctl --user USERNAME --interpreter=php --set-user-current=7.2")])]),t._v(" sets the current PHP version for particular user by creating symlink in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/var/cagefs/LAST_TWO_DIGITS_OF_UID/USERNAME/etc/cl.selector")])]),t._v(" directory. All old symlinks are removed, and new symlinks are set.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"including-php-selector-only-with-some-packages-cpanel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#including-php-selector-only-with-some-packages-cpanel","aria-hidden":"true"}},[this._v("#")]),this._v(" Including PHP Selector only with some packages (cPanel)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" cPanel ")]),this._v(" has a ' "),e("span",{staticClass:"notranslate"},[this._v(" Feature Manager ")]),this._v(" ' in WHM that allows you to disable "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" for some of the packages that you offer.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In reality it only disables the icon in "),e("span",{staticClass:"notranslate"},[this._v(" cPanel ")]),this._v(" interface. Yet, in most cases it should be enough in shared hosting settings.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Once "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" is enabled, you can find it in the "),s("span",{staticClass:"notranslate"},[t._v(" Feature Manager ")]),t._v(" . Disabling it in "),s("span",{staticClass:"notranslate"},[t._v(" Feature Manager ")]),t._v(" , will remove the icon for users that are using that particular "),s("span",{staticClass:"notranslate"},[t._v(" 'Feature List' ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP extensions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Configuring Alt-PHP modules loading")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" CloudLinux PHP Selector ")]),t._v(" and Alt-PHP can be used in conjunction with "),s("span",{staticClass:"notranslate"},[t._v(" Plesk PHP Selector ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" cPanel MultiPHP ")]),t._v(" . To be compatible, "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux PHP Selector ")]),t._v(" works as follows: modules that are selected in "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux PHP Selector ")]),t._v(" are loaded for Alt-PHP version selected in "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux PHP Selector ")]),t._v(" only. For the rest Alt-PHP versions default module set is loaded "),s("span",{staticClass:"notranslate"},[t._v(" ( "),s("em",[t._v("/opt/alt/phpXX/etc/php.d/default.ini")]),t._v(" ) ")]),t._v(" . Described above is default behavior.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("If system default PHP version selected in "),s("span",{staticClass:"notranslate"},[t._v(" cPanel MultiPHP Manager is not ea-php, then default module set is loaded for all Alt-PHP versions by default (/opt/alt/phpXX/etc/php.d/default.ini). ")])]),t._v(" "),s("p",[t._v("When "),s("span",{staticClass:"notranslate"},[t._v(' "php.d.location = selector" option is in effect, modules selected via PHP Selector ')]),t._v(" will be loaded for all alt-php versions.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("In "),s("span",{staticClass:"notranslate"},[t._v(" LVE Manager ")]),t._v(" 1.0-9.40+ this behavior can be modified so that modules selected in "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux PHP Selector ")]),t._v(" would be loaded for all Alt-PHP versions (with CageFS enabled), which can be quite useful if you use  ‘ "),s("span",{staticClass:"notranslate"},[t._v(" per directory ")]),t._v(" ’ or ‘ "),s("span",{staticClass:"notranslate"},[t._v(" per domain ")]),t._v(" ’ Alt-PHP configuration and want to select modules using "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux PHP Selector ")]),t._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To modify it, create a file "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cl.selector/symlinks.rules")])]),this._v(" (read-only for regular users) with the following content: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("php.d.location = selector")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --apply-symlinks-rules\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Delete "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/cl.selector/symlinks.rules")])]),t._v(" file.")]),t._v(" "),s("li",[t._v("Alternatively remove "),s("span",{staticClass:"notranslate"},[s("em",[t._v("php.d.location")])]),t._v(" option from the file.")]),t._v(" "),s("li",[t._v("Alternatively set "),s("span",{staticClass:"notranslate"},[s("em",[t._v("default")])]),t._v(" value for "),s("span",{staticClass:"notranslate"},[s("em",[t._v("php.d.location")])]),t._v(" option.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --apply-symlinks-rules\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"ffmpeg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ffmpeg","aria-hidden":"true"}},[this._v("#")]),this._v(" FFmpeg")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Once "),e("span",{staticClass:"notranslate"},[this._v(" FFmpeg ")]),this._v(" is installed you can install PHP bindings, by running:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install alt-php*ffmpeg \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Enable "),e("span",{staticClass:"notranslate"},[this._v(" PHP-FFmpeg ")]),this._v(" extension via "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" :\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("selectorctl --enable-extensions=ffmpeg --user USERNAME --version X.Y\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"native-php-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#native-php-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Native PHP configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v("PHP Selector")]),this._v(" requires access to the "),e("span",{staticClass:"notranslate"},[this._v("native PHP")]),this._v(" version for proper work. It is specified in the file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cl.selector/native.conf")])]),this._v(" of the following content (example):\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php=/usr/bin/php-cgi\nphp-cli=/usr/bin/php\nphp.ini=/etc/php.ini\nlsphp=/usr/local/bin/lsphp\nphp-fpm=/usr/local/sbin/php-fpm\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --setup-cl-selector\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The file is created when installing CageFS on the servers with "),e("span",{staticClass:"notranslate"},[this._v(" cPanel, Plesk, DA, Interworx and ISP Manager ")]),this._v(" , if it is missing. On all other servers the file is not being created at all.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("chmod 0644 /etc/cl.selector/native.conf\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-to-configure-alt-php72-zts-to-use-with-php-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-configure-alt-php72-zts-to-use-with-php-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" How to configure alt-php72-zts to use with PHP Selector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Requirements")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use "),e("code",[this._v("alt-php72-zts")]),this._v(" with PHP Selector you need the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("cagefs-6.1.8-1")]),this._v(" or later")]),this._v(" "),e("li",[e("code",[this._v("alt-php72-zts-7.2.21-4")]),this._v(" or later")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Using zts PHP")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Install "),e("code",[this._v("alt-php72-zts")]),this._v(" with the following command:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install alt-php72-zts\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Make sure that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cl.selector/selector.conf")])]),this._v(" file contains correct paths to the PHP "),e("code",[this._v("zts")]),this._v(" binaries.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php 7.2 7.2.20 /opt/alt/php72/usr/bin/php-cgi\nphp-cli 7.2 7.2.20 /opt/alt/php72/usr/bin/php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php 7.2 7.2.20 /opt/alt/php72/usr/bin/zts-php-cgi\nphp-cli 7.2 7.2.20 /opt/alt/php72/usr/bin/zts-php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Make sure that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/php72/etc/php.d.all")])]),this._v(" path refers to the directory containing "),e("code",[this._v("ini")]),this._v(" files for "),e("code",[this._v("zts")]),this._v(" PHP extensions:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd /opt/alt/php72/etc\nln -fsn php.d.all.zts php.d.all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Execute the following command:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --setup-cl-selector\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Using non-zts PHP")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Make sure that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cl.selector/selector.conf")])]),this._v(" file contains correct paths to the "),e("code",[this._v("non-zts")]),this._v(" PHP binaries.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php 7.2 7.2.20 /opt/alt/php72/usr/bin/zts-php-cgi\nphp-cli 7.2 7.2.20 /opt/alt/php72/usr/bin/zts-php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php 7.2 7.2.20 /opt/alt/php72/usr/bin/php-cgi\nphp-cli 7.2 7.2.20 /opt/alt/php72/usr/bin/php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Make sure that "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/php72/etc/php.d.all")])]),this._v(" path refers to the directory containing "),e("code",[this._v("ini")]),this._v(" files for "),e("code",[this._v("non-zts")]),this._v(" PHP extensions:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd /opt/alt/php72/etc\nln -fsn php.d.all.def php.d.all\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Execute the following command:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --setup-cl-selector\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"using"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using","aria-hidden":"true"}},[this._v("#")]),this._v(" Using")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Once "),e("span",{staticClass:"notranslate"},[this._v("PHP Selector")]),this._v(" is installed, you will see the "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("Selector")])]),this._v(" tab in the "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("LVE Manager")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/php_selector.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" lets you select default PHP version, as well as modules that will be available to user out of the box.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Inside "),e("span",{staticClass:"notranslate"},[this._v(" cPanel ")]),this._v(", User will be able to change PHP version they would have:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/php_selector_user.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/php_selector_customer.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/php_selector_options.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"custom-php-ini-options"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#custom-php-ini-options","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom PHP.ini options")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Requires "),e("span",{staticClass:"notranslate"},[this._v("LVE Manager")]),this._v(" 0.6+")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v("PHP Selector")]),this._v(" allows customer to edit php.ini settings. Admin has a full control over which settings can be modified.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To allow settings to be modifiable, it has to be whitelisted in "),e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.selector/php.conf ")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Directive = safe_mode\nDefault   = Off\nType      = bool\nRemark    = <5.4.0\nComment   = Enables PHP safe mode. This mode puts a number of restrictions on scripts (say, access to file system) mainly for security reasons.\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Directive = safe_mode_include_dir\nType      = value\nRemark    = <5.4.0\nComment   = If PHP is in the safe mode and a script tries to access some files, files from this directory will bypass security (UID/GID) checks. The directory must also be in include_path. For example: /dir/inc\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Directive")]),t._v(" "),s("td",[t._v("php.ini setting")])]),t._v(" "),s("tr",[s("td",[t._v("Default")]),t._v(" "),s("td",[t._v("Default value")])]),t._v(" "),s("tr",[s("td",[t._v("Type")]),t._v(" "),s("td",[t._v("bool, value (any text), list")])]),t._v(" "),s("tr",[s("td",[t._v("Range")]),t._v(" "),s("td",[t._v("list of values for list Type")])]),t._v(" "),s("tr",[s("td",[t._v("Comment")]),t._v(" "),s("td",[t._v("explanation of the setting to display in UI")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Default values, that are shown in "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" web interface, are taken from "),s("span",{staticClass:"notranslate"},[t._v(" '/opt/alt/phpXX/usr/bin/php -i' ")]),t._v(" runtime values, if\ndirective is not there, it will use ' "),s("span",{staticClass:"notranslate"},[t._v(" default ")]),t._v(" ' value that was set in "),s("span",{staticClass:"notranslate"},[t._v(" php.conf ")]),t._v(' . So, if you wish to change default value of any option for\n"alternative" php version, please modify '),s("span",{staticClass:"notranslate"},[t._v(" /opt/alt/phpXX/etc/php.ini ")]),t._v(" files (where XX = 55, 54, 53, etc according to php version).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/php_selector_options.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"end-user-files-and-directories"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#end-user-files-and-directories","aria-hidden":"true"}},[this._v("#")]),this._v(" End user files and directories")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.selector ")]),this._v(" - PHP binaries symbolic links.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" /usr/selector/php - Native PHP ")]),this._v(" binaries.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.php.d/alt-php* ")]),this._v(" - Links to enabled modules.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" /home/user/.cl.selector/alt_phpXX.cfg ")]),this._v(" - Config file for custom PHP options.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.php.d/alt-php54/fileinfo.ini - /opt/alt/php54/etc/php.d.all/fileinfo.ini ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"compiling-your-own-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#compiling-your-own-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" Compiling your own extensions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have decided that you want to build it on your own, you would need to build it for each and every supported version of PHP that you have installed. The module installation process is a bit different from standard - you would need to use the version of phpize and php-config binaries that come with particular "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" version.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("Download and unpack extension, cd into it's directory.")])]),this._v(" "),e("li",[e("p",[this._v("Execute our version of phpize if necessary:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/opt/alt/phpXX/usr/bin/phpize\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Execute configure with our binary:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("./configure --with-php-config=/opt/alt/phpXX/usr/bin/php-config\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Make the "),e("span",{staticClass:"notranslate"},[this._v(" .so ")]),this._v(" file:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("make\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Copy it to the modules directory (on 32-bit server, use "),e("span",{staticClass:"notranslate"},[this._v(" usr/lib/php/modules ")]),this._v(" ).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cp -rp modules/*.so /opt/alt/phpXX/usr/lib64/php/modules/\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[e("p",[this._v("Add ini file for module to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/phpXX/etc/php.d.all")]),this._v(" . ")])])]),this._v(" "),e("li",[e("p",[this._v("Register new "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" version with:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cagefsctl --setup-cl-selector\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"roll-your-own-php"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#roll-your-own-php","aria-hidden":"true"}},[this._v("#")]),this._v(" Roll your own PHP")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To add your own PHP version in "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" :")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Create directory in (like:  /opt/alt/php51), and mimic directory structure inside to be similar to the one of PHP versions bundled by "),s("span",{staticClass:"notranslate"},[t._v(" CloudLinux ")]),t._v(" .")]),t._v(" "),s("li",[t._v("Put all the ini files for all the modules into "),s("span",{staticClass:"notranslate"},[t._v(" /opt/alt/php51/etc/php.d.all ")])]),t._v(" "),s("li",[t._v("Create a symbolic link "),s("span",{staticClass:"notranslate"},[t._v(" /opt/alt/php51/etc/php.d -> /etc/cl.php.d/alt-php51 ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Place all such files into "),e("span",{staticClass:"notranslate"},[this._v(" /opt/alt/php51/usr/lib/php/modules ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Add an absolute path to PHP binaries into "),e("span",{staticClass:"notranslate"},[this._v(" /etc/cl.selector/selector.conf ")]),this._v(" using the following format:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php     5.1 5.1.2 /opt/alt/php51/usr/bin/php-cgi \nphp-cli 5.1 5.1.2 /opt/alt/php51/usr/bin/php \nphp-fpm 5.1 5.1.2 /opt/alt/php51/usr/sbin/php-fpm\n   ^     ^    ^                ^----- absolute path\n   |     |    |---------------------- real version\n   |     | -------------------------- version to display\n   |--------------------------------- binary to 'substitute'\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --setup-cl-selector\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The new PHP version must be available now for selection in "),e("span",{staticClass:"notranslate"},[this._v("PHP Selector")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"detect-user-s-php-version"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#detect-user-s-php-version","aria-hidden":"true"}},[this._v("#")]),this._v(" Detect user's PHP version")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[this._v("LVE Manager")]),this._v(" 0.5-63 or higher")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" provides an easy way to figure out which versions are available and selected for end user from the command line. You can get this information by running:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ selectorctl --interpreter=php --user-summary --user=USERNAME\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("The output:\n5.2 e - -\n5.3 e - s\n5.4 e - -\n5.5 e - -\nnative e d -\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The first column defines the PHP version. "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Native")])]),this._v(" means native PHP version, like the one installed by cPanel with EasyApache.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The second column will contain either "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("e")])]),this._v(" or "),e("strong",[this._v("-.")]),this._v(" If "),e("span",{staticClass:"notranslate"},[e("strong",[this._v("e")])]),this._v(" is present, it means that given version is enabled, and can be selected by the end user.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The third column can have values "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("d")])]),t._v(" or "),s("strong",[t._v("-.")]),t._v(" If "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("d")])]),t._v(" is present, that version is considered a 'default' version. Only one PHP version will have "),s("strong",[t._v("d")]),t._v(" indicator.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The fourth column can have values "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("s")])]),t._v(" or "),s("strong",[t._v("-.")]),t._v(" If "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("s")]),t._v(" is present, that is the selected version, currently being used by the end user. Only one PHP version will have  "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("s")])]),t._v("  indicator. ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In case a user is not inside CageFS, and as such doesn't use "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" , you will see the following error message:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("ERROR:User USERNAME not in CageFS\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-selector-without-cagefs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-selector-without-cagefs","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP Selector without CageFS")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("[LVE Manager 2.0-11.1 or higher]")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" can now be used with CageFS turned off (in case when there is only one user account on the server).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-phpyum install cagefs lvemanager\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("selectorctl --setup-without-cagefs USER\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("( "),e("span",{staticClass:"notranslate"},[this._v(" USER ")]),this._v(" - the name of a user who is using selector. If not specified, the first available cPanel account username will be used).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When executing "),e("span",{staticClass:"notranslate"},[e("code",[this._v("--setup-without-cagefs")])]),this._v(", the following actions are performed:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("Creating symlinks to the user modules and options for each "),s("span",{staticClass:"notranslate"},[t._v(" Alt-PHP ")]),t._v(" version:"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/opt/alt/php55/link/conf/alt_php.ini -> /home/USER/.cl.selector/alt_php55.ini")])])])]),t._v(" "),s("li",[s("p",[t._v("In user home directory creating:"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("“Backup” settings files (selected version, modules, options):"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v(".cl.selector/defaults.cfg")])]),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v(".cl.selector/alt_php44.cfg")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Symlinks to the selected version:"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/lsphp -> /opt/alt/php44/usr/bin/lsphp")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/php.ini -> /opt/alt/php44/etc/php.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/php-cli -> /opt/alt/php44/usr/bin/php")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/php -> /opt/alt/php44/usr/bin/php-cgi")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Additional symlinks for environment variable "),s("span",{staticClass:"notranslate"},[t._v(" $PATH ")]),t._v(" (search path) in the file "),s("span",{staticClass:"notranslate"},[t._v(" ~/.bashrc ")]),t._v(" :"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/selector.path/")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/selector.path/php-cgi -> ../php")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/selector.path/php -> ../php-cli")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Generated ini files with selected modules and options for each version:\n"),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php44.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php51.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php52.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php53.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php54.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php55.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php56.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php70.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v(".cl.selector/alt_php71.ini")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Symlinks above are being created according to the settings in "),s("span",{staticClass:"notranslate"},[t._v(" ~/.cl.selector/defaults.cfg ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" ~/.cl.selector/alt_php44.cfg ")]),t._v(" files (44 - corresponding PHP version), which are storing "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" settings for the user. These files are usually taken from user home directory backup or when migrating account from another server. Thus, when migrating account from server to server, "),s("span",{staticClass:"notranslate"},[t._v(" PHP Selector ")]),t._v(" settings are saved.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If no "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" settings backup files are found when running "),e("span",{staticClass:"notranslate"},[e("code",[this._v("selectorctl --setup-without-cagefs")])]),this._v(", then default settings from "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cl.selector/defaults.cfg")])]),this._v(" global file are applied (as in selector normal mode). If the file is absent, then native PHP version will be selected for the user.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("The following line: "),e("span",{staticClass:"notranslate"},[e("em",[this._v("PATH=$HOME/.cl.selector/selector.path:$HOME/.cl.selector:$PATH")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("is being added to the user file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("~/.bashrc")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Apache ")]),this._v(" PHP handlers settings are not changed.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("Also "),e("span",{staticClass:"notranslate"},[e("code",[this._v("selectorctl --setup-without-cagefs")])]),this._v(" command does the following:")]),this._v(" "),e("ul",[e("li",[this._v("Turns off link traversal protection (linksafe);")]),this._v(" "),e("li",[this._v("Turns off cagefs service.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("selectorctl --revert-to-cagefs\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("(CageFS should be initialized by using "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cagefsctl --init")])]),this._v(" command before running the command above)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This command removes symlinks:"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/php55/link/conf/alt_php.ini")]),this._v(" -> "),e("code",[this._v("/home/USER/.cl.selector/alt_php55.ini")])]),this._v("\nturns on link traversal protection (linksafe) and cagefs service.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"configuring-global”-php-ini-options-for-all-alt-php-versions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-global”-php-ini-options-for-all-alt-php-versions","aria-hidden":"true"}},[this._v("#")]),this._v(' Configuring "global” php.ini options for all Alt-PHP versions')])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("CageFS 6.0-33 or higher, "),e("span",{staticClass:"notranslate"},[this._v("LVE Manager")]),this._v(" 2.0-11.2 or higher")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("There is "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/cl.selector/global_php.ini")])]),this._v(" file, where you can specify values of PHP options that should be applied for all "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" versions that are installed on a server. These settings will also be automatically applied to the new "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" versions that will be installed later.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Example:"),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("# cat /etc/cl.selector/global_php.ini")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("[Global PHP Settings]")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("date.timezone = Europe/Warsaw")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("error_log = error_log")])]),s("br"),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("memory_limit = 192M")])]),s("br"),t._v("\nSections are ignored. Only name of an option and a value have meaning.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When an option is absent in "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/cl.selector/global_php.ini")])]),this._v(" file, than it is not changed (applied) to php.ini for "),e("span",{staticClass:"notranslate"},[this._v(" Alt-PHP ")]),this._v(" versions.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" date.timezone ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" error_log ")]),t._v(" options are handled differently than the others. When these options are not in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/cl.selector/global_php.ini")])]),t._v(" file, than values for the options will be taken from "),s("span",{staticClass:"notranslate"},[t._v(' "native" ')]),t._v(" php.ini file. And when the option is in php.ini for some "),s("span",{staticClass:"notranslate"},[t._v(" Alt-PHP ")]),t._v(" version already (and its value is not empty), than value from "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/cl.selector/global_php.ini")])]),t._v(" will be NOT applied.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("CageFS version 6.1.5-1 or later")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The behavior above is changed for cPanel servers with EasyApache 4. The "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/local/lib/php.ini")])]),this._v(" file is removed for new installations of cPanel v80 and later.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("When "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/local/lib/php.ini")])]),t._v(" file exists, "),s("span",{staticClass:"notranslate"},[s("code",[t._v("error_log")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("code",[t._v("date.timezone")])]),t._v(" options will be taken from that "),s("span",{staticClass:"notranslate"},[s("code",[t._v("php.ini")])]),t._v(" file.")]),t._v(" "),s("li",[t._v("When "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/usr/local/lib/php.ini")])]),t._v(" file does not exist, "),s("span",{staticClass:"notranslate"},[s("code",[t._v("error_log")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("code",[t._v("date.timezone")])]),t._v(" options will be taken from the "),s("span",{staticClass:"notranslate"},[s("code",[t._v("php.ini")])]),t._v(" file for system default PHP version selected in MultiPHP Manager.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("This functionality works when the system default PHP version is "),s("span",{staticClass:"notranslate"},[s("code",[t._v("ea-php")])]),t._v(" only. When the system default PHP version is "),s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-php")]),t._v(", "),s("code",[t._v("error_log")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("code",[t._v("date.timezone")])]),t._v(" directives will be NOT taken from that "),s("span",{staticClass:"notranslate"},[s("code",[t._v("php.ini")])]),t._v(" file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To confirm changes (not affecting "),e("span",{staticClass:"notranslate"},[this._v(' "date.timezone" ')]),this._v(" and "),e("span",{staticClass:"notranslate"},[this._v(' "error_log" ')]),this._v(" options) please run:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/sbin/cagefsctl --setup-cl-selector\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To confirm changes (including "),e("span",{staticClass:"notranslate"},[e("code",[this._v("date.timezone")])]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[this._v("error_log")])]),this._v(" options) please run:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --apply-global-php-ini\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/sbin/cagefsctl --apply-global-php-ini\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you don't want to change "),e("span",{staticClass:"notranslate"},[e("code",[this._v("error_log")])]),this._v(", but want to change "),e("span",{staticClass:"notranslate"},[e("code",[this._v("date.timezone")])]),this._v(", you can execute:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("selectorctl --apply-global-php-ini date.timezone\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Similarly, command "),s("span",{staticClass:"notranslate"},[s("code",[t._v("selectorctl --apply-global-php-ini error_log")])]),t._v(" applies "),s("span",{staticClass:"notranslate"},[t._v(" error_log ")]),t._v(" and all other options specified in "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/etc/cl.selector/global_php.ini")])]),t._v(" file, except "),s("span",{staticClass:"notranslate"},[t._v(" date.timezone ")]),t._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("So, you can specify 0, 1 or 2 parameters from the list: "),e("span",{staticClass:"notranslate"},[this._v(" error_log, date.timezone ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Using "),e("span",{staticClass:"notranslate"},[e("code",[this._v("--apply-global-php-ini")])]),this._v(" without arguments applies all global PHP options including two above.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("selectorctl --apply-global-php-ini error_log\nselectorctl --apply-global-php-ini date.timezone\nselectorctl --apply-global-php-ini date.timezone error_log\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The latter command has the same effect as "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/bin/selectorctl --apply-global-php-ini")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"integration-with-control-panels-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#integration-with-control-panels-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Integration with control panels")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This is the list of commands that we use to integrate "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" with control panels. If you need to integrate "),e("span",{staticClass:"notranslate"},[this._v(" PHP Selector ")]),this._v(" with a custom control panel, you might find all the commands here:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("PHP summary:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --summary\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("4.4 e -\n5.1 e -\n5.2 e -\n5.3 e -\n5.4 e -\n5.5 e -\n5.6 e -\n7.0 e -\n7.1 e -\nnative e d\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --summary --show-native-version\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("4.4 e -\n5.1 e -\n5.2 e -\n5.3 e -\n5.4 e -\n5.5 e -\n5.6 e -\n7.0 e -\n7.1 e -\nnative(5.6) e d\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The first column: PHP version"),e("br"),this._v("\nThe second column: enabled or not ( "),e("span",{staticClass:"notranslate"},[this._v(" e ")]),this._v(" - enabled)"),e("br"),this._v("\nThe third column: if selected as default  ( "),e("span",{staticClass:"notranslate"},[this._v(" d ")]),this._v(" - default)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Set default version:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --set-current=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Disable version:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --disable-alternative=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Enable version:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --enable-alternative=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("List extensions for a version:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --list-extensions --version=5.6\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("- apc\n- bcmath\n- big_int\n- bitset\n- bloomy\n~ bz2\n- bz2_filter\n~ calendar\n- coin_acceptor\n- crack\n~ ctype\n+ curl\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("+: enabled"),e("br"),this._v("\n~: included in php binary (cannot be disabled)"),e("br"),this._v("\n-: disabled")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Select default extensions (enable comma-separated list of extensions globally for a version):")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --version=5.6 --enable-extensions=pdo,json,mysql\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Deselect default extensions (disable comma-separated list of extensions globally for a version):")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --version=5.6 --disable-extensions=pdo,json,mysql\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Replace extensions with comma-separated list of extensions for a version globally:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --version=5.6 --replace-extensions=pdo,json,mysql\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Select PHP version for a user:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --set-user-current=_VERSION_ --user=_USER_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("List enabled extensions for a user:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --list-user-extensions --user=_USER_ --version=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Enable comma-separated list of extensions for a user:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --enable-user-extensions=pdo,json,mysql --user=_USER_ --version=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Reset user’s extensions to defaults:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --reset-user-extensions --user=_USER_ --version=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Replace user extensions with comma-separated list of extensions:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --replace-user-extensions=EXT_LIST --user=_USER_ --version=_VERSION_\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("em",[this._v("EXT_LIST")])]),this._v(" "),e("em",[this._v("a is comma separated list of PHP extensions (for example:")]),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v("pdo,json,mysql")])]),this._v(" )")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("List available options for php.ini editing:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --print-options --user=_USER_ --version=_VERSION_ [--json]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("List available options for php.ini editing (print safe strings):")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --print-options-safe --user=_USER_ --version=_VERSION_ [--json]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Set php.ini options for end user:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --user=_USER_ --version=_VERSION_ --replace-options=_OPTIONS_ --base64 [--json]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here is an example of how you can generate "),e("span",{staticClass:"notranslate"},[e("em",[this._v("OPTIONS")]),this._v(" in base64 ")]),this._v(" format:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("OPTIONS=`echo disable_functions:exec,syslog|base64 -w 0`,`echo display_errors:off|base64 -w 0`,`echo post_max_size:128M|base64 -w 0`\necho $OPTIONS\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-selector-integration-with-cpanel’s-multiphp-manager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-selector-integration-with-cpanel’s-multiphp-manager","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP Selector integration with cPanel’s MultiPHP Manager")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Requires CageFS 5.5-6.18+")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview","aria-hidden":"true"}},[this._v("#")]),this._v(" Overview")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/MultiPHPManager.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The main advantage of MultiPHP Manager is allowing users to select "),e("strong",[this._v("different PHP versions for each domain")]),this._v(".\nWith CloudLinux, you can also make use of a similar feature: PHP Selector. PHP Selector has an important advantage over MultiPHP Manager: it allows a single cPanel user to manage PHP extensions without the need to contact his/her hoster. The user can enable/disable PHP extensions as he pleases. PHP Selector also leaves the choice of PHP version to the end user, but the switch is made for the "),e("strong",[this._v("whole user, not for a separate website")]),this._v(" (as with MultiPHP Manager).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("The main question a hoster should answer is which of the above features he will provide for his clients: MultiPHP Manager or PHP Selector. Using both can be confusing for the end users. You can manage which features to show to your cPanel end-users in WHM Home » Packages » Feature Manager » Feature Lists.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("LVE Manager")]),this._v(" "),e("li",[this._v("CageFS")]),this._v(" "),e("li",[this._v("CloudLinux alt-php package")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"configuration-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/MultiPHPManager_setup.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("Make sure that the System PHP Version is set to one of the "),s("strong",[t._v("ea-phpXX")]),t._v(" ones."),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Attention")]),t._v(" "),s("p",[t._v("Selecting the "),s("strong",[t._v("alt-phpXX")]),t._v(" (as a “System PHP Version”) will break the PHP Selector.")])])]),t._v(" "),s("li",[t._v("Switch the PHP-FPM to Off; the PHP Selector is not compatible with it."),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("If you have PHP-FPM enabled for existing websites, you need to disable it for them.")])])]),t._v(" "),s("li",[t._v("Last but not least, make sure that the domains/accounts (where you'd like to use the PHP Selector) use the "),s("strong",[t._v("Inherited")]),t._v(" version. You need to do that because MultiPHP Manager has higher priority than PHP Selector. So, if any other PHP version is set in this menu, it will overwrite the PHP version selected in PHP Selector for that domain.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"more-about-php-selector’s-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more-about-php-selector’s-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" More about PHP Selector’s configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"setting-up-the-php-version-on-customer’s-end-in-cpanel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-the-php-version-on-customer’s-end-in-cpanel","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Setting up the PHP version on customer’s end (in cPanel)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/cpanel_01.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("As end-user can change that and select any version, other than Inherited one. Just like with WHM’s MultiPHP Manager, the PHP Selector "),e("strong",[this._v("won’t work correctly in this case")]),this._v(". We recommend leaving either PHP Selector or MultiPHP Manager enabled for the end-user. That way, your end users will have only one place where to configure PHP which will make things easier.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-directives-and-their-priorities"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-directives-and-their-priorities","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("PHP directives and their priorities")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Directives priority - if PHP Selector is enabled")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/PHPVersion.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Directives priority - if PHP Selector isn’t used")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-version-in-the-command-line-interface-cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-version-in-the-command-line-interface-cli","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("PHP version in the command-line interface (CLI)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/command_line_01.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("We should get the 7.2 version in the "),e("code",[this._v("php -v")]),this._v(" output if nothing was changed in the PHP Selector. This is exactly what we get:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/local/bin/php -v\nPHP 7.2.14 (cli) (built: Feb 10 2019 18:20:08) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies\n    with Zend OPcache v7.2.14, Copyright (c) 1999-2018, by Zend Technologies\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("But if we change the PHP version in the PHP Selector, the "),e("code",[this._v("php -v")]),this._v(" output will change as well.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/set_current.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/local/bin/php -v\nPHP 7.3.2 (cli) (built: Feb  7 2019 13:36:44) ( NTS )\nCopyright (c) 1997-2018 The PHP Group\nZend Engine v3.3.2, Copyright (c) 1998-2018 Zend Technologies\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("However, PHP version chosen in MultiPHP Manager can also be applied to console commands "),e("code",[this._v("/usr/bin/php")]),this._v(" and "),e("code",[this._v("/usr/local/bin/php")]),this._v(". Whether it will be applied or not depends on the current working directory. "),e("code",[this._v(".htaccess")]),this._v(" file search is performed in the current directory and in parent directories. If the file is found, then the PHP version specified in it is applied, if not found, then System default PHP version is applied. System default PHP version for a specific user can be changed via PHP Selector.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"bundled-php-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bundled-php-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" Bundled PHP extensions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-4-4-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-4-4-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 4.4 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bcmath "),s("br"),t._v("bz2 "),s("br"),t._v("calendar "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dbx "),s("br"),t._v("domxml "),s("br"),t._v("exif "),s("br"),t._v("fileinfo")]),t._v(" "),s("td",[t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gettext "),s("br"),t._v("gmp "),s("br"),t._v("iconv "),s("br"),t._v("imap "),s("br"),t._v("interbase "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("json "),s("br"),t._v("ldap")]),t._v(" "),s("td",[t._v("mbstring "),s("br"),t._v("mcrypt "),s("br"),t._v("mhash "),s("br"),t._v("mysql "),s("br"),t._v("ncurses "),s("br"),t._v("odbc "),s("br"),t._v("openssl "),s("br"),t._v("overload "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pgsql")]),t._v(" "),s("td",[t._v("posix "),s("br"),t._v("pspell "),s("br"),t._v("readline "),s("br"),t._v("recode "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("snmp "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("standard "),s("br"),t._v("sybase_ct "),s("br"),t._v("sysvmsg")]),t._v(" "),s("td",[t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tokenizer "),s("br"),t._v("wddx "),s("br"),t._v("xml "),s("br"),t._v("xmlrpc "),s("br"),t._v("zlib")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-5-1-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-5-1-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 5.1 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("bcmath "),s("br"),t._v("big_int "),s("br"),t._v("bitset "),s("br"),t._v("bz2 "),s("br"),t._v("bz2_filter "),s("br"),t._v("calendar "),s("br"),t._v("coin_acceptor "),s("br"),t._v("crack "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dom "),s("br"),t._v("doublemetaphone "),s("br"),t._v("exif "),s("br"),t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("geoip")]),t._v(" "),s("td",[t._v("gettext "),s("br"),t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("haru "),s("br"),t._v("hash "),s("br"),t._v("huffman "),s("br"),t._v("iconv "),s("br"),t._v("idn "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inclued "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("ldap "),s("br"),t._v("libxml")]),t._v(" "),s("td",[t._v("lzf "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt "),s("br"),t._v("memcache "),s("br"),t._v("msgpack "),s("br"),t._v("mysql "),s("br"),t._v("mysqli "),s("br"),t._v("ncurses "),s("br"),t._v("odbc "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdo "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite")]),t._v(" "),s("td",[t._v("pgsql "),s("br"),t._v("posix "),s("br"),t._v("pspell "),s("br"),t._v("quickhash "),s("br"),t._v("radius "),s("br"),t._v("readline "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats")]),t._v(" "),s("td",[t._v("stem "),s("br"),t._v("sybase_ct "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("translit "),s("br"),t._v("wddx "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xsl "),s("br"),t._v("zlib")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-5-2-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-5-2-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 5.2 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apc "),s("br"),t._v("apm "),s("br"),t._v("ares "),s("br"),t._v("bcmath "),s("br"),t._v("bcompiler "),s("br"),t._v("big_int "),s("br"),t._v("bitset "),s("br"),t._v("bloomy "),s("br"),t._v("bz2 "),s("br"),t._v("bz2_filter "),s("br"),t._v("calendar "),s("br"),t._v("coin_acceptor "),s("br"),t._v("crack "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dbx "),s("br"),t._v("dom "),s("br"),t._v("doublemetaphone "),s("br"),t._v("eaccelerator "),s("br"),t._v("enchant "),s("br"),t._v("exif "),s("br"),t._v("ffmpeg "),s("br"),t._v("fileinfo "),s("br"),t._v("filter")]),t._v(" "),s("td",[t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gettext "),s("br"),t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("haru "),s("br"),t._v("hash "),s("br"),t._v("hidef "),s("br"),t._v("htscanner "),s("br"),t._v("huffman "),s("br"),t._v("iconv "),s("br"),t._v("idn "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inclued "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libxml "),s("br"),t._v("lzf")]),t._v(" "),s("td",[t._v("magickwand "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt "),s("br"),t._v("memcache "),s("br"),t._v("memcached "),s("br"),t._v("mhash "),s("br"),t._v("mongo "),s("br"),t._v("msgpack "),s("br"),t._v("mssql "),s("br"),t._v("mysql "),s("br"),t._v("mysqli "),s("br"),t._v("ncurses "),s("br"),t._v("oauth "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite")]),t._v(" "),s("td",[t._v("pgsql "),s("br"),t._v("phar "),s("br"),t._v("posix "),s("br"),t._v("pspell "),s("br"),t._v("quickhash "),s("br"),t._v("radius "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("recode "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("rsync "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("spl_types "),s("br"),t._v("sqlite "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("stem "),s("br"),t._v("stomp")]),t._v(" "),s("td",[t._v("suhosin "),s("br"),t._v("sybase_ct "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("translit "),s("br"),t._v("uploadprogress "),s("br"),t._v("uuid "),s("br"),t._v("wddx "),s("br"),t._v("xcache_3 "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xrange "),s("br"),t._v("xsl "),s("br"),t._v("yaf "),s("br"),t._v("yaz "),s("br"),t._v("zend_optimizer "),s("br"),t._v("zip "),s("br"),t._v("zlib")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-5-3-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-5-3-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 5.3 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apc "),s("br"),t._v("apcu "),s("br"),t._v("apm "),s("br"),t._v("ares "),s("br"),t._v("bcmath "),s("br"),t._v("bcompiler "),s("br"),t._v("big_int "),s("br"),t._v("bitset "),s("br"),t._v("bloomy "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("bz2_filter "),s("br"),t._v("calendar "),s("br"),t._v("clamav "),s("br"),t._v("coin_acceptor "),s("br"),t._v("core "),s("br"),t._v("crack "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dbx "),s("br"),t._v("dom "),s("br"),t._v("doublemetaphone "),s("br"),t._v("eaccelerator "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("ereg "),s("br"),t._v("exif "),s("br"),t._v("ffmpeg "),s("br"),t._v("fileinfo")]),t._v(" "),s("td",[t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("functional "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gettext "),s("br"),t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("haru "),s("br"),t._v("hash "),s("br"),t._v("hidef "),s("br"),t._v("htscanner "),s("br"),t._v("http "),s("br"),t._v("huffman "),s("br"),t._v("iconv "),s("br"),t._v("idn "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inclued "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("jsmin "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libevent "),s("br"),t._v("libxml "),s("br"),t._v("lzf")]),t._v(" "),s("td",[t._v("magickwand "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt "),s("br"),t._v("memcache "),s("br"),t._v("memcached "),s("br"),t._v("mhash "),s("br"),t._v("mongo "),s("br"),t._v("msgpack "),s("br"),t._v("mssql "),s("br"),t._v("mysql "),s("br"),t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("ncurses "),s("br"),t._v("nd_mysql "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),t._v("oauth "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pgsql "),s("br"),t._v("phalcon "),s("br"),t._v("phar")]),t._v(" "),s("td",[t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("quickhash "),s("br"),t._v("radius "),s("br"),t._v("raphf "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("recode "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("rsync "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("spl_types "),s("br"),t._v("sqlite "),s("br"),t._v("sqlite3 "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("stem "),s("br"),t._v("stomp "),s("br"),t._v("suhosin "),s("br"),t._v("sybase_ct "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem")]),t._v(" "),s("td",[t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("translit "),s("br"),t._v("uploadprogress "),s("br"),t._v("uri_template "),s("br"),t._v("uuid "),s("br"),t._v("wddx "),s("br"),t._v("weakref "),s("br"),t._v("xcache "),s("br"),t._v("xcache_3 "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xrange "),s("br"),t._v("xsl "),s("br"),t._v("yaf "),s("br"),t._v("yaml "),s("br"),t._v("yaz "),s("br"),t._v("zend_guard_loader "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-5-4-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-5-4-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 5.4 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apc "),s("br"),t._v("apcu "),s("br"),t._v("apm "),s("br"),t._v("ares "),s("br"),t._v("bcmath "),s("br"),t._v("big_int "),s("br"),t._v("bitset "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("bz2_filter "),s("br"),t._v("calendar "),s("br"),t._v("clamav "),s("br"),t._v("core "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dbx "),s("br"),t._v("dom "),s("br"),t._v("doublemetaphone "),s("br"),t._v("eaccelerator "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("ereg "),s("br"),t._v("exif "),s("br"),t._v("ffmpeg "),s("br"),t._v("fileinfo "),s("br"),t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("functional "),s("br"),t._v("gd")]),t._v(" "),s("td",[t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gettext "),s("br"),t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("haru "),s("br"),t._v("hash "),s("br"),t._v("hidef "),s("br"),t._v("htscanner "),s("br"),t._v("http "),s("br"),t._v("iconv "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inclued "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("jsmin "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libevent "),s("br"),t._v("libsodium "),s("br"),t._v("libxml "),s("br"),t._v("lzf "),s("br"),t._v("magickwand "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring")]),t._v(" "),s("td",[t._v("mcrypt "),s("br"),t._v("memcache "),s("br"),t._v("memcached "),s("br"),t._v("mhash "),s("br"),t._v("mongo "),s("br"),t._v("mongodb "),s("br"),t._v("msgpack "),s("br"),t._v("mssql "),s("br"),t._v("mysql "),s("br"),t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("ncurses "),s("br"),t._v("nd_mysql "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pgsql "),s("br"),t._v("phalcon "),s("br"),t._v("phar")]),t._v(" "),s("td",[t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("quickhash "),s("br"),t._v("radius "),s("br"),t._v("raphf "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("recode "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("rsync "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("spl_types "),s("br"),t._v("sqlite3 "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("stem "),s("br"),t._v("stomp "),s("br"),t._v("suhosin "),s("br"),t._v("sybase_ct "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy")]),t._v(" "),s("td",[t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("translit "),s("br"),t._v("uploadprogress "),s("br"),t._v("uri_template "),s("br"),t._v("uuid "),s("br"),t._v("wddx "),s("br"),t._v("weakref "),s("br"),t._v("xcache "),s("br"),t._v("xcache_3 "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xrange "),s("br"),t._v("xsl "),s("br"),t._v("yaf "),s("br"),t._v("yaml "),s("br"),t._v("yaz "),s("br"),t._v("zend_guard_loader "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-5-5-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-5-5-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 5.5 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apcu "),s("br"),t._v("apm "),s("br"),t._v("ares "),s("br"),t._v("bcmath "),s("br"),t._v("big_int "),s("br"),t._v("bitset "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("bz2_filter "),s("br"),t._v("calendar "),s("br"),t._v("clamav "),s("br"),t._v("core "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dbx "),s("br"),t._v("dom "),s("br"),t._v("doublemetaphone "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("ereg "),s("br"),t._v("exif "),s("br"),t._v("ffmpeg "),s("br"),t._v("fileinfo "),s("br"),t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip")]),t._v(" "),s("td",[t._v("gettext "),s("br"),t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("gRPC "),s("br"),t._v("haru "),s("br"),t._v("hash "),s("br"),t._v("hidef "),s("br"),t._v("htscanner "),s("br"),t._v("http "),s("br"),t._v("iconv "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("jsmin "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libevent "),s("br"),t._v("libsodium "),s("br"),t._v("libxml "),s("br"),t._v("lzf "),s("br"),t._v("magickwand "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt")]),t._v(" "),s("td",[t._v("memcache "),s("br"),t._v("memcached "),s("br"),t._v("mhash "),s("br"),t._v("mongo "),s("br"),t._v("mongodb "),s("br"),t._v("msgpack "),s("br"),t._v("mssql "),s("br"),t._v("mysql "),s("br"),t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("ncurses "),s("br"),t._v("nd_mysql "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pgsql")]),t._v(" "),s("td",[t._v("phalcon "),s("br"),t._v("phalcon3 "),s("br"),t._v("phar "),s("br"),t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("quickhash "),s("br"),t._v("radius "),s("br"),t._v("raphf "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("recode "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("rsync "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("spl_types "),s("br"),t._v("sqlite3 "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("stem "),s("br"),t._v("stomp "),s("br"),t._v("suhosin")]),t._v(" "),s("td",[t._v("sybase_ct "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("translit "),s("br"),t._v("uploadprogress "),s("br"),t._v("uri_template "),s("br"),t._v("uuid "),s("br"),t._v("wddx "),s("br"),t._v("weakref "),s("br"),t._v("xcache_3 "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xrange "),s("br"),t._v("xsl "),s("br"),t._v("yaf "),s("br"),t._v("yaml "),s("br"),t._v("yaz "),s("br"),t._v("zend_guard_loader "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-5-6-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-5-6-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 5.6 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apcu "),s("br"),t._v("apm "),s("br"),t._v("ares "),s("br"),t._v("bcmath "),s("br"),t._v("big_int "),s("br"),t._v("bitset "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("bz2_filter "),s("br"),t._v("calendar "),s("br"),t._v("core "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbx "),s("br"),t._v("dom "),s("br"),t._v("doublemetaphone "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("ereg "),s("br"),t._v("exif "),s("br"),t._v("ffmpeg "),s("br"),t._v("fileinfo "),s("br"),t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gettext")]),t._v(" "),s("td",[t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("gRPC "),s("br"),t._v("haru "),s("br"),t._v("hash "),s("br"),t._v("htscanner "),s("br"),t._v("http "),s("br"),t._v("iconv "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("ioncube_loader_4 "),s("br"),t._v("jsmin "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libevent "),s("br"),t._v("libsodium "),s("br"),t._v("libxml "),s("br"),t._v("lzf "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt "),s("br"),t._v("memcache "),s("br"),t._v("memcached "),s("br"),t._v("mhash")]),t._v(" "),s("td",[t._v("mongo "),s("br"),t._v("mongodb "),s("br"),t._v("msgpack "),s("br"),t._v("mssql "),s("br"),t._v("mysql "),s("br"),t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("ncurses "),s("br"),t._v("nd_mysql "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pgsql "),s("br"),t._v("phalcon "),s("br"),t._v("phalcon3")]),t._v(" "),s("td",[t._v("phar "),s("br"),t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("quickhash "),s("br"),t._v("radius "),s("br"),t._v("raphf "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("recode "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("rsync "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("spl_types "),s("br"),t._v("sqlite3 "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("stem "),s("br"),t._v("stomp")]),t._v(" "),s("td",[t._v("suhosin "),s("br"),t._v("sybase_ct "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("translit "),s("br"),t._v("uploadprogress "),s("br"),t._v("uri_template "),s("br"),t._v("uuid "),s("br"),t._v("wddx "),s("br"),t._v("weakref "),s("br"),t._v("xcache_3 "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xrange "),s("br"),t._v("xsl "),s("br"),t._v("yaml "),s("br"),t._v("yaz "),s("br"),t._v("zend_guard_loader "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-7-0-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-7-0-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 7.0 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apcu "),s("br"),t._v("bcmath "),s("br"),t._v("bitset "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("calendar "),s("br"),t._v("core "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dom "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("exif "),s("br"),t._v("fileinfo "),s("br"),t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gender")]),t._v(" "),s("td",[t._v("geoip "),s("br"),t._v("gettext "),s("br"),t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("gRPC "),s("br"),t._v("hash "),s("br"),t._v("htscanner "),s("br"),t._v("http "),s("br"),t._v("iconv "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libsodium "),s("br"),t._v("libxml "),s("br"),t._v("lzf "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt")]),t._v(" "),s("td",[t._v("memcached "),s("br"),t._v("mongodb "),s("br"),t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),s("em",[t._v("newrelic")]),t._v(" "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pdo_sqlsrv "),s("br"),t._v("pgsql "),s("br"),t._v("phalcon3 "),s("br"),t._v("phar")]),t._v(" "),s("td",[t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("raphf "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("sqlite3 "),s("br"),t._v("sqlsrv "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("suhosin "),s("br"),t._v("sysvmsg")]),t._v(" "),s("td",[t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("uploadprogress "),s("br"),t._v("uuid "),s("br"),t._v("vips "),s("br"),t._v("wddx "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xsl "),s("br"),t._v("yaml "),s("br"),t._v("yaz "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("strong",[this._v("newrelic")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("New Relic License Key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/alt/php7*/etc/php.ini")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-7-1-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-7-1-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 7.1 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apcu "),s("br"),t._v("bcmath "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("calendar "),s("br"),t._v("core "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dom "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("exif "),s("br"),t._v("fileinfo "),s("br"),t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gettext")]),t._v(" "),s("td",[t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("gRPC "),s("br"),t._v("hash "),s("br"),t._v("htscanner "),s("br"),t._v("http "),s("br"),t._v("iconv "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libsodium "),s("br"),t._v("libxml "),s("br"),t._v("lzf "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("mcrypt "),s("br"),t._v("memcached")]),t._v(" "),s("td",[t._v("mongodb "),s("br"),t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),s("em",[t._v("newrelic")]),t._v(" "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pdo_sqlsrv "),s("br"),t._v("pgsql "),s("br"),t._v("phalcon3 "),s("br"),t._v("phar")]),t._v(" "),s("td",[t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("raphf "),s("br"),t._v("rar "),s("br"),t._v("readline "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sourceguardian "),s("br"),t._v("spl "),s("br"),t._v("sqlite3 "),s("br"),t._v("sqlsrv "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("suhosin "),s("br"),t._v("sysvmsg")]),t._v(" "),s("td",[t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("uploadprogress "),s("br"),t._v("uuid "),s("br"),t._v("vips "),s("br"),t._v("wddx "),s("br"),t._v("xdebug "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xsl "),s("br"),t._v("yaml "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("strong",[this._v("newrelic")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("New Relic License Key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/alt/php7*/etc/php.ini")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-7-2-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-7-2-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 7.2 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apcu "),s("br"),t._v("bcmath "),s("br"),t._v("brotli "),s("br"),t._v("bz2 "),s("br"),t._v("calendar "),s("br"),t._v("core "),s("br"),t._v("ctype "),s("br"),t._v("curl "),s("br"),t._v("date "),s("br"),t._v("dba "),s("br"),t._v("dom "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("exif "),s("br"),t._v("fileinfo "),s("br"),t._v("filter "),s("br"),t._v("ftp "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gettext")]),t._v(" "),s("td",[t._v("gmagick "),s("br"),t._v("gmp "),s("br"),t._v("gnupg "),s("br"),t._v("gRPC "),s("br"),t._v("hash "),s("br"),t._v("http "),s("br"),t._v("iconv "),s("br"),t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("ioncube_loader "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("libxml "),s("br"),t._v("lzf "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("memcached "),s("br"),t._v("mongodb")]),t._v(" "),s("td",[t._v("mysqli "),s("br"),t._v("mysqlnd "),s("br"),t._v("nd_mysqli "),s("br"),t._v("nd_pdo_mysql "),s("br"),s("em",[t._v("newrelic")]),t._v(" "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("openssl "),s("br"),t._v("pcntl "),s("br"),t._v("pcre "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_mysql "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pdo_sqlsrv "),s("br"),t._v("pgsql "),s("br"),t._v("phalcon3 "),s("br"),t._v("phar")]),t._v(" "),s("td",[t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("raphf "),s("br"),t._v("readline "),s("br"),t._v("redis "),s("br"),t._v("reflection "),s("br"),t._v("session "),s("br"),t._v("shmop "),s("br"),t._v("simplexml "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("spl "),s("br"),t._v("sqlite3 "),s("br"),t._v("sqlsrv "),s("br"),t._v("ssh2 "),s("br"),t._v("standard "),s("br"),t._v("stats "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem")]),t._v(" "),s("td",[t._v("sysvshm "),s("br"),t._v("tidy "),s("br"),t._v("timezonedb "),s("br"),t._v("tokenizer "),s("br"),t._v("trader "),s("br"),t._v("uploadprogress "),s("br"),t._v("uuid "),s("br"),t._v("vips "),s("br"),t._v("wddx "),s("br"),t._v("xml "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xsl "),s("br"),t._v("yaml "),s("br"),t._v("zip "),s("br"),t._v("zlib "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("strong",[this._v("newrelic")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("New Relic License Key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("/opt/alt/php7*/etc/php.ini")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-7-3-extensions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-7-3-extensions","aria-hidden":"true"}},[this._v("#")]),this._v(" PHP 7.3 extensions")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notranslate"},[s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("apcu "),s("br"),t._v("bcmath "),s("br"),t._v("dba "),s("br"),t._v("dbase "),s("br"),t._v("dom "),s("br"),t._v("eio "),s("br"),t._v("enchant "),s("br"),t._v("fileinfo "),s("br"),t._v("gd "),s("br"),t._v("gender "),s("br"),t._v("geoip "),s("br"),t._v("gmagick "),s("br"),t._v("gnupg "),s("br"),t._v("grpc "),s("br"),t._v("http")]),t._v(" "),s("td",[t._v("igbinary "),s("br"),t._v("imagick "),s("br"),t._v("imap "),s("br"),t._v("inotify "),s("br"),t._v("interbase "),s("br"),t._v("intl "),s("br"),t._v("json "),s("br"),t._v("ldap "),s("br"),t._v("lzf "),s("br"),t._v("mailparse "),s("br"),t._v("mbstring "),s("br"),t._v("memcached "),s("br"),t._v("mongodb "),s("br"),t._v("mysqlnd "),s("br"),t._v("nd_mysqli")]),t._v(" "),s("td",[t._v("nd_pdo_mysql "),s("br"),s("em",[t._v("newrelic")]),t._v(" "),s("br"),t._v("oauth "),s("br"),t._v("oci8 "),s("br"),t._v("odbc "),s("br"),t._v("opcache "),s("br"),t._v("pdf "),s("br"),t._v("pdo "),s("br"),t._v("pdo_dblib "),s("br"),t._v("pdo_firebird "),s("br"),t._v("pdo_oci "),s("br"),t._v("pdo_odbc "),s("br"),t._v("pdo_pgsql "),s("br"),t._v("pdo_sqlite "),s("br"),t._v("pdo_sqlsrv "),s("br"),t._v("pgsql")]),t._v(" "),s("td",[t._v("phar "),s("br"),t._v("posix "),s("br"),t._v("propro "),s("br"),t._v("pspell "),s("br"),t._v("raphf "),s("br"),t._v("redis "),s("br"),t._v("snmp "),s("br"),t._v("soap "),s("br"),t._v("sockets "),s("br"),t._v("sqlsrv "),s("br"),t._v("ssh2 "),s("br"),t._v("stats "),s("br"),t._v("sysvmsg "),s("br"),t._v("sysvsem "),s("br"),t._v("sysvshm "),s("br"),t._v("tidy")]),t._v(" "),s("td",[t._v("timezonedb "),s("br"),t._v("trader "),s("br"),t._v("uploadprogress "),s("br"),t._v("uuid "),s("br"),t._v("vips "),s("br"),t._v("wddx "),s("br"),t._v("xdebug "),s("br"),t._v("xmlreader "),s("br"),t._v("xmlrpc "),s("br"),t._v("xmlwriter "),s("br"),t._v("xsl "),s("br"),t._v("yaf "),s("br"),t._v("yaml "),s("br"),t._v("zip "),s("br"),t._v("zmq")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("newrelic")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("New Relic License Key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("/opt/alt/php7*/etc/php.ini")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"python-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#python-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Python Selector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-6","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v("Python Selector")]),this._v(" is a CloudLinux component that allows each user to easily deploy and manage Python applications via application server.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"requirements-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requirements-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"danger custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Important!")]),this._v(" "),e("p",[this._v("Do not downgrade LVE Manager to versions lower than 4.2.2 if you have already migrated Python applications because it will break migrated applications.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[t._v("Python Selector supports the following Alt-Python versions:\n"),s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-python27 2.7.16")])]),t._v(", supported by CloudLinux 6, CloudLinux 7")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-python33 3.3.7")])]),t._v(", supported by CloudLinux 6, CloudLinux 7")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-python34 3.4.9")])]),t._v(", supported by CloudLinux 6, CloudLinux 7")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-python35 3.5.6")])]),t._v(", supported by CloudLinux 6, CloudLinux 7")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-python36-3.6.8")])]),t._v(", supported by CloudLinux 6, CloudLinux 7")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("alt-python36-3.7.2")])]),t._v(", supported by CloudLinux 6, CloudLinux 7")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("mod_passenger")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("mod_passenger")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"migration-to-the-new-python-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#migration-to-the-new-python-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Migration to the new Python Selector")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("the ability to set environment variables for the application")]),t._v(" "),s("li",[t._v("the ability to set dependencies from the file requirements")]),t._v(" "),s("li",[t._v("the ability to start and stop applications as in Node.js Selector")]),t._v(" "),s("li",[t._v("the ability to add and edit custom configurations")]),t._v(" "),s("li",[t._v("the ability to install modules from the custom configurations")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Important!")]),this._v(" "),e("p",[this._v("There are some risks during the migration process and the migration can fail. To avoid such issues and make it possible to solve them if any, only user who created a particular application is allowed to initiate the migration process.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-to-migrate-an-application-to-the-new-python-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-migrate-an-application-to-the-new-python-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" How to migrate an application to the new Python Selector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Only user who created an application can migrate it.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Log in to your control panel.")]),t._v(" "),s("li",[t._v("Open Python Selector user interface.\n"),s("img",{attrs:{src:"/images/Python_general.png",alt:""}})]),t._v(" "),s("li",[t._v("Choose an application to migrate and click "),s("img",{attrs:{src:"/images/Migrate-btn.png",alt:""}}),t._v(" in the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Actions")])]),t._v(" section. You will see the popup.\n"),s("img",{attrs:{src:"/images/Python-migration.png",alt:""}})]),t._v(" "),s("li",[t._v("Click "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Migrate")])]),t._v(" in the popup.")]),t._v(" "),s("li",[t._v("After successful migration, you will see the confirmation popup.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update-5","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"cpanel-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpanel-2","aria-hidden":"true"}},[this._v("#")]),this._v(" cPanel")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("alternative Python packages by running the following command:")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-python\n")])])])])]),this._v(" "),e("li",[e("p",[this._v("LVE Manager, LVE Utils and Phusion Passenger to create isolated Python environments by running the following command:")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lvemanager lve-utils alt-python-virtualenv ea-apache24-mod-alt-passenger\n")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("For EasyApache 3:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lve-utils lvemanager alt-python-virtualenv alt-mod-passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"directadmin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#directadmin","aria-hidden":"true"}},[this._v("#")]),this._v(" DirectAdmin")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("alternative Python packages by running the following command:")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-python\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("LVE Manager, LVE Utils and Phusion Passenger to create isolated Python environments by running the following command:")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lve-utils lvemanager alt-python-virtualenv alt-mod-passenger\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("After installation, please make sure that you have unmarked appropriate checkboxes in LVE Manager Options tab to show Python App in the web-interface.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Adding Python module requires executing permissions to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("gcc/make")])]),this._v(" binaries. Please enable compilers in Compiler Access section of WHM, then run:")]),this._v(" "),e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cagefsctl --force-update\n")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"deploying-trac-using-python-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploying-trac-using-python-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploying Trac using Python Selector")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("In "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Setup Python App")])]),t._v(" create an application. "),s("span",{staticClass:"notranslate"},[t._v("Trac")]),t._v(" project "),s("span",{staticClass:"notranslate"},[t._v("WSGI")]),t._v(" script will be located in "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("App Directory")])]),t._v(" (e.g. "),s("span",{staticClass:"notranslate"},[s("code",[t._v("trac")])]),t._v(").")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v("App URI")]),t._v(" – is a "),s("span",{staticClass:"notranslate"},[t._v("URL")]),t._v(" where web-interface is located (e.g. "),s("span",{staticClass:"notranslate"},[t._v("Trac")]),t._v(" – web-interface is located in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("YOUR_DOMAIN/trac")])]),t._v(").")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v("Trac")]),t._v(" needs "),s("span",{staticClass:"notranslate"},[t._v("Python")]),t._v(" version from "),s("strong",[t._v("2.5")]),t._v(" to "),s("strong",[t._v("3.0,")]),t._v(" in the actual example version 2.7 is used.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("When the App is created, add the following modules: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Trac")]),this._v(", "),e("code",[this._v("Genshi")]),this._v(", "),e("code",[this._v("MySQL-python")])]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("source ~/virtualenv/trac/2.7/bin/activate\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("~/virtualenv/trac/2.7/bin/easy_install Trac mysql-python (using easy_install)\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("~/virtualenv/trac/2.7/bin/pip install trac mysql-python\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("(using "),e("span",{staticClass:"notranslate"},[e("code",[this._v("pip")])]),this._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("In cPanel create MySQL database and a user. Add user to database.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/Python_trac1.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In this example DB "),e("span",{staticClass:"notranslate"},[e("code",[this._v("tractest_trac")])]),this._v(" and user "),e("span",{staticClass:"notranslate"},[e("code",[this._v("tractest_trac")])]),this._v(" were created.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Connect to the server via SSH using your cPanel account.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Create "),e("span",{staticClass:"notranslate"},[this._v("Trac")]),this._v(" project:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("~/virtualenv/trac/2.7/bin/trac-admin\n~/trac_project initenv\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For the "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Database connection string")])]),this._v(" parameter enter the following: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("mysql://user:password@localhost/database_name")])]),this._v(" – here the data for connecting MySQL database are specified.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("In case of "),e("code",[this._v("... The charset and collation of database are 'latin1' and 'latin1_swedish_ci' error the database must be created with one of (('utf8', 'utf8_bin'), ('utf8mb4', 'utf8mb4_bin')) ...")]),this._v("  while creating the project, you should change database encoding.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("To change encoding, in cPanel run "),s("span",{staticClass:"notranslate"},[t._v("phpMyAdmin")]),t._v(", choose "),s("span",{staticClass:"notranslate"},[s("code",[t._v("DB")])]),t._v(", go to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Operations")])]),t._v(", choose the necessary encoding in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Collation")])]),t._v(" section and click "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Go")])]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/trac2.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After that you have to repeat the procedure of creating a project. When done, the "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Trac")])]),this._v(" project must appear: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("~/trac_project")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("To create project frontend run the following:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("~/virtualenv/trac/2.7/bin/trac-admin ~/track_project deploy ~/trac\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("~/track_project")])]),this._v(" — is the path to the project,\n"),e("span",{staticClass:"notranslate"},[e("code",[this._v("~/trac")])]),this._v(" — is the path, that was specified while setting "),e("span",{staticClass:"notranslate"},[e("code",[this._v("App Directory")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd ~/public_html/trac\nmkdir chrome \ncp -R ~/trac/htdocs/ ~/public_html/trac/chrome/\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("To add path to "),e("span",{staticClass:"notranslate"},[this._v("WSGI")]),this._v(" file in the created application:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Go back to "),s("span",{staticClass:"notranslate"},[s("em",[t._v("cPanel Setup Python App")])]),t._v(", change "),s("span",{staticClass:"notranslate"},[s("code",[t._v("WSGI file location")])]),t._v(" for your application to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("cgi-bin/trac.wsgi")])]),t._v(", click "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Update")])]),t._v(" to apply changes and then click "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Restart")])]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/Python_trac2.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("Adding authorization:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In "),e("span",{staticClass:"notranslate"},[e("code",[this._v("~/public_html/trac/.htaccess")])]),this._v(" after "),e("span",{staticClass:"notranslate"},[e("code",[this._v("CLOUDLINUX PASSENGER CONFIGURATION")])]),this._v(" section add the following lines:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('AuthType Basic\nAuthName "trac"\nAuthUserFile /home/tractest/trac/passwd\nRequire valid-user\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v("Add new user and create password file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/usr/local/apache/bin/htpasswd")])]),this._v(" with "),e("span",{staticClass:"notranslate"},[e("code",[this._v("~/trac/passwd")])]),this._v(" admin.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("~/virtualenv/trac/2.7/bin/trac-admin  ~/track_project permission add admin TRAC_ADMIN\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Add admin user to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("TRAC_ADMIN")])]),this._v(" group.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here the path "),e("span",{staticClass:"notranslate"},[e("code",[this._v("trac")])]),this._v(" directory is equal to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("App Directory")])]),this._v(" in your project.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Now "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Trac")])]),this._v(" is available via "),e("span",{staticClass:"notranslate"},[e("code",[this._v("YOUR_DOMAIN/trac")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"trac-with-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#trac-with-mysql","aria-hidden":"true"}},[this._v("#")]),this._v(" Trac with MySQL")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use "),e("span",{staticClass:"notranslate"},[this._v("Trac")]),this._v(" with MySQL database you should install "),e("span",{staticClass:"notranslate"},[this._v(" alt-python27-devel ")]),this._v(" package.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install alt-python27-devel --enablerepo=cloudlinux-updates-testing \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"easyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#easyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CloudLinux has "),e("span",{staticClass:"notranslate"},[this._v(" Python Selector")]),this._v(", which allows creating applications with "),e("span",{staticClass:"notranslate"},[this._v(" ea-apache24-mod-alt-passenger")]),this._v(". However, it does not allow using "),e("span",{staticClass:"notranslate"},[this._v(" cPanel application manager")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is not correct to install both of those packages on the server because they contain the same "),e("span",{staticClass:"notranslate"},[this._v(" passenger")]),this._v(" module for Apache web server.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The new "),s("span",{staticClass:"notranslate"},[t._v("ea-ruby24-mod_passenger")]),t._v(" is available for download from our "),s("span",{staticClass:"notranslate"},[t._v(" updates-testing (beta) ")]),t._v(" repository which allows you to run applications via "),s("span",{staticClass:"notranslate"},[t._v(" cPanel application manager")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux Python Selector")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# yum install lvemanager alt-python-virtualenv\n# yum install ea-ruby24-mod_passenger --enablerepo=cl-ea4-testing\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"python-selector-old"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#python-selector-old","aria-hidden":"true"}},[this._v("#")]),this._v(" Python Selector (Old)")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("We have the ability to deploy "),s("span",{staticClass:"notranslate"},[t._v(" Python ")]),t._v(" applications via application server. "),s("span",{staticClass:"notranslate"},[t._v(" Python Selector ")]),t._v(" uses "),s("span",{staticClass:"notranslate"},[t._v(" mod_passenger ")]),t._v(" to host "),s("span",{staticClass:"notranslate"},[t._v("Python")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can find a list of supported "),e("span",{staticClass:"notranslate"},[this._v(" alt-python")]),this._v(" versions using the following command.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum grouplist | grep alt-python\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Install tools to create isolated "),e("span",{staticClass:"notranslate"},[this._v(" Python ")]),this._v(" environments and "),e("span",{staticClass:"notranslate"},[this._v(" Passenger Apache ")]),this._v(" module. For servers with EasyApache3:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lvemanager alt-python-virtualenv alt-mod-passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lvemanager alt-python-virtualenv ea-apache24-mod-alt-passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use "),e("span",{staticClass:"notranslate"},[this._v(" Python Selector ")]),this._v(" you should install alternative "),e("span",{staticClass:"notranslate"},[this._v(" Python ")]),this._v(" packages:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-python\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use MySQL database you should install "),e("span",{staticClass:"notranslate"},[this._v(" alt-python27-devel ")]),this._v(" package:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install alt-python27-devel\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("After installation, please make sure that you have unmarked appropriate checkboxes in "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager Options ")]),this._v(" tab to show "),e("span",{staticClass:"notranslate"},[this._v("Python App")]),this._v(" in web-interface.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Adding "),e("span",{staticClass:"notranslate"},[this._v(" Python")]),this._v(" modules requires executing permissions to gcc/make binaries. Please enable compilers in Compiler Access section of WHM, then run: "),e("code",[this._v("cagefsctl --force-update")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"end-user-access"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#end-user-access","aria-hidden":"true"}},[this._v("#")]),this._v(" End user access")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("In "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Software/Services")])]),this._v(" area choose "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Select Python Environment")])]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000133.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Create project form will appear. Choose interpreter version for your application, application folder name (project path) and "),e("span",{staticClass:"notranslate"},[this._v(" URI ")]),this._v(" for accessing your application. Click "),e("span",{staticClass:"notranslate"},[this._v(" “Create project” ")]),this._v(" to create an application.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000233.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000255.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"3"}},[s("li",[t._v("You can edit path (folder name of the project in the home directory, for example, "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/clman1/project_name")])]),t._v(" ), "),s("span",{staticClass:"notranslate"},[t._v(" uri ")]),t._v(" for application, "),s("span",{staticClass:"notranslate"},[t._v(" wsgi ")]),t._v(" handler. If you click "),s("span",{staticClass:"notranslate"},[t._v(" Edit ")]),t._v(" - the value is converted to input field and thus becomes editable. When editing is complete, click "),s("span",{staticClass:"notranslate"},[t._v(" Save ")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000256.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"4"}},[s("li",[s("span",{staticClass:"notranslate"},[t._v(" Wsgi ")]),t._v(" entry is to specify "),s("span",{staticClass:"notranslate"},[t._v(" python wsgi ")]),t._v(" application entry point. It must be specified as filename, must be callable and separated by colon. If your app is running from file "),s("span",{staticClass:"notranslate"},[t._v(" flask/run.py ")]),t._v(" by calling callable app, set "),s("span",{staticClass:"notranslate"},[t._v(" flask/run.py:app ")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000257.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"5"}},[s("li",[t._v("When "),s("span",{staticClass:"notranslate"},[t._v(" Show ")]),t._v(" control is clicked, "),s("span",{staticClass:"notranslate"},[t._v(" python ")]),t._v(" extensions section will be expanded. It gives the ability to add or remove "),s("span",{staticClass:"notranslate"},[t._v(" python ")]),t._v(" modules. When start typing in input field, appropriate hints are shown in drop-down list. Choose the entry you want from drop-down and click "),s("span",{staticClass:"notranslate"},[t._v(" Add ")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000261.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you click "),e("span",{staticClass:"notranslate"},[this._v(" Delete ")]),this._v(", the corresponding module entry will disappear.\nIn addition to setting "),e("span",{staticClass:"notranslate"},[this._v(" path, uri ")]),this._v(" and "),e("span",{staticClass:"notranslate"},[this._v(" wsgi ")]),this._v(" , the interpreter version can be changed as well by changing the value in select drop-down.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("No changes are applied to application environment until "),e("span",{staticClass:"notranslate"},[this._v(" Update ")]),this._v(" button is clicked. Before the "),e("span",{staticClass:"notranslate"},[this._v(" Update ")]),this._v(" button is clicked, all changes can be reverted with "),e("span",{staticClass:"notranslate"},[this._v(" Reset ")]),this._v(" button.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The newly created application will be supplied with "),e("span",{staticClass:"notranslate"},[this._v(" stub ")]),this._v(" only. A real application ought to be put into application folder. After application is placed into application folder, the "),e("span",{staticClass:"notranslate"},[this._v(" wsgi ")]),this._v(" parameter can be set.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Click "),e("span",{staticClass:"notranslate"},[this._v(" Remove ")]),this._v(" to delete the application - the application folder itself will remain unmoved.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[this._v("Note. For "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager ")]),this._v(" version 0.9-10 and higher:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When creating an application you can use the key "),e("span",{staticClass:"notranslate"},[this._v(" --domain ")]),this._v(" , which attaches application to domain. If "),e("span",{staticClass:"notranslate"},[this._v(" --domain ")]),this._v(" key is not specified, then the main users domain will be used by default.\nTo create application run:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --interpreter=python --version=VERSION[--user=USER] [--domain=DOMAIN] [--print-summary] [--json]–-create-webapp <FOLDER_NAME> <URI>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When changing application "),e("span",{staticClass:"notranslate"},[this._v(" URI, --domain ")]),this._v(" key can be used simultaneously, in this case not only "),e("span",{staticClass:"notranslate"},[this._v(" URI ")]),this._v(" will be changed, but also the application domain.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To change application "),e("span",{staticClass:"notranslate"},[this._v(" URI ")]),this._v(" run:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --interpreter=python [--user=USER][--domain=NEW_DOMAIN] [--print-summary] [--json] --transit-webapp<FOLDER_NAME> <NEW_URI> \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/webapp001_zoom94.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Also, you can run simple commands from web interface (e.g. you can install packages from specific repositories or control web applications by means of "),e("span",{staticClass:"notranslate"},[this._v(" django -admin")]),this._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/webapp002_zoom93.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"hide-python-selector-icon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hide-python-selector-icon","aria-hidden":"true"}},[this._v("#")]),this._v(" Hide Python Selector icon")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is possible to hide or show "),e("span",{staticClass:"notranslate"},[this._v("Python Selector")]),this._v(" icons by marking or unmarking proper checkbox in "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager "),e("em",[this._v("Options")])]),this._v(" tab.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/CL-hide-python-ruby.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('cloudlinux-config set --json --data \'{"options":{"uiSettings":{"hideRubyApp":false, "hidePythonApp":false}}}\'\n')])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("If you are using cPanel/WHM, you can also configure hide/show "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux Python Selectors")]),t._v(" in "),s("span",{staticClass:"notranslate"},[t._v("WHM | Feature Manager")]),t._v(".\nFor that, you’d need to first uncheck "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Hide Python App in web-interface")])]),t._v(" in the "),s("span",{staticClass:"notranslate"},[t._v("LVE Manager")]),t._v(". This will make the menu appear for all accounts. After that, you are free to disable this app in "),s("span",{staticClass:"notranslate"},[t._v("WHM | Feature Manager")]),t._v(" for the required feature lists.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"ruby-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ruby-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Ruby Selector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-7","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("We have the ability to deploy "),s("span",{staticClass:"notranslate"},[t._v("Ruby")]),t._v(" applications via application server. "),s("span",{staticClass:"notranslate"},[t._v("Ruby Selector")]),t._v(" uses "),s("span",{staticClass:"notranslate"},[s("code",[t._v("mod_passenger")])]),t._v(" to host "),s("span",{staticClass:"notranslate"},[t._v(" Ruby")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can find a list of supported "),e("span",{staticClass:"notranslate"},[e("code",[this._v("alt-ruby")])]),this._v(" versions using the following commands.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum grouplist | grep alt-ruby\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update-6","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use "),e("span",{staticClass:"notranslate"},[this._v("Ruby Selector")]),this._v(" install alternative "),e("span",{staticClass:"notranslate"},[this._v("Ruby")]),this._v(" packages:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-ruby \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use MySQL database you should install "),e("span",{staticClass:"notranslate"},[e("code",[this._v("alt-python27-devel")])]),this._v(" package:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install alt-python27-devel\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Adding Ruby modules requires executing permissions to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("gcc/make")])]),this._v(" binaries. Please enable compilers in Compiler Access section of WHM, then run: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cagefsctl --force-update")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration-and-using-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-and-using-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration and using")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"end-user-access-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#end-user-access-2","aria-hidden":"true"}},[this._v("#")]),this._v(" End user access")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("In "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Software/Services")])]),this._v(" area choose "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Select Ruby Environment")])]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000133.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Create project form will appear. Choose interpreter version for your application, application folder name (project path) and "),e("span",{staticClass:"notranslate"},[this._v(" URI ")]),this._v(" for accessing your application. Click "),e("span",{staticClass:"notranslate"},[this._v(" “Create project” ")]),this._v(" to create an application.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000233.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000255.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"3"}},[s("li",[t._v("You can edit path (folder name of the project in the home directory, for example, "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/home/clman1/project_name")])]),t._v("), "),s("span",{staticClass:"notranslate"},[t._v(" uri ")]),t._v(" for application, "),s("span",{staticClass:"notranslate"},[t._v(" wsgi ")]),t._v(" handler. If you click "),s("span",{staticClass:"notranslate"},[t._v(" Edit ")]),t._v(" - the value is converted to input field and thus becomes editable. When editing is complete, click "),s("span",{staticClass:"notranslate"},[t._v(" Save ")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000256.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"4"}},[s("li",[s("span",{staticClass:"notranslate"},[t._v(" Wsgi ")]),t._v(" entry is to specify "),s("span",{staticClass:"notranslate"},[t._v(" python wsgi ")]),t._v(" application entry point. It must be specified as filename, must be callable and separated by colon. If your app is running from file "),s("span",{staticClass:"notranslate"},[t._v(" flask/run.py ")]),t._v(" by calling callable app, set "),s("span",{staticClass:"notranslate"},[s("code",[t._v("flask/run.py:app")])]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000257.jpg",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"5"}},[s("li",[t._v("When "),s("span",{staticClass:"notranslate"},[t._v(" Show ")]),t._v(" control is clicked, "),s("span",{staticClass:"notranslate"},[t._v(" python ")]),t._v(" extensions section will be expanded. It gives the ability to add or remove "),s("span",{staticClass:"notranslate"},[t._v(" python ")]),t._v(" modules. When start typing in input field, appropriate hints are shown in drop-down list. Choose the entry you want from drop-down and click "),s("span",{staticClass:"notranslate"},[t._v(" Add ")]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/clip000261.jpg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you click "),e("span",{staticClass:"notranslate"},[this._v("Delete")]),this._v(", the corresponding module entry will disappear.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In addition to setting "),e("span",{staticClass:"notranslate"},[this._v(" path, uri ")]),this._v(" and "),e("span",{staticClass:"notranslate"},[e("code",[this._v("wsgi")])]),this._v(", the interpreter version can be changed as well by changing the value in select drop-down.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("No changes are applied to application environment until "),e("span",{staticClass:"notranslate"},[this._v(" Update ")]),this._v(" button is clicked. Before the "),e("span",{staticClass:"notranslate"},[this._v(" Update ")]),this._v(" button is clicked, all changes can be reverted with "),e("span",{staticClass:"notranslate"},[this._v(" Reset ")]),this._v(" button.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The newly created application will be supplied with "),e("span",{staticClass:"notranslate"},[this._v(" stub ")]),this._v(" only. A real application ought to be put into application folder. After application is placed into application folder, the "),e("span",{staticClass:"notranslate"},[this._v(" wsgi ")]),this._v(" parameter can be set.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Click "),e("span",{staticClass:"notranslate"},[this._v(" Remove ")]),this._v(" to delete the application - the application folder itself will remain unmoved.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("For "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager ")]),this._v(" version 0.9-10 and higher")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When creating an application you can use the key "),e("span",{staticClass:"notranslate"},[e("code",[this._v("--domain")])]),this._v(", which attaches application to domain. If "),e("span",{staticClass:"notranslate"},[e("code",[this._v("--domain")])]),this._v(" key is not specified, then the main users domain will be used by default.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --interpreter=<ruby> --version=VERSION[--user=USER] [--domain=DOMAIN] [--print-summary] [--json]–-create-webapp <FOLDER_NAME> <URI>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To change application "),e("span",{staticClass:"notranslate"},[this._v(" URI ")]),this._v(" run:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/bin/selectorctl --interpreter=<ruby> [--user=USER][--domain=NEW_DOMAIN] [--print-summary] [--json] --transit-webapp<FOLDER_NAME> <NEW_URI> \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/webapp001_zoom94.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Also, you can run simple commands from web interface (e.g. you can install packages from specific repositories or control web applications by means of "),e("span",{staticClass:"notranslate"},[this._v("django -admin")]),this._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/webapp002_zoom93.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"hide-ruby-selector-icon"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hide-ruby-selector-icon","aria-hidden":"true"}},[this._v("#")]),this._v(" Hide Ruby Selector icon")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is possible to hide or show "),e("span",{staticClass:"notranslate"},[this._v("Ruby Selector")]),this._v(" icon by marking or unmarking proper checkboxes in "),e("span",{staticClass:"notranslate"},[this._v(" LVE Manager Options")]),this._v(" tab.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/CL-hide-python-ruby.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('cloudlinux-config set --json --data \'{"options":{"uiSettings":{"hideRubyApp":false}}}\'\n')])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("If you are using cPanel/WHM, you can also configure hide/show "),s("span",{staticClass:"notranslate"},[t._v("CloudLinux Ruby Selectors")]),t._v(" in "),s("span",{staticClass:"notranslate"},[t._v("WHM | Feature Manager")]),t._v(".\nFor that, you’d need to first uncheck "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Hide Ruby App in web-interface")])]),t._v(" in the "),s("span",{staticClass:"notranslate"},[t._v("LVE Manager")]),t._v(". This will make the menu appear for all accounts. After that, you are free to disable this app in "),s("span",{staticClass:"notranslate"},[t._v("WHM | Feature Manager")]),t._v(" for the required feature lists.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"deploying-redmine-using-ruby-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploying-redmine-using-ruby-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploying Redmine using Ruby Selector")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("In cPanel create MySQL database and add user to it. In the example given, the databace "),s("span",{staticClass:"notranslate"},[s("em",[t._v("redminet_redmine")])]),t._v(" was created and user "),s("span",{staticClass:"notranslate"},[s("em",[t._v("redminet_redmine")])]),t._v(" was added.")])]),t._v(" "),s("li",[s("p",[t._v("In "),s("span",{staticClass:"notranslate"},[s("strong",[t._v("Setup Ruby App")])]),t._v(" section create an application.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("span",{staticClass:"notranslate"},[t._v(" App Directory")]),t._v(" is the directory where all static files will be placed ( "),s("em",[t._v("e.g.")]),t._v(" "),s("span",{staticClass:"notranslate"},[s("code",[t._v("redmine")])]),t._v(").\n"),s("span",{staticClass:"notranslate"},[t._v(" App URI ")]),t._v(" is web-interface URL ( "),s("em",[t._v("e.g.")]),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("redmine")])]),t._v(" "),s("em",[t._v("web-interface will be located in")]),t._v(" "),s("span",{staticClass:"notranslate"},[s("em",[t._v("YOUR_DOMAIN/redmine")])]),t._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/hmfile_hash_f8216d04.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("After the application was created, add the following modules:\n"),e("span",{staticClass:"notranslate"},[this._v(" bundle, i18n#0.6.11, builder#3.0.4, rails#3.2.19, mime-types#1.25.1, mocha#1.0.0, jquery-rails#3.1.2, coderay, fastercsv, request_store, rbpdf, mysql2, selenium-webdriver, rmagick, shoulda#3.3.2, ruby-openid#2.3.0, request_store#1.0.5, capybara#2.1.0, net-ldap#0.3.1, rack-openid, shoulda-matchers#1.4.1, redcarpet#2.3.0, yard, rake#10.4.2, bigdecimal. ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/hmfile_hash_54c4ccdb.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Note")]),this._v(" : If error occurs while installing "),e("span",{staticClass:"notranslate"},[this._v(" rmagic ")]),this._v(" module, then you need to install "),e("span",{staticClass:"notranslate"},[this._v(" ImageMagick-devel ")]),this._v(" package on your server:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install ImageMagick-devel\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/hmfile_hash_880db2aa.png",alt:""}}),this._v(" "),e("img",{attrs:{src:"/images/hmfile_hash_553ab55c.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("3.1 Alternatively, after the application was created, you can add only one module - "),e("span",{staticClass:"notranslate"},[this._v(" bundle ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/redmine_selector_1.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/redmine_selector_2.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Enter the server via SSH, using your cPanel account.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In the description given, the latest version "),e("span",{staticClass:"notranslate"},[this._v(" Redmine ")]),this._v(" (2.6.0) is assumed.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Hereinafter "),e("span",{staticClass:"notranslate"},[this._v(" 'redmine' ")]),this._v(" is "),e("span",{staticClass:"notranslate"},[this._v(" App Directory ")]),this._v(" meaning which was specified while setting "),e("span",{staticClass:"notranslate"},[this._v(" Ruby ")]),this._v(" application.\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cp -R ~/redmine-2.6.0/* ~/redmine\ncd ~/redmine/config\ncp database.yml.example database.yml\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cp -R ~/redmine/public/* ~/public_html/redmine/\ncd ~/public_html/redmine\ncat htaccess.fcgi.example >> .htaccess\ncp dispatch.fcgi.example dispatch.fcgi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Add "),e("span",{staticClass:"notranslate"},[this._v(' gem "bigdecimal" ')]),this._v(" line into "),e("span",{staticClass:"notranslate"},[this._v(" Gemfile ")]),this._v(" file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("source ~/rubyvenv/redmine/2.1/bin/activate\n~/rubyvenv/redmine/2.1/bin/bundle install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("~/rubyvenv/redmine/2.1/bin/rake generate_secret_token\nRAILS_ENV=production ~/rubyvenv/redmine/2.1/bin/rake db:migrate\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("RAILS_ENV=production ~/rubyvenv/redmine/2.1/bin/rake redmine:load_default_data")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Loading default data into database.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"easyapache-4-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#easyapache-4-2","aria-hidden":"true"}},[this._v("#")]),this._v(" EasyApache 4")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("CloudLinux already has "),s("span",{staticClass:"notranslate"},[t._v(" Python ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" Ruby Selector ")]),t._v(" , which allows creating applications with "),s("span",{staticClass:"notranslate"},[t._v(" ea-apache24-mod-alt-passenger ")]),t._v(" . However, it does not allow using "),s("span",{staticClass:"notranslate"},[t._v(" cPanel application manager ")]),t._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It is not correct to install both of those packages on the server because they contain the same "),e("span",{staticClass:"notranslate"},[this._v(" passenger ")]),this._v(" module for Apache web server.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("The new "),s("span",{staticClass:"notranslate"},[t._v(" ea-ruby24-mod_passenger ")]),t._v(" is available for download from our "),s("span",{staticClass:"notranslate"},[t._v(" updates-testing (beta) ")]),t._v(" repository which allows you to run applications via "),s("span",{staticClass:"notranslate"},[t._v(" cPanel application manager ")]),t._v(" and "),s("span",{staticClass:"notranslate"},[t._v(" Ruby Selector")]),t._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# yum install lvemanager alt-python-virtualenv\n# yum install ea-ruby24-mod_passenger --enablerepo=cl-ea4-testing\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"node-js-selector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-js-selector","aria-hidden":"true"}},[this._v("#")]),this._v(" Node.js Selector")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-8","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[this._v(" Node.js Selector ")]),this._v("  is a CloudLinux component that allows each user to easily create Node.js applications, choose Node.js version and other parameters for applications based on their needs.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"requirements-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requirements-3","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Requirements")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",{staticClass:"notranslate"},[this._v(" Node.js Selector ")]),this._v("  supports Node.js versions 6.x, 8.x, 9.x and later.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("This feature is available for CloudLinux 7, "),e("span",{staticClass:"notranslate"},[this._v(" CloudLinux 6 hybrid and CloudLinux 6")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",{staticClass:"notranslate"},[this._v(" Node.js Selector requires LVE Manager 4.0 ")]),this._v(" or later.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("span",{staticClass:"notranslate"},[this._v(" Node.js Selector ")]),this._v(" is working with EasyApache 3 and EasyApache 4.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-and-update-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-and-update-7","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation and update")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("cPanel")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use "),e("span",{staticClass:"notranslate"},[this._v("Node.js Selector")]),this._v(", install "),e("span",{staticClass:"notranslate"},[this._v("Node.js")]),this._v(" packages by running the following command:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-nodejs6 alt-nodejs8 alt-nodejs9\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lvemanager lve-utils ea-apache24-mod-alt-passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lvemanager lve-utils alt-mod-passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install cagefs\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v('If during Node.js Selector usage on cPanel servers you get "ENOMEM npm ERR! errno-12" error, try to increase Memory limit in '),e("span",{staticClass:"notranslate"},[this._v(" cPanel WHM → Server Configuration → Tweak Settings → System → Max cPanel process memory, ")]),this._v(" then restart cPanel service with the following command to apply changes.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("systemctl restart cpanel.service\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service cpanel restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("DirectAdmin")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To use "),e("span",{staticClass:"notranslate"},[this._v(" Node.js Selector, please install Node.js ")]),this._v(" packages by running the following command:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum groupinstall alt-nodejs6 alt-nodejs8 alt-nodejs9\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lvemanager lve-utils alt-mod-passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install cagefs\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"node-js-deployment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node-js-deployment","aria-hidden":"true"}},[this._v("#")]),this._v(" Node.js deployment")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("The first approach - remote usage of Node.js Interpreters of different versions")]),this._v(" "),e("li",[this._v("The second approach - remote usage of the cloudlinux-selector utility.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"remote-usage-of-node-js-interpreters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#remote-usage-of-node-js-interpreters","aria-hidden":"true"}},[this._v("#")]),this._v(" Remote usage of Node.js interpreters")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Via UI of the Node.js plugin.")]),this._v(" "),e("li",[this._v("Using the following command to create an application:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cloudlinux-selector create --interprete=nodejs --json --app-root=<USER_NAME> --app-uri=<APP_NAME> --app-mode=develompent --version=<VERSION> --domain=<DOMAIN>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("In the "),e("span",{staticClass:"notranslate"},[this._v(" IntelliJ IDEA ")]),this._v(" you can create and run any remote script "),e("span",{staticClass:"notranslate"},[this._v(" (Preferences — Remote SSH External Tools — Add).")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/createapp_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Choose a location of the application on the server and synchronize the files with the "),e("span",{staticClass:"notranslate"},[this._v(" IntelliJ IDEA ")]),this._v(" project.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Set up "),e("span",{staticClass:"notranslate"},[this._v(" Run/Debug Configurations ")]),this._v(" in the project created.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/setconfiguration_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("Node.js Remote Interpreter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("(Main menu → Run → Edit configurations...)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Specify initial "),e("em",[this._v("JavaScript file")]),this._v(" that will be run with the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("node")])]),this._v(" command (it is the "),e("em",[this._v("app.js")]),this._v(" file from the archive).")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[t._v("Specify "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Path Mappings")])]),t._v(" between a local and a remote project "),s("span",{staticClass:"notranslate"},[s("em",[t._v("(Preferences → Deployments → Add)")])]),t._v(" . If you have created your application with the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("cloudlinux-selector utility")])]),t._v(" or via plugin UI the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Path Mappings")])]),t._v(" should be as follows:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/home/<USER_NAME>/<APP_NAME>\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"5"}},[s("li",[t._v("Synchronize the project directories on the local and the remote machine as per "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Path Mappings")])]),t._v(" specified.")]),t._v(" "),s("li",[t._v("Deploy the modules on the remote and the local machine with the "),s("span",{staticClass:"notranslate"},[s("strong",[s("em",[t._v("npm install")])])]),t._v(" command (if there are dependent modules). In the UI you can click the "),s("span",{staticClass:"notranslate"},[s("em",[t._v("Run NPM Install")])]),t._v(" button.")]),t._v(" "),s("li",[t._v("Run Node.js application with the configuration set at the 4th step "),s("span",{staticClass:"notranslate"},[s("em",[t._v("(Main menu → Run → Run… → Select configuration)")])]),t._v(" .")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/runapp_zoom60.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v("If you are using the application from the archive attached, you can see the running application on port 3003 — "),e("span",{staticClass:"notranslate"},[e("em",[this._v("http://DOMAIN:3003")]),this._v(" . ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("The port should be available to a server user.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/runningappdomain_zoom70.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("A version of the running Node.js interpreter;")]),this._v(" "),e("li",[this._v("Current environment variables;")]),this._v(" "),e("li",[this._v("The current time.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you’d like to use a different version of Node.js to run an application, change a path to the interpreter in the configuration settings of the running."),e("br"),this._v("\nTo apply all changes to the project, synchronize all changes with the server and restart the running application.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"9"}},[e("li",[this._v("To debug a script, set breakpoints in the code and run the configuration via Main Menu "),e("span",{staticClass:"notranslate"},[e("em",[this._v("(Main menu → Run → Debug… → Select configuration)")])]),this._v(" .")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("Node.js Remote Interpreter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("It is not required to install "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Passenger")])]),this._v(" while working in "),e("span",{staticClass:"notranslate"},[this._v(" IDE ")]),this._v(" if you are using this approach.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"remote-usage-of-the-cloudlinux-selector-utility"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#remote-usage-of-the-cloudlinux-selector-utility","aria-hidden":"true"}},[this._v("#")]),this._v(" Remote usage of the cloudlinux-selector utility")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[t._v("Create an application via UI or with the command as described in the Remote Usage of Node.js Interpreters approach, step 3 (a,b).")]),t._v(" "),s("li",[t._v("Set up project mapping on the local machine with the created remote application "),s("span",{staticClass:"notranslate"},[s("em",[t._v("/home/<USER_NAME>/<APP_NAME> (Preferences → Deployments → Add)")])]),t._v(".")]),t._v(" "),s("li",[t._v("Set up the remote commands of "),s("span",{staticClass:"notranslate"},[t._v(" cloudlinux-selector "),s("em",[t._v("(Preferences → Remote SSH External Tools → Add)")])]),t._v(" for the following actions:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Restart application;")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Install packages;")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Run script;")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Change Node.js version for the application.\nYou can see the running app at "),e("span",{staticClass:"notranslate"},[this._v(" http://DOMAIN/APPLICATION_URL ")]),this._v("\nTo apply all changes, restart the application.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"troubleshooting-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Troubleshooting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"debugging-errors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debugging-errors","aria-hidden":"true"}},[this._v("#")]),this._v(" Debugging errors")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Since "),e("span",{staticClass:"notranslate"},[this._v(" alt-mod-passenger-5.3.7-2,")]),this._v(" directives such as PassengerFriendlyErrorPages and PassengerAppEnv are available for use from htaccess file. This allows end users to see errors from their application during the development process. For example, if you add one of the following lines to the htaccess file on the application page, you will see the information (if there was an error) similar to one on the picture.\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("PassengerAppEnv development\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("PassengerFriendlyErrorPages on\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/errorapplog.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/errorapplogsorry.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"apache-mod-lsapi-pro"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apache-mod-lsapi-pro","aria-hidden":"true"}},[this._v("#")]),this._v(" Apache mod_lsapi PRO")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-9","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How does it work?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Apache passes handling for PHP request to mod_lsapi PRO;")]),this._v(" "),e("li",[this._v("mod_lsapi PRO use liblsapi to transfer request to lsphp parent process;")]),this._v(" "),e("li",[this._v("lsphp is forking child process which executes the request and returns data to mod_lsapi PRO;\n"),e("img",{attrs:{src:"/images/mod_lsapidiagrammnew.jpg",alt:""}}),e("br"),this._v(" "),e("em",[this._v("mod_lsapi PRO integrates with Apache, allows to handle concurrent requests and manages the lsphp processes")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If there are no requests for lsapi_backend_pgrp_max_idle seconds, lsphp parent process will be  terminated;")]),this._v(" "),e("li",[this._v("If there are no lsphp child processes available when a new request comes, the new lsphp child process will be created;")]),this._v(" "),e("li",[this._v("lsphp childs process concurrent requests simultaneously;")]),this._v(" "),e("li",[this._v("The maximum number of simultaneously running lsphp child processes can be set by the lsapi_backend_children directive.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("What is lsphp?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Requirements")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Apache mod_ruid2 - should be disabled;")]),this._v(" "),e("li",[this._v("Apache mod_itk - should be disabled;")]),this._v(" "),e("li",[this._v("PHP-FPM - should be disabled because PHP-FPM is also a PHP Handler just as mod_lsapi.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Optional requirements")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Configured LVE containers for end-users ( "),e("strong",[this._v("recommended - higher security level")]),this._v(" );")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Installed and configured mod_hostinglimitsfor Apache ( "),e("strong",[this._v("recommended - higher security level")]),this._v(" );")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Enabled CageFS for end-users ( "),e("strong",[this._v("recommended - higher security level")]),this._v(" );")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-cpanel-servers-with-easyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-cpanel-servers-with-easyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on cPanel servers with EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblsapi liblsapi-devel\n$ yum install ea-apache24-mod_lsapi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --setup\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-plesk-servers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-plesk-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on Plesk servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblsapi liblsapi-devel\n$ yum install mod_lsapi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --setup\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/plesk-php-settings.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-directadmin-servers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-directadmin-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on DirectAdmin servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cd /usr/local/directadmin/custombuild\n$ ./build update\n$ ./build set php1_mode lsphp\n$ ./build php n\n$ ./build apache\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-servers-with-no-control-panel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-servers-with-no-control-panel","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on servers with no control panel")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblsapi liblsapi-devel\n$ yum install mod_lsapi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --setup\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblsapi liblsapi-devel\n$ yum install httpd24-mod_lsapi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --setup\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd24 restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"uninstalling-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstalling")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"uninstall-procedure-for-cpanel-servers-with-easyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstall-procedure-for-cpanel-servers-with-easyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstall procedure for cPanel servers with EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --uninstall\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum erase liblsapi liblsapi-devel ea-apache24-mod_lsapi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"uninstall-procedure-for-plesk-servers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstall-procedure-for-plesk-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstall procedure for Plesk servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --uninstall\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum erase liblsapi liblsapi-devel mod_lsapi\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"uninstall-procedure-for-directadmin-servers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstall-procedure-for-directadmin-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstall procedure for DirectAdmin servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cd /usr/local/directadmin/custombuild\n$ ./build update\n$ ./build set php1_release [any other php mode]\n$ ./build php n\n$ ./build apache\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("mod_php")]),this._v(" "),e("li",[this._v("fastcgi")]),this._v(" "),e("li",[this._v("php-fpm")]),this._v(" "),e("li",[this._v("suphp")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"uninstall-procedure-for-servers-with-no-control-panel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstall-procedure-for-servers-with-no-control-panel","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstall procedure for servers with no control panel")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --uninstall\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum erase liblsapi liblsapi-devel mod_lsapi\n$ rm [path to mod_lsapi.conf]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ /usr/bin/switch_mod_lsapi --uninstall\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum erase liblsapi liblsapi-devel httpd24-mod_lsapi\n$ rm [path to mod_lsapi.conf]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd24 restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-5","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In order to get mod_lsapi PRO work properly, you'll need to configure Apache. To do this, we use a separate "),e("em",[this._v("lsapi.conf")]),this._v(" file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LoadModule lsapi_module modules/mod_lsapi.so\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In order to enable the module to process requests, you need to add the lsapi_engine directive to your "),e("em",[this._v("lsapi.conf")]),this._v(" file as follows:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("lsapi_engine On\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("AddType application/x-httpd-lsphp .php\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If no handler is explicitly set for a request, the specified content type will be used as the handler name, therefore, please disable php.conf or any other PHP handler for using mod_lsapi PRO. In this example application/x-httpd-lsphp is a default handler by which mod_lsapi PRO process requests with lsphp binary from "),e("em",[this._v("/usr/local/bin/")]),this._v(" directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LoadModule lsapi_module modules/mod_lsapi.so\n\n\n<IfModule lsapi_module>      \n\tlsapi_engine On      \n\tAddType application/x-httpd-lsphp .php      \n\tlsapi_backend_connect_timeout 100000\n\tlsapi_backend_connect_tries 10\n\tlsapi_backend_children 20\n\tlsapi_backend_pgrp_max_idle 30\n\tlsapi_backend_max_process_time 300\n\tlsapi_debug Off\n</IfModule>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"configuration-references"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-references","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration references")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"mod-lsapi-customization"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mod-lsapi-customization","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("mod_lsapi customization")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-engine"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-engine","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_engine")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_engine on/off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_engine off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSwitching mod_lsapi handler on or off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-socket-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-socket-path","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_socket_path")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_socket_path [path]\n"),s("strong",[t._v("Default")]),t._v(" : lsapi_socket_path "),s("code",[t._v("/var/run/mod_lsapi")]),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description:")]),e("br"),this._v("\nPath to backend lsphp sockets. By default "),e("code",[this._v("/var/run/mod_lsapi")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-poll-timeout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-poll-timeout","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_poll_timeout")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_poll_timeout [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_poll_timeout 300"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nTime to wait for response from the lsphp daemon, in seconds. 0 stands for infinity. For preventing long running processes which can use EP (limit number of entry processes). Default value is 300. Should be more or equal to 0. In the case of wrong format, the default value will be used.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-per-user"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-per-user","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_per_user")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_per_user On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_per_user Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nInvoke master lsPHP process not per VirtualHost but per account.\nWhen On, invoke backend not per VirtualHost but per account.\nDefault value is Off.\nIt is possible, for example, to set it to On in global config file and to Off in config files of some particular Virtual Hosts.\nThen these Virtual Hosts will have a dedicated backend process, while others will have backend processes shared on account basis.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-output-buffering"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-output-buffering","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_output_buffering")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_output_buffering On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_output_buffering On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nEnable or disable output buffering on Apache level. Default value is On.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-disable-reject-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-disable-reject-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_disable_reject_mode")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_disable_reject_mode On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_disable_reject_mode Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nIf a new HTTP request is coming to LSPHP daemon when all LSPHP workers are still busy, it can process this situation in two different ways. In REJECT mode LSPHP daemon will reject such request immediately. Otherwise, in legacy mode, LSPHP daemon will put this request into infinite queue, until one or more LSPHP daemon becomes free. When HTTP request is rejected in REJECT mode, mod_lsapi will write into Apache error_log the following message: Connect to backend rejected, and the client will receive 507 HTTP response.\nBy default LSPHP daemon in CloudLinux uses REJECT mode. It can be switched off with this option.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-terminate-backends-on-exit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-terminate-backends-on-exit","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_terminate_backends_on_exit")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_terminate_backends_on_exit On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_terminate_backends_on_exit On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nhttpd.conf, On - stop lsphp services on apache restart, Off - leave live started lsphp services on apache restart (for php+opcache). The lsphp will not restart, even if Apache gets restarted.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-avoid-zombies"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-avoid-zombies","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_avoid_zombies")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_avoid_zombies On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_avoid_zombies Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nEnable or disable a mechanism to avoid creation of zombie processes by lsphp. Default value is Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-use-req-hostname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-use-req-hostname","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_use_req_hostname")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_use_req_hostname On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_use_req_hostname Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhosts")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nBy default, we are using hostname from the server_rec structure (off), it means that mod_lsapi takes hostname from the VirtualHost section of the configuration file. Using hostname from the request_rec structure (On) means that mod_lsapi takes hostname from the HOST section of the request. It could be useful for those who use dynamically generated configs for virtual hosts for example with mod_lua.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-sentry"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-sentry","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_sentry")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_sentry On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_sentry On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nWhen this option is enabled, errors that occur in the operation of the mod_lsapi will be sent to the remote sentry server. You can see the error messages that were sent to the sentry server in the directory /var/log/mod_lsapi. If you do not want to send error notifications from your server, you can disable this directive in lsapi.conf.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-debug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-debug","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_debug")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_debug On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_debug Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nExtended debug logging.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"tuning-lsphp-backend"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuning-lsphp-backend","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Tuning LSPHP backend")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-set-env"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-set-env","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_set_env")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_set_env VAR_NAME [VAR_VALUE]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : -"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nPass env variable to lsphp. By default lsphp environment have only TEMP, TMP and PATH variables set."),e("br"),this._v('\nExample: lsapi_set_env TMP "/var/lsphp-tmp"'),e("br"),this._v('\nNote: PATH env var default "/usr/local/bin:/usr/bin:/bin" cannot be changed because of security reasons.'),e("br"),this._v("\nTo change it, use explicitly lsapi_set_env_path option.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-set-env-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-set-env-path","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_set_env_path")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_set_env_path [path(s)]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_set_env_path /usr/local/bin:/usr/bin:/bin"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nChange PATH variable in the environment of lsPHP processes. Default path /usr/local/bin:/usr/bin:/bin will be used if not set.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-children"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-children","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_children")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_children [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_children [EP]"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSets env variable LSAPI_CHILDREN"),e("br"),this._v("\nMaximum number of simultaneously running child backend processes."),e("br"),this._v("\nOptional, a default value is equal to EP."),e("br"),this._v("\nmin value is 2; max value is 10000. If var value is more, 10000 will be used.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-connect-tries"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-connect-tries","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_connect_tries")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_connect_tries [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_connect_tries 20"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nNumber of retries to connects to lsPHP daemon.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-connect-timeout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-connect-timeout","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_connect_timeout")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_connect_timeout [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_connect_timeout 500000"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nNumber of usec to wait while lsPHP starts (if not started on request).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-max-process-time"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-max-process-time","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_max_process_time")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_max_process_time [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_max_process_time 300"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSets env variable LSAPI_MAX_PROCESS_TIME"),e("br"),this._v("\nOptional. Default value is 300."),e("br"),this._v("\nTimeout to kill runaway processes.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-pgrp-max-idle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-pgrp-max-idle","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_pgrp_max_idle")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_pgrp_max_idle [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_pgrp_max_idle 30"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSets env variable LSAPI_PGRP_MAX_IDLE, in seconds."),e("br"),this._v("\nControls how long a control process will wait for a new request before it exits. # 0 stands for infinite."),e("br"),this._v("\nOptional, default value is 30."),e("br"),this._v("\nShould be more or equal to 0.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-use-own-log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-use-own-log","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_use_own_log")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_use_own_log On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_use_own_log Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nRedirecting log output of backend processes from Apache error_log to dedicated log file or files, depending on value of lsapi_backend_common_own_log option. If Off, use Apache error log file for backend output, or separate file otherwise.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-common-own-log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-common-own-log","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_common_own_log")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_common_own_log On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_common_own_log Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nIt will be used only when lsapi_backend_use_own_log set to On. On - backend processes of the all virtual hosts will share the common log file. Off - every virtual host will have its own backend log file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-coredump"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-coredump","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_coredump")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_coredump On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_coredump Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nenv variable LSAPI_ALLOW_CORE_DUMP (On or Off). Pass LSAPI_ALLOW_CORE_DUMP to lsphp or not. If it will be passed - core dump on lsphp crash will be created."),e("br"),this._v("\nOff by default."),e("br"),this._v("\nBy default LSAPI application will not leave a core dump file when crashed. If you want to have LSAPI PHP dump a core file, you should set this environment variable. If set, regardless the value has been set to, core files will be created under the directory that the PHP script in.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-accept-notify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-accept-notify","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_accept_notify")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_accept_notify On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_accept_notify On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSwitch LSAPI_ACCEPT_NOTIFY mode for lsphp. This option can be used both in Global and VirtualHost scopes.This mode is incompatible with PHP 4.4.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-pgrp-max-reqs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-pgrp-max-reqs","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_pgrp_max_reqs")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_prgrp_max_reqs [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_max_reqs 0"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nControls how many requests a control process will process before it exits. Should be more or equal to 0. In the case of wrong format, a default value will be used. Optional, the default value is 0, which means an unlimited number of requests.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-pgrp-max-crashes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-pgrp-max-crashes","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_pgrp_max_crashes")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_prgrp_max_crashes [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_max_crashes 0"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nControls how many crashes of its worker processes a control process will detect before it exits. Should be more or equal to 0. In the case of wrong format, a default value will be used. Optional, the default value is 0, which means an unlimited number of crashes.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"connection-pool-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#connection-pool-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Connection pool mode")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-with-connection-pool"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-with-connection-pool","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_with_connection_pool")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_with_connection_pool On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_with_connection_pool Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nOn/Off - disable enable connect pool, default is Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-max-idle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-max-idle","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_max_idle")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_max_idle [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_max_idle 300"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nIt is relevant only with lsapi_with_connection_pool option switched on. Controls how long a worker process will wait for a new request before it exits. 0 stands for infinite. Should be more or equal to 0. In the case of wrong format default value will be used. Optional, default value is 300.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-max-reqs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-max-reqs","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_max_reqs")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_max_reqs [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_max_reqs 10000"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nIt is relevant only with lsapi_with_connection_pool option switched on. Controls how many requests a worker process will process before it exits. Should be more than 0. In the case of wrong format default value will be used. Optional, default value is 10000.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"criu-support-cloudlinux-7-only"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#criu-support-cloudlinux-7-only","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("CRIU support (CloudLinux 7 only)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-criu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-criu","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_criu")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_criu On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_criu Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nEnable/disable CRIU for lsphp freezing. Default: Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-criu-socket-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-criu-socket-path","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_criu_socket_path")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_criu_socket_path [path]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_criu_socket_path /var/run/criu/criu_service.socket"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSet path to socket for communication with criu service. Default: /var/run/criu/criu_service.socket.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-criu-imgs-dir-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-criu-imgs-dir-path","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_criu_imgs_dir_path")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_criu_imgs_dir_path [path]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_criu_imgs_dir_path /var/run/mod_lsapi/"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nPath to folder where images of freezed PHP will be stored. Should be path. Default: /var/run/mod_lsapi/")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-initial-start"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-initial-start","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_initial_start")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_initial_start [number]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_initial_start 0"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nNumber of requests to virtualhost, when lsphp will be freezed.  Default: 0 - means disable freezing.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-criu-use-shm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-criu-use-shm","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_criu_use_shm")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_criu_use_shm Off/Signals"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_criu_use_shm Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nMethod of requests counting. Off - use shared memory. Signals - use signals from child processes to parent. Default: Off")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-backend-semtimedwait"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-backend-semtimedwait","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_backend_semtimedwait")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_backend_semtimedwait On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_backend_semtimedwait On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nUse semaphore for checking when lsphp process will be started. Speed of start lsphp increased with semaphore using. This method avoid cycles of waiting for lsphp start. Default: On.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-reset-criu-on-apache-restart"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-reset-criu-on-apache-restart","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_reset_criu_on_apache_restart")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_reset_criu_on_apache_restart On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_reset_criu_on_apache_restart Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nThis option allows cleaning all CRIU images on Apache restart."),e("br"),this._v("\nSetting lsapi_reset_criu_on_apache_restart to On means that on each Apache restart the CRIU images which are stored in directory specified by lsapi_criu_imgs_dir_path directive will be recreated on new request to domain(only after restart)."),e("br"),this._v("\nIf this option set to Off then CRIU images won’t be recreated on Apache restart.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-configuration-management"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-configuration-management","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("PHP configuration management")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-process-phpini"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-process-phpini","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_process_phpini")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_process_phpini On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_process_phpini Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nEnable or disable phpini_* directive processing. Default value is Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-phpini"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-phpini","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_phpini")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_phpini [path]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_phpini -"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nWhen lsapi_process_phpini option switched to Off, these values will be silently ignored. lsapi_phpini values with absolute filename of php.ini file can be inserted into .htaccess files in order to set custom php.ini which will override/complement settings from system default php.ini.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-phprc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-phprc","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_phprc")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_phprc [No | Env | Auto | DocRoot]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_phprc No"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Description")]),t._v(" :\nThe value of PHPRC env variable."),s("br"),t._v('\nSpecial values are "No", "Env", "Auto" and "DocRoot".'),s("br"),t._v('\nDefault value is "No" - without PHPRC at all.'),s("br"),t._v('\n"Auto" value stands for php.ini from DocumentRoot of the corresponding VirtualHost if it is present, or from user\'s home directory otherwise "DocRoot" value stands for php.ini from DocumentRoot of the corresponding VirtualHost.'),s("br"),t._v('\n"Env" value for using PHPRC from the environment, to set it with SetEnv config option, for example'),s("br"),t._v("\nlsapi_phprc No"),s("br"),t._v("\nlsapi_phprc Auto"),s("br"),t._v("\nlsapi_phprc DocRoot"),s("br"),t._v("\nlsapi_phprc Env"),s("br"),t._v("\nlsapi_phprc /etc/")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-tmpdir"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-tmpdir","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_tmpdir")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_tmpdir [path]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_tmpdir /tmp"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSet alternate request body temporary files directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-enable-user-ini"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-enable-user-ini","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_enable_user_ini")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_enable_user_ini On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_enable_user_ini Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nEnable .user.ini files for backend. Same as suphp, php-fpm and fcgid mechanism of .user.ini. Default value is Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-user-ini-homedir"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-user-ini-homedir","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_user_ini_homedir")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_user_ini_homedir On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_user_ini_homedir Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nIf lsapi_enable_user_ini option is set to On, then enable/disable processing .user.ini file in home directory also. Default value is Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-keep-http200"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-keep-http200","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_keep_http200")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_keep_http200 On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_keep_http200 Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, .htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nIf set to On, always keep backend's response status as mod_php do. If set to Off, response status can be overridden by Apache as suphp do (in case of call via ErrorDocument directive).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-mod-php-behaviour"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-mod-php-behaviour","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_mod_php_behaviour")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_mod_php_behaviour On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_mod_php_behaviour On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nOn/Off - disable php_* directives, default On.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"php-value-php-admin-value-php-flag-php-admin-flag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-value-php-admin-value-php-flag-php-admin-flag","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("php_value, php_admin_value, php_flag, php_admin_flag")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : [php_value|php_admin_value|php_flag|php_admin_flag]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" :"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, htaccess")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nmod_php emulation.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"security"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#security","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Security")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-use-suexec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-use-suexec","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_use_suexec")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_use_suexec On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_use_suexec On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nUse or not suexec to a target user.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-user-group"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-user-group","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_user_group")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_user_group [user_name] [group_name]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : -"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSet user & group for requests.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-uid-gid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-uid-gid","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_uid_gid")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_uid_gid [uid] [gid]"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : -"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost, directory")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nSet user & group for request.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-use-default-uid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-use-default-uid","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_use_default_uid")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_use_default_uid On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_use_default_uid On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nUse default Apache UID/GID if no uid/gid set. Values: On/Off. If Off, and no UID/GID set, error 503 will be returned.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-target-perm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-target-perm","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_target_perm")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_target_perm On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_target_perm Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nCheck target PHP script permissions. If set to On, lsapi will check that script is owned by the same user, as user under which it is being executed. Return 503 error if they don't match. Default: Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-paranoid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-paranoid","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_paranoid")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_paranoid On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_paranoid Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nCheck or not permissions of target php scripts. Optional, default value is Off.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-check-document-root"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-check-document-root","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_check_document_root")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_check_document_root On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_check_document_root On"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nCheck or not owner of DOCUMENT_ROOT. Optional, default value is On.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-disable-forced-pwd-var"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-disable-forced-pwd-var","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_disable_forced_pwd_var")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_disable_forced_pwd_var On/Off"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_disable_forced_pwd_var Off"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nTo disable addition of PWD variable. Default value is Off. If set to On, the PWD variable will not be added into a backend environment.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lsapi-max-resend-buffer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lsapi-max-resend-buffer","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("lsapi_max_resend_buffer")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Syntax")]),t._v(" : lsapi_max_resend_buffer [number]tmp"),s("br"),t._v(" "),s("strong",[t._v("Default")]),t._v(" : lsapi_max_resend_buffer 200"),s("br"),t._v(" "),s("strong",[t._v("Context")]),t._v(" : httpd.conf, virtualhost")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(" :"),e("br"),this._v("\nMaximum buffer in KiB to resend for request that has a body (like POST request body).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"troubleshooting-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Troubleshooting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Debugging mod_lsapi issues: error_log & sulsphp_log")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th"),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("error_log")])]),this._v(" "),e("td",[e("strong",[this._v("sulsphp_log")])]),this._v(" "),e("td",[e("strong",[this._v("Solution")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Could not connect to lsphp backend: connect to lsphp failed: 111 Connection refused. Increase memory limit for LVE ID")]),this._v(" "),e("td",[this._v("uid: (xxx/xxxxxxxx) gid: (xxx/xxxxxxxxxx) cmd: /usr/local/bin/lsphp")]),this._v(" "),e("td",[this._v("Increase pmem or vmem limits for the user uid.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("Error sending request: ReceiveLSHeader: nothing to read from backend socket")]),t._v(" "),s("td",[t._v("No need to check this log.")]),t._v(" "),s("td",[t._v("lsphp was killed. It can be due to apache restart or lfd. If you see this  message too often - change "),s("span",{staticClass:"notranslate"},[t._v("  lsapi_terminate_backends_on_exit ")]),t._v(" to "),s("span",{staticClass:"notranslate"},[t._v(" Off ")]),t._v(" in lsapi.conf or add to "),s("span",{staticClass:"notranslate"},[t._v(" /etc/csf/csf.pignore ")]),t._v(" the following lines: "),s("span",{staticClass:"notranslate"},[t._v(" exe:/usr/local/bin/lsphp ")]),t._v(" pexe:/opt/alt/php.*/usr/bin/lsphp")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Could not connect to lsphp backend: connect to lsphp failed: 111 Connection refused")]),this._v(" "),e("td",[this._v("file is writable by others: (///usr/local/bin/lsphp)")]),this._v(" "),e("td",[this._v("Incorrect lsphp file permissions. For fixing: "),e("span",{staticClass:"notranslate"},[this._v(" chmod 755 /usr/local/bin/lsphp ")]),this._v(" cagefsctl --force-update.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("Could not determine uid/gid for request")]),t._v(" "),s("td",[t._v("No need to check this log.")]),t._v(" "),s("td",[t._v("UID/GID are not set in  virtualhost. Set "),s("span",{staticClass:"notranslate"},[t._v(" lsapi_use_default_uid On ")]),t._v(" in lsapi.conf (it is "),s("span",{staticClass:"notranslate"},[t._v(" On ")]),t._v(" by default since 0.1-98 version, this solution is for older versions).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Own id for script file (/xxxx/xxx/xxxx) is xxx; should be xxxx")]),this._v(" "),e("td",[this._v("No need to check this log.")]),this._v(" "),e("td",[this._v("File is not owned by the user PHP executed by. To overwrite (insecure), set "),e("span",{staticClass:"notranslate"},[this._v(" lsapi_target_perm Off ")]),this._v(" in lsapi.conf.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Could not connect to lsphp backend: connect to lsphp failed: 111 Connection refused")]),this._v(" "),e("td",[this._v("Entering jail error")]),this._v(" "),e("td",[this._v("Check if СageFS enabled. Try running "),e("span",{staticClass:"notranslate"},[this._v(" cagefsctl --remount-all. ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("connect_lsphp: connect to lsphp failed: tries XXX exceeded with timeout XXXXX  Could not connect to lsphp backend: connect to lsphp failed: 111 Connection refused")]),this._v(" "),e("td",[this._v("uid: (xxx/xxxxxxxx)  gid: (xxx/xxxxxxxxxx)  cmd: /usr/local/bin/lsphp")]),this._v(" "),e("td",[this._v("Check if "),e("span",{staticClass:"notranslate"},[this._v(" /tmp/lshttpd (global /tmp ")]),this._v(" is not inside CageFS) exists and owner should be apache: apache for DirectAdmin, Plesk, iWorx, ISPManager and nobody for cPanel.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Backend error on sending request(GET /XXXX HTTP/1.1); uri(/XXXX) content-length(0) (lsphp is killed?): ReceiveAckHdr: backend process reset connection: errno 104 (possibly memory limit for LVE ID XXXX too small)")]),this._v(" "),e("td",[this._v("uid: (xxx/xxxxxxxx)  gid: (xxx/xxxxxxxxxx)  cmd: /usr/local/bin/lsphp")]),this._v(" "),e("td",[this._v("Increase PMEM limits for the user UID.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("Reached max children process limit: XX, extra: 0, current: XX, please increase LSAPI_CHILDREN."),s("br"),s("br"),t._v("Backend error on sending request(GET /XXXX HTTP/1.1); uri(/XXXX) content-length(0) (lsphp is killed?): ReceiveAckHdr: backend process reset connection: errno 104 (possibly memory limit for LVE ID XXXX too small)")]),t._v(" "),s("td",[t._v("uid: (xxx/xxxxxxxx)  gid: (xxx/xxxxxxxxxx)  cmd: /usr/local/bin/lsphp")]),t._v(" "),s("td",[t._v("Increase value of "),s("span",{staticClass:"notranslate"},[t._v(" lsapi_backend_children ")]),t._v(" for UID in vhost.conf or globally in lsapi.conf.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[t._v("fork() failed, please increase process limit: Cannot allocate memory"),s("br"),s("br"),t._v("Backend error on sending request(GET /XXXX HTTP/1.1); uri(/XXXX) content-length(0) (lsphp is killed?): ReceiveAckHdr: backend process reset connection: errno 104 (possibly memory limit for LVE ID XXXX too small)")]),t._v(" "),s("td",[t._v("uid:(xxx); gid:(xxx); uid limit warning: EP should be < than NPROC, current EP: XX, NPROC: XX"),s("br"),s("br"),t._v("uid: (xxx/xxxxxxxx) gid: (xxx/xxxxxxxxxx) cmd: /usr/local/bin/lsphp")]),t._v(" "),s("td",[t._v("Increase NPROC limits for the UID. It should be greater than EP and "),s("span",{staticClass:"notranslate"},[t._v(" lsapi_backend_children. ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Child process with pid: XXXXXX was killed by signal: 9, core dump: 0"),e("br"),e("br"),this._v("Backend error on sending request(GET /XXXX HTTP/1.1); uri(/XXXX) content-length(0) (lsphp is killed?): ReceiveAckHdr: nothing to read from backend socket (LVE ID XXXX")]),this._v(" "),e("td",[this._v("uid: (xxx/xxxxxxxx) gid: (xxx/xxxxxxxxxx) cmd: /usr/local/bin/lsphp")]),this._v(" "),e("td",[this._v("These errors occurs when the amount of PMEM limits is incommensurable with the number of EP. Increase PMEM limits or decrease EP number for the user UID.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("totBytesRead (X) != bodyLen (X), referer: XXXX"),e("br"),e("br"),this._v("Backend error on sending request(POST /XXXX HTTP/1.1); uri(/XXXX) content-length(X) (lsphp is killed?): ReceiveAckHdr: nothing to read from backend socket (LVE ID XXXX)"),e("br"),e("br"),this._v("lsphp(XXXX): Child process with pid: XXXX was killed by signal: 15, core dump: 0")]),this._v(" "),e("td",[this._v("No need to check this log.")]),this._v(" "),e("td",[this._v("Increase LimitRequestBody (Apache) or/and SecRequestBodyNoFilesLimit (mod_security) configuration limits")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Connect to backend failed: connect to lsphp failed: 13")]),this._v(" "),e("td",[this._v("No need to check this log.")]),this._v(" "),e("td",[this._v("Check that "),e("code",[this._v("mod_ruid2")]),this._v(" is disabled")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("lsapi_disable_reject_mode On")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("lsapi.conf")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Non-standard apache user")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If apache runs under a username other than "),e("span",{staticClass:"notranslate"},[this._v(' "apache" ')]),this._v(" or "),e("span",{staticClass:"notranslate"},[this._v(' "nobody" ')]),this._v(" , you should rebuild sulsphp (where username is built in for security reasons) with corresponding username:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblsapi liblsapi-devel   \n$ cd ~$ wget [http://repo.cloudlinux.com/cloudlinux/sources/da/mod_lsapi.tar.gz](http://repo.cloudlinux.com/cloudlinux/sources/da/mod_lsapi.tar.gz)  \n$ tar zxvf mod_lsapi.tar.gz  \n$ cd mod-lsapi-0.1-37  \n$ cmake -DHTTPD_USER=<new user name> .  \n$ make\n$ make install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("lsphp started under user apache/nobody")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Could not connect to lsphp backend: connect(/tmp/lshttpd/lsapi_application-x-httpd-lsphp_XXX.sock) failed: 111 Connection refused")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("Switch in lsapi.conf or "),s("span",{staticClass:"notranslate"},[t._v(" mod_lsapi.conf ")]),t._v(" value to: "),s("span",{staticClass:"notranslate"},[t._v(" lsapi_terminate_backends_on_exit Off ")])])]),t._v(" "),s("li",[s("p",[t._v("Check if empty: "),s("span",{staticClass:"notranslate"},[t._v(" cat /etc/cron.d/kill_orphaned_php-cron | grep lsphp ")]),t._v(" , then run:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install lve-utils\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Running PHP for users with UID < 99")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblsapi liblsapi-devel\n$ cd ~\n$ wget [http://repo.cloudlinux.com/cloudlinux/sources/da/mod_lsapi.tar.gz](http://repo.cloudlinux.com/cloudlinux/sources/da/mod_lsapi.tar.gz)\n$ tar zxvf mod_lsapi.tar.gz\n$ cd mod-lsapi-0.1-XX\n$ cmake -DUID_MIN=80 -DGID_MIN=80 .\n$ make\n$ make install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Apache binary called not httpd (httpd.event, httpd.worker)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('$ yum install liblsapi liblsapi-devel \n$ cd ~\n$ wget http://repo.cloudlinux.com/cloudlinux/sources/da/mod_lsapi.tar.gz        \n$ tar zxvf mod_lsapi.tar.gz\n$ cd mod-lsapi-0.1-XX\n$ cmake -DPARENT_NAME="<apache binary name>".\n$ make\n$ make install\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("WHMCS Status page not accessible after installing CL and mod_lsapi (cPanel).")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("add "),s("span",{staticClass:"notranslate"},[t._v(" user: useradd ")]),t._v(" userstat")]),t._v(" "),s("li",[t._v("add to file (to the end of file before "),s("span",{staticClass:"notranslate"},[t._v(") /usr/local/apache/conf/conf.d/lsapi.conf: <Directory /usr/local/apache/htdocs/>  ")]),t._v("\nlsapi_user_group userstat userstat\n")]),t._v(" "),s("li",[t._v("service httpd restart")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("PHP page with Suhosin return 503 error")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[suhosin]\nsuhosin.simulation = Off\nsuhosin.mail.protect = 1\nsuhosin.cookie.disallow_nul = Off\nsuhosin.cookie.max_array_depth = 1000\nsuhosin.cookie.max_array_index_length = 500\nsuhosin.cookie.max_name_length = 500\nsuhosin.cookie.max_totalname_length = 500\nsuhosin.cookie.max_value_length = 200000\nsuhosin.cookie.max_vars = 16384\nsuhosin.get.disallow_nul = Off\nsuhosin.get.max_array_depth = 1000\nsuhosin.get.max_array_index_length = 500\nsuhosin.get.max_name_length = 500\nsuhosin.get.max_totalname_length = 500\nsuhosin.get.max_value_length = 1000000\nsuhosin.get.max_vars = 16384\nsuhosin.post.disallow_nul = Off\nsuhosin.post.max_array_depth = 1000\nsuhosin.post.max_array_index_length = 500\nsuhosin.post.max_name_length = 500\nsuhosin.post.max_totalname_length = 500\nsuhosin.post.max_value_length = 1000000\nsuhosin.post.max_vars = 16384\nsuhosin.request.disallow_nul = Off\nsuhosin.request.max_array_depth = 1000\nsuhosin.request.max_array_index_length = 500\nsuhosin.request.max_totalname_length = 500\nsuhosin.request.max_value_length = 1000000\nsuhosin.request.max_vars = 16384\nsuhosin.request.max_varname_length = 524288\nsuhosin.upload.max_uploads = 300\nsuhosin.upload.disallow_elf = Off\nsuhosin.session.cryptua = Off\nsuhosin.session.encrypt = Off\nsuhosin.session.max_id_length = 1024\nsuhosin.executor.allow_symlink = Off\nsuhosin.executor.disable_eval = Off\nsuhosin.executor.disable_emodifier = Off\nsuhosin.executor.include.max_traversal = 8\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("PHP page with APC return 503 error")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[apc]...apc.shm_segments=1apc.shm_size=32...\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Messages appearing in error_log: Child process with pid: XXXXX was killed by signal: 11, core dump: 0")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to get lsphp core dump on crash")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Configure mod_lsapi to allow lsphp to generate core dumps. In mod_lsapi.conf:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("lsapi_backend_coredump On\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Enable core file generation in sysctl:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sysctl -w ‘kernel.core_uses_pid=1’\nsysctl -w ‘kernel.core_pattern=core.%p’\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Configure system to change max size of core files. In "),e("span",{staticClass:"notranslate"},[this._v("/etc/security/limits.conf")]),this._v(" add:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("user1 soft core unlimited\nuser1 hard core unlimited\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If "),e("span",{staticClass:"notranslate"},[this._v("/etc/profile.d/limits.sh")]),this._v(" exists, look up for the following lines:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('if [ "$LIMITUSER" != "root" ]; then\nulimit -n 100 -u 35 -m 200000 -d 200000 -s 8192 -c 200000 -v unlimited 2>/dev/null\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("p",[this._v("Add line into "),e("span",{staticClass:"notranslate"},[this._v("ulimit -c unlimited into apachectl")]),this._v(" script just after another invokes of the "),e("span",{staticClass:"notranslate"},[this._v("ulimit")]),this._v(" command.")])]),this._v(" "),e("li",[e("p",[this._v("Do cold restart of Apache with the command like this:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service httpd stop; sleep 2; killall lsphp; service httpd start\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("You can make sure that ulimit for lsphp is changed to unlimited successfully with the following command:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cat /proc/PID/limits | grep ‘Max core file size’\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("where PID is a pid of any lsphp process. "),e("span",{staticClass:"notranslate"},[this._v("ps -u user1 | grep lsphp ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Core dump of lsphp will be created in the DocumentRoot of the corresponding virtual server.\nOn cPanel server it should map to")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("mod_lsapi is not included in output of httpd -M after installation and setup command for cPanel EasyApache 3")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("p",[this._v("Check if the file "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/usr/local/apache/conf/conf.d/lsapi.conf")])]),this._v(" exists and not empty;")])]),this._v(" "),e("li",[e("p",[this._v("Check if output of the command")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('cat /usr/local/apache/conf/httpd.conf | grep "/usr/local/apache/conf/conf.d/\\*\\.conf"\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Add to "),e("span",{staticClass:"notranslate"},[this._v(' "include" ')]),this._v(" section of "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/cpanel/conf/apache/main")])]),this._v(" string:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('"include": \'"/usr/local/apache/conf/conf.d/*.conf"\'\n "include":\n "directive": \'include\'\n "items":\n ...\n -\n "include": \'"/usr/local/apache/conf/conf.d/*.conf"\' \n "listen":\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Do:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mkdir -p /usr/local/apache/conf/conf.d/;                                                                                 \ncp /usr/share/lve/modlscapi/confs/lsapi.conf /usr/local/apache/conf/conf.d/lsapi.conf\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Call:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/scripts/rebuildhttpdconf/scripts/restartsrv_httpd\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"criu-support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#criu-support","aria-hidden":"true"}},[this._v("#")]),this._v(" CRIU Support")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("span",{staticClass:"notranslate"},[this._v(" CloudLinux ")]),this._v(" 7 only")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("em",[this._v("Checkpoint/Restore In Userspace")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Option name")])]),t._v(" "),s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[s("strong",[t._v("Values")])]),t._v(" "),s("td",[s("strong",[t._v("Default")])])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_criu")]),t._v(" "),s("td",[t._v("Enable/disable CRIU for lsphp freezing.")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" On/Off ")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" Off ")])])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_criu_socket_path")]),t._v(" "),s("td",[t._v("Set path to socket for communication with criu service.")]),t._v(" "),s("td",[t._v("[path to socket]")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" /var/run/criu/criu_service.socket ")])])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_backend_semtimedwait")]),t._v(" "),s("td",[t._v("Enable/disable flag for notification about lsphp started. This method avoid cycles of waiting for lsphp start.")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" On/Off ")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" On ")])])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_backend_initial_start")]),t._v(" "),s("td",[t._v("Number of request when lsphp should be freezed.")]),t._v(" "),s("td",[t._v("[number] 0 - no freezing")]),t._v(" "),s("td",[t._v("0")])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_criu_use_shm")]),t._v(" "),s("td",[t._v("Method of requests counting. "),s("span",{staticClass:"notranslate"},[t._v(" Off ")]),t._v(" - use shared memory. "),s("span",{staticClass:"notranslate"},[t._v(" Signals ")]),t._v(" - use signals from child processes to parent.")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" Off/Signals ")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" Off ")])])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_criu_imgs_dir_path")]),t._v(" "),s("td",[t._v("Path to folder where imgs of freezed PHP will be stored.")]),t._v(" "),s("td",[t._v("[path]")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" /var/run/mod_lsapi/ ")])])]),t._v(" "),s("tr",[s("td",[t._v("lsapi_criu_debug")]),t._v(" "),s("td",[t._v("Enable/Disable CRIU related debug logging.")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" On/Off ")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" Off ")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("lsapi_criu On\nlsapi_criu_socket_path /var/run/criu/criu_service.socket\nlsapi_backend_semtimedwait On\nlsapi_backend_initial_start 15\nlsapi_criu_use_shm Off\nlsapi_criu_debug Off\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When Apache module mod_lsapi detects CRIU enabled (lsapi_criu On) it prepares a directory for images (on the first request of virtualhost) to store ( "),e("span",{staticClass:"notranslate"},[this._v(" lsapi_criu_imgs_dir_path /var/run/mod_lsapi/[dir_name] ")]),this._v(" ), and starts lsphp process. Lsphp increases counter ( "),e("span",{staticClass:"notranslate"},[this._v(" lsapi_criu_use_shm Off|Signals ")]),this._v(" ) via shared memory or signals, when counter reaches limit ( "),e("span",{staticClass:"notranslate"},[this._v(" lsapi_backend_initial_start 15 ")]),this._v(" ), lsphp sends the request to CRIU for freezing. CRIU service makes images of requested processes. Lsphp will not be frozen if counter has not reached the limit. The next time when lsphp will be stopped, it will be unfrozen from the images.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The images of the processes will be saved even if Apache is restarted. But all images will be deleted after server restart by default configuration. This can be modified by setting the new path "),e("span",{staticClass:"notranslate"},[this._v(" lsapi_criu_imgs_dir_path ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Important!")]),this._v(" If php.ini or configuration file from php.d is changed, the images must be deleted manually.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("strong",[t._v("Note")]),t._v(" that CRIU (version lower than criu-lve-3.6-1) can't correctly freeze "),s("span",{staticClass:"notranslate"},[t._v(" lsphp ")]),t._v(" with "),s("span",{staticClass:"notranslate"},[t._v(" PrivateTmp ")]),t._v(" enabled. For correct work, "),s("span",{staticClass:"notranslate"},[t._v(" PrivateTmp ")]),t._v(" must be "),s("span",{staticClass:"notranslate"},[t._v(" false ")]),t._v(" in "),s("span",{staticClass:"notranslate"},[t._v(" httpd.service file ")]),t._v(" . For disabling:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Copy "),e("span",{staticClass:"notranslate"},[e("em",[this._v("httpd.service")])]),this._v(" to "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/systemd/system")])]),this._v(" and change there "),e("span",{staticClass:"notranslate"},[this._v(" PrivateTmp:\n  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# cat httpd.service\n[Unit]\nDescription=Apache web server managed by cPanel Easy\nApacheConditionPathExists=!/etc/httpddisable\nConditionPathExists=!/etc/apachedisable\nConditionPathExists=!/etc/httpdisable\n\n[Service]Type=forking\nExecStart=/usr/local/cpanel/scripts/restartsrv_httpd --no-verbose\nPIDFile=/var/run/apache2/httpd.pid\nPrivateTmp=false \n\n[Install]\nWantedBy=multi-user.target \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('mkdir /etc/systemd/system/httpd.service.d\necho "[Service]" >  /etc/systemd/system/httpd.service.d/nopt.conf\necho "PrivateTmp=false" >> /etc/systemd/system/httpd.service.d/nopt.conf\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# systemctl daemon-reload\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Installation")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Enable service and start it:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("systemctl enable criu\nsystemctl start criu\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Edit lsapi.conf file, turn CRIU On and set some defaults:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("lsapi_criu On\nlsapi_criu_socket_path /var/run/criu/criu_service.socket\nlsapi_backend_semtimedwait On\nlsapi_backend_initial_start 15\nlsapi_criu_use_shm Off\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Restart apache:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("An option added to the Apache configuration for cleaning all the images earlier saved by CRIU.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th"),t._v(" "),s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Option name")])]),t._v(" "),s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[s("strong",[t._v("Value")])]),t._v(" "),s("td",[s("strong",[t._v("Default")])])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v("lsapi_reset_criu_on_apache_restart")])]),t._v(" "),s("td",[t._v("This option allows cleaning all CRIU images on Apache restart.")]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" On/Off ")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" Off ")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("It can be enabled by writing "),e("span",{staticClass:"notranslate"},[this._v("lsapi_reset_criu_on_apache_restart On ")]),this._v(" in "),e("em",[this._v("lsapi.conf")]),this._v(" (Virtual Host and .htaccess do not allow to use this option).")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Note that this option works only if "),s("span",{staticClass:"notranslate"},[t._v("lsapi_terminate_backends_on_exit")]),t._v(" is "),s("span",{staticClass:"notranslate"},[t._v("  On  ")]),t._v(" (default value is "),s("span",{staticClass:"notranslate"},[t._v(" On ")]),t._v(" , it is set in "),s("em",[t._v("lsapi.conf")]),t._v(" too).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[e("p",[this._v("If you need to clean CRIU images for one user you can simply add file to the user's directory with CRIU images (default "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/var/run/mod_lsapi/lsapi")]),this._v(" * "),e("em",[this._v("criu_imgs")])]),this._v(" ). On the next restart of lsphp the images will be cleaned.")])]),this._v(" "),e("li",[e("p",[this._v("Global reset flag for cleaning all earlier saved images by CRIU.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Create "),s("span",{staticClass:"notranslate"},[t._v(" /usr/share/criu/mod_lsapi/lsphp.criu.reset ")]),t._v(" file. Also don't forget to set such permissions "),s("span",{staticClass:"notranslate"},[t._v(" [nobody:nobody] ")]),t._v(" (or "),s("span",{staticClass:"notranslate"},[t._v(" [apache:apache] ")]),t._v(" for non cPanel) and access mode [700] to the "),s("span",{staticClass:"notranslate"},[t._v(" /usr/share/criu/mod_lsapi ")]),t._v(" directory.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mkdir /usr/share/criumkdir /usr/share/criu/mod_lsapi\nchown nobody:nobody /usr/share/criu/mod_lsapi\ntouch /usr/share/criu/mod_lsapi/lsphp.criu.reset\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Аdded possibility to clean CRIU images from user space.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If a user needs to clean CRIU images for lsphp, he should create a file: "),e("span",{staticClass:"notranslate"},[this._v(" ~/mod_lsapi_reset_me_[vhost_name] ")]),this._v(". Where "),e("span",{staticClass:"notranslate"},[this._v(" [vhost_name] ")]),this._v(" is a ServerName from the VirtualHost block in the configuration file. On the next restart of lsphp, the images will be cleaned.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[this._v("Example:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd; touch mod_lsapi_reset_me_criu.test.com\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("where "),e("em",[this._v("vhost.conf")]),this._v(" contains:"),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("code",[this._v("ServerName criu.test.com")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("code",[this._v("mod_lsapi_reset_me[vhost_name]")])]),this._v(" flag will not work for a user when lsapi_per_user option is "),e("span",{staticClass:"notranslate"},[e("code",[this._v("On")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("There is (default "),e("span",{staticClass:"notranslate"},[e("code",[this._v("off")])]),this._v(") option in mod_lsapi that creates only one lsphp process for a user, regardless of the number of his virtual hosts. We don't recommend to use this option with CRIU, but if you use it, make sure that your virtual hosts (under the same user) have the same environment configurations. If they are not the same, this may cause undesirable lsphp process operation.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"additional-integration-components"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#additional-integration-components","aria-hidden":"true"}},[this._v("#")]),this._v(" Additional integration components")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"lve-pam-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lve-pam-module","aria-hidden":"true"}},[this._v("#")]),this._v(" LVE PAM module")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# yum install pam_lve\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("After you install "),e("span",{staticClass:"notranslate"},[this._v(" RPM ")]),this._v(", add the following line to the PAM config file for the required application:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("session    required     pam_lve.so 500 1 wheel,other\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("500 stands for minimum UID for which LVE will be setup. For any user with UID < 500, LVE will not be setup. If "),s("span",{staticClass:"notranslate"},[t._v("CageFS")]),t._v(" is installed, use:\n"),s("span",{staticClass:"notranslate"},[s("code",[t._v("cagefsctl --set-min-uid UID")])]),t._v(" to setup minimum UID. The parameter in PAM files will be ignored in that case.")]),t._v(" "),s("li",[t._v("1 stands for "),s("span",{staticClass:"notranslate"},[t._v("CageFS")]),t._v(" enabled (0 – "),s("span",{staticClass:"notranslate"},[t._v("CageFS")]),t._v(" disabled)")]),t._v(" "),s("li",[t._v("3rd optional argument defines group of users that will not be placed into LVE or "),s("span",{staticClass:"notranslate"},[t._v("CageFS")]),t._v(". Starting with "),s("strong",[t._v("pam_lve 0.3-7")]),t._v(" you can specify multiple groups, comma separated.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Warning")]),this._v(" "),e("p",[this._v("It is crucial to place all users that su or sudo to root into that group. Otherwise, once such user gains root, user will be inside LVE, and all applications restarted by that user will be inside that user LVE as well.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For example, to enable LVE for SSH access, add that line to the "),e("code",[this._v("/etc/pam.d/sshd")]),this._v(". To enable LVE for SU, add that line to the "),e("code",[this._v("/etc/pam.d/su")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Warning")]),this._v(" "),e("p",[this._v("Be careful when you test it, as if you incorrectly add this line to the "),e("code",[this._v("/etc/pam.d/sshd")]),this._v(", it will lock you out ssh. Don't log out of your current SSH session, until you sure it works.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("!!!!  WARNING: YOU ARE INSIDE LVE !!!!\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("grep pam_sulve.so /etc/pam.d/*\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"lve-wrappers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lve-wrappers","aria-hidden":"true"}},[this._v("#")]),this._v(" LVE wrappers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install lve-wrappers\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"placing-programs-inside-lve"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#placing-programs-inside-lve","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Placing programs inside LVE")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("LVE Wrappers provide two tools for placing programs inside LVE: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("lve_wrapper")])]),this._v(" and "),e("code",[this._v("lve_suwrapper")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("/bin/lve_wrapper")]),this._v(" can be used by any non-root user, as long as that user is in group lve (see "),e("code",[this._v("/etc/groups")]),this._v(" file).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Syntax")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("lve_wrapper <command_to_run>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ lve_wrapper make install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("/bin/lve_suwrapper")]),this._v(" can be used by root user or any user in group lve (see "),e("code",[this._v("/etc/groups")]),this._v(" file) to execute command within specified LVE.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Syntax")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("lve_suwrapper LVE_ID <command_to_run>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# lve_suwrapper 10000 /etc/init.d/postgresql start\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Switches")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("code",[this._v("-f")]),this._v(" - force namespace")]),this._v(" "),e("li",[e("code",[this._v("-n")]),this._v(" - without namespace")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"mpm-itk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mpm-itk","aria-hidden":"true"}},[this._v("#")]),this._v(" MPM ITK")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CloudLinux "),e("span",{staticClass:"notranslate"},[this._v("httpd RPM")]),this._v(" comes with "),e("span",{staticClass:"notranslate"},[this._v(" MPM ITK ")]),this._v(" built in. Yet, if you would like to build your own Apache, you need to apply our patch for "),e("span",{staticClass:"notranslate"},[this._v(" MPM ITK ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Extract: "),e("span",{staticClass:"notranslate"},[this._v("apache2.2-mpm-itk-seculrelve12.patch")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When running "),e("span",{staticClass:"notranslate"},[this._v(" MPM ITK ")]),this._v(", you should disable "),e("span",{staticClass:"notranslate"},[this._v("mod_hostinglimits")]),this._v(". All the functionality needed by "),e("span",{staticClass:"notranslate"},[this._v(" MPM ITK ")]),this._v(" is already built into the patch.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Directives which can be used by Apache with "),e("span",{staticClass:"notranslate"},[this._v(" ITK ")]),this._v(" patch:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("AssignUserID")])]),t._v(" - uses ID as LVE ID")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVEErrorCodeITK")])]),t._v(" - error code to display on LVE error (508 by default)")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVERetryAfterITK")])]),t._v(" - same as "),s("span",{staticClass:"notranslate"},[s("code",[t._v("LVERetryAfter")])]),t._v(" - respond with "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Retry-After")])]),t._v(" header when LVE error 508 occurs")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVEId")])]),t._v(" - ovverides id used for LVE ID instead of "),s("span",{staticClass:"notranslate"},[s("code",[t._v("AssignUserID")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVEUser")])]),t._v(" - overrides user to use to retrieve LVE ID, instead of AssignUserID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"hostinglimits-module-for-apache"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hostinglimits-module-for-apache","aria-hidden":"true"}},[this._v("#")]),this._v(" HostingLimits module for Apache")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("mod_hostinglimits works with existing "),s("span",{staticClass:"notranslate"},[t._v(" CGI/PHP ")]),t._v(" modules, to put them into LVE context. In most cases the "),s("span",{staticClass:"notranslate"},[t._v(" CGI/PHP ")]),t._v(" process will be placed into LVE with the ID of the user that sites belongs to. mod_hostinglimits detects the user from "),s("code",[t._v("SuexecUserGroup")]),t._v(" ("),s("span",{staticClass:"notranslate"},[t._v("suexec")]),t._v(" module), "),s("span",{staticClass:"notranslate"},[s("code",[t._v("SuPHP_UserGroup")])]),t._v(" (from mod_suphp), "),s("code",[t._v("AssignUserID")]),t._v(" ("),s("span",{staticClass:"notranslate"},[t._v("MPM ITK")]),t._v("), "),s("span",{staticClass:"notranslate"},[s("code",[t._v("RUidGid")]),t._v(" (mod_ruid2 ")]),t._v(" ) directives.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Those parameters will not work with mod_fcgid and mod_cgid.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("LVEId")]),t._v(" "),s("li",[t._v("LVEUser")]),t._v(" "),s("li",[t._v("SuexecUserGroup")]),t._v(" "),s("li",[t._v("suPHP_UserGroup")]),t._v(" "),s("li",[t._v("RUidGid")]),t._v(" "),s("li",[t._v("AssignUserID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v('LVE doesn\'t work for mod_include #include due to its "filter" nature.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LoadModule hostinglimits_module modules/mod_hostinglimits.so\n<IfModule mod_hostinglimits.c>\n AllowedHandlers cgi-script php5-script php4-script\n SecureLinks On\n</IfModule>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"additional-notes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#additional-notes","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Additional notes")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("mod_hostinglimits")]),this._v(" (since version 1.0-22) supports "),e("span",{staticClass:"notranslate"},[e("code",[this._v("min-uid - cagefsctl --set-min-uid=600")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If the min UID has changed, you should restart Apache for "),e("strong",[this._v("mod_hostinglimits")]),this._v(" applying new min UID value. Full min UID is supported only with APR.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("[notice] mod_hostinglimits: found apr extention version 3.\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("mod_hostinglimist has variable for Apache CustomLog format string "),e("span",{staticClass:"notranslate"},[e("code",[this._v("%{LVE_ID}y")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to use")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('"%h %l %u %t "%r" %>s %b "%{Referer}i" "%{User-Agent}i" req for lve "%{LVE_ID}y"\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('*.*.*.* - - [09/Apr/2015:07:17:06 -0400] "GET /1.php HTTP/1.1" 200 43435 "-" "Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Firefox/24.0" req for lve 500\n\n*.*.*.* - - [09/Apr/2015:07:17:06 -0400] "GET /1.php?=PHPE9568F34-D428-11d2-A769-00AA001ACF42 HTTP/1.1" 200 2524 "************/1.php""Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Firefox/24.0" req for lve 500\n\n*.*.*.* - - [09/Apr/2015:07:17:06 -0400] "GET /1.php?=PHPE9568F35-D428-11d2-A769-00AA001ACF42 HTTP/1.1" 200 2146 "************/1.php""Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Firefox/24.0" req for lve 500\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installation-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("cPanel")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Installed by default during EasyApache build. Requires "),e("span",{staticClass:"notranslate"},[e("code",[this._v("lve-stats")])]),this._v(" & "),e("span",{staticClass:"notranslate"},[e("code",[this._v("lve-utils")])]),this._v(" packages to be installed.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("DirectAdmin")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Can be built using "),e("span",{staticClass:"notranslate"},[this._v(" custombuild")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install liblve-devel\n$ cd /usr/local/directadmin/custombuild\n$ ./build update\n$ ./build set cloudlinux yes\n$ ./build apache\n$ ./build rewrite_confs\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you run "),e("code",[this._v("suphp")]),this._v(", then run the following:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ ./build suphp\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Plesk")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install mod_hostinglimits\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("ISPmanager")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install mod_hostinglimits\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("InterWorx")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install mod_hostinglimits\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("H-Sphere")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Standard Apache from RPM")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install mod_hostinglimits\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Custom Apache installation")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget http://repo.cloudlinux.com/cloudlinux/sources/mod_hostinglimits.tar.gz\n$ yum install cmake\n$ tar -zxvf mod_hostinglimits*.tar.gz\n$ cd mod_hostinglimits*\n$ cmake .\n$ make\n$ make install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Apache Module Identifier: "),e("code",[this._v("hostinglimits_module")])]),this._v(" "),e("li",[this._v("Source Files: "),e("code",[this._v("mod_hostinglimits.c")])]),this._v(" "),e("li",[this._v("Compatibility: MPM prefork, worker, event, ITK")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"directives"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#directives","aria-hidden":"true"}},[this._v("#")]),this._v(" Directives")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"securelinks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#securelinks","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("SecureLinks")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Makes sure that for any virtual hosts, only files owned by user specified via SuexecUserGroup or other ways as described above are served. For files owned by any other user apache will return "),s("span",{staticClass:"notranslate"},[s("code",[t._v("Access Denied")])]),t._v(" error. The directive will not affect VirtualHost without user id specified, or with uid < 100")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("SecureLinks On")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("SecureLinks Off")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("server config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("SecureLinks On\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"skiperrors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#skiperrors","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("SkipErrors")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Description")])]),this._v(" "),e("td",[this._v("Allow apache to continue if LVE is not available")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Syntax")])]),this._v(" "),e("td",[e("span",{staticClass:"notranslate"},[e("code",[this._v("SkipErrors On")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Default")])]),this._v(" "),e("td",[e("span",{staticClass:"notranslate"},[e("code",[this._v("SkipErrors On")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Context")])]),this._v(" "),e("td",[this._v("server config")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("SkipErrors Off\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"allowedhandlers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#allowedhandlers","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("AllowedHandlers")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("List of handlers that should be placed into LVE, support regexp")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("code",[t._v("AllowedHandlers cgi-script %^php% my-script")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("none")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("server config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Examples")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[t._v("Match requests handled by cgi-script handler:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("AllowedHandlers cgi-script \n")])])])])]),t._v(" "),s("li",[s("p",[t._v("Match all requests:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("AllowedHandlers *\n")])])])])]),t._v(" "),s("li",[s("p",[t._v("Match all requests that handled by handler that contains PHP:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("AllowedHandlers %php%\n")])])])])]),t._v(" "),s("li",[s("p",[t._v("Match all requests handled by handler that starts with PHP:")]),t._v(" "),s("div",{staticClass:"notranslate"},[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("AllowedHandlers %^php%\n")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"denyhandlers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#denyhandlers","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("DenyHandlers")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("List of handlers that should not be placed into LVE, support regexp")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("DenyHandlers text/html")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("none")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("server config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Match all requests, but "),e("span",{staticClass:"notranslate"},[e("code",[this._v("text/*")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("AllowedHandlers *DenyHandlers %text/*%\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveerrorcode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveerrorcode","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEErrorCode")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Error code to display once entry is rejected due to maxEntryProcs")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[t._v("values from 500 to 510")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("508")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("directory config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Resource Limit Is Reached.\n\nThe website is temporarily unable to serve your request as it exceeded resource limit. \n\nPlease try again later.\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can redefine error message using "),e("code",[this._v("ErrorDocument")]),this._v(" directive")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVEErrorCode 508ErrorDocument 508 508.html\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveid","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEid")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Allows to setup separate LVE ID on per directory level. If not set, user ID of a corresponding user is used.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVEId number")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("User Id is used")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("directory config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('<Directory "/home/user1/domain.com/forums">\n LVEId 10001\n</Directory>\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveuser"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveuser","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEUser")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Allows to setup separate LVE ID on per directory level.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVEUser username")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("none")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("directory config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('<Directory "/home/user1/domain.com/forums">\n       LVEUser user1\n</Directory>\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveusergroupid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveusergroupid","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEUserGroupID")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Use group ID instead of user ID for LVE container number.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVEUserGroupID On/Off")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("User Id is used")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("global config only")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If the option enabled, group ID will be used instead of a user ID. Apache will display the following string in error logs:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mod_hostinglimits: use GroupID instead of UID \nmod_hostinglimits: found apr extension version 2 \nmod_hostinglimits: apr_lve_environment_init_group check ok\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If a compatible apr library is not found, the following error message will be display in error logs.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mod_hostinglimits:  apr_lve_* not found!!!\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('<Directory "/home/user1/domain.com/forums">\n       LVEUserGroupID On\n</Directory>\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveretryafter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveretryafter","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVERetryAfter")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Returns Retry-After header when LVE error 508 occurs.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("code",[t._v("LERetryAfter MINUTES")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("240 minutes")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("directory config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Specifies interval for "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Retry-After")])]),this._v(" header. The "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Retry-After")])]),this._v(" response-header field can be used to indicate how long the service is expected to be unavailable to the requesting client.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVERetryAfter 180\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lvesitesdebug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvesitesdebug","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVESitesDebug")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Provides extended debug info for listed sites.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVESitesDebug test.com test2.com")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v(" none ")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("directory config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('<Directory "/home/user1/domain.com/forums">\n       LVESitesDebug abc.com yx.cnet\n</Directory>\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveparsemode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveparsemode","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEParseMode")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Description")])]),this._v(" "),e("td",[this._v("Determines the way LVE ID will be extraced. In Conf")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("strong",[this._v("Syntax")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Default:")]),this._v(" "),e("td",[e("span",{staticClass:"notranslate"},[e("code",[this._v("CONF")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("Context:")]),this._v(" "),e("td",[this._v("directory config")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("In "),e("code",[this._v("CONF")]),this._v(" mode, standard way to extract LVE ID is used (SuexecUserGroup, LVEId, or similar directives).")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("In "),e("span",{staticClass:"notranslate"},[e("code",[this._v("PATH")])]),this._v(" mode, username is extracted from the home directory path. The default way to match username is via the following regexp: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/home/([^/]*)/")])]),this._v(" . Custom regexp can be specified in LVEPathRegexp.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("In "),e("span",{staticClass:"notranslate"},[e("code",[this._v("OWNER")])]),this._v(" mode, the owner of the file is used as an LVE ID.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVEParseMode CONF\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lvepathregexp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvepathregexp","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEPathRegexp")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Regexp used to extract username from the path. Used in conjuction with "),s("code",[t._v("LVEParseMode PATH")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("code",[t._v("LVEPathRegexp regexp")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/home/([^/]*)/")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("directory config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVEPathRegexp /home/([^/]*)/\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lvelimitrechecktimeout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lvelimitrechecktimeout","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVELimitRecheckTimeout")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Timeout in milliseconds, a site will return EP without lve_enter for LA decreasing after this time")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("code",[t._v("LVELimitRecheckTimeout number")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("0")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("httpd.conf, virtualhost")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Example:\n"),e("span",{staticClass:"notranslate"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVELimitRecheckTimeout 1000\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveuse429"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveuse429","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVEUse429")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Use 429 error code as code returned on max entry limits ( "),s("span",{staticClass:"notranslate"},[t._v(" on/off ")]),t._v(" ).")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("code",[t._v("LVEUse429 on")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("off")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("httpd.conf, virtualhost")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVEUse429 on\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"redis-support-for-hostinglimits"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-support-for-hostinglimits","aria-hidden":"true"}},[this._v("#")]),this._v(" Redis support for HostingLimits")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("xyz.com 10001\nbla.com  10002\n....\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget http://repo.cloudlinux.com/cloudlinux/sources/da/mod_hostinglimits.tar.gz\n$ yum install cmake\n$ tar -zxvf mod_hostinglimits*.tar.gz\n$ cd mod_hostinglimits*\n$ cmake -DREDIS:BOOL=TRUE .\n$ make\n$ make install\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVEParseMode REDIS\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveredissocket"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveredissocket","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVERedisSocket")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("Socket to use to connect to Redis database.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVERedisSocket path")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("/tmp/redis.sock")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[t._v("server config")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVERedisSocket /var/run/redis.sock\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("h4",{attrs:{id:"lveredisaddr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveredisaddr","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVERedisAddr")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Description")])]),t._v(" "),s("td",[t._v("IP/port used to connect to Redis database instead of socket.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LVERedisAddr IP PORT")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("none")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("server config")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVERedisAddr 127.0.0.1 6993\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"lveredistimeout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lveredistimeout","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("LVERedisTimeout")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Descriptin")])]),t._v(" "),s("td",[t._v("Number of seconds to wait before attempting to re-connect to Redis.")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Syntax")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("LERetryAfter SECONDS")])])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Default")])]),t._v(" "),s("td",[t._v("60 seconds")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Context")])]),t._v(" "),s("td",[s("span",{staticClass:"notranslate"},[t._v("server config")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("LVERedisTimeout 120\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cpanel-whm-json-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpanel-whm-json-api","aria-hidden":"true"}},[this._v("#")]),this._v(" cPanel/WHM JSON API")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("https:/IP:2087/cpsess_YOURTOKEN/cgi/CloudLinux.cgi?cgiaction=jsonhandler&handler=list\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{"data":[{"ID":"default","CPU":"30","NCPU":"1","PMEM":"1024M","VMEM":"1024M","EP":"28","NPROC":"0","IO":"2048"}]}\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#parameters","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("strong",[this._v("Parameters")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("span",{staticClass:"notranslate"},[e("code",[this._v("cgiaction")])])]),this._v(" "),e("td",[this._v("always "),e("span",{staticClass:"notranslate"},[e("code",[this._v("jsonhandler")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticClass:"notranslate"},[e("code",[this._v("handler")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("For commands like "),s("span",{staticClass:"notranslate"},[s("code",[t._v("set")]),t._v(", "),s("code",[t._v("destroy")])]),t._v(" & "),s("span",{staticClass:"notranslate"},[s("code",[t._v("delete")])]),t._v(", where you need to specify LVE (user) ID, like "),s("code",[t._v("lveid=500")]),t._v(" (matches user ID 500).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Example")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("https://IP:2087/cpsess_YOURTOKEN/cgi/CloudLinux.cgi?cgiaction=jsonhandler&handler=set&lveid=500&speed=30%&io=2048\n\nhttps://IP:2087/cpsess_YOURTOKEN/cgi/CloudLinux.cgi?cgiaction=jsonhandler&handler=set&lveid=500&speed=300Mhz&io=2048\n\nhttps://IP:2087/cpsess_YOURTOKEN/cgi/CloudLinux.cgi?cgiaction=jsonhandler&handler=set&lveid=500&speed=3Ghz&io=2048\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[e("strong",[this._v("Speed")]),this._v(" limit can be specified in several units of measure - "),e("span",{staticClass:"notranslate"},[this._v(" %, MHz, GHz ")]),this._v(". The figures will be different according to the unit of measure.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Output")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('{"status":"OK"}\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To do "),e("code",[this._v("set default")]),this._v(", use "),e("code",[this._v("lveid=0")]),this._v(", like:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("https://IP:2087/cpsess_YOURTOKEN/cgi/CloudLinux.cgi?cgiaction=jsonhandler&handler=set&lveid=0&speed=30%&io=2048\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For commands like "),e("span",{staticClass:"notranslate"},[e("code",[this._v("apply all")]),this._v(", "),e("code",[this._v("destroy all")])]),this._v(", use:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("handler=apply-all\n\nhandler=destroy-all\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("set-user")])])]),t._v(" "),s("td",[t._v("Set parameters for a LVE and/or create a LVE using username instead of ID.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("list-user")])])]),t._v(" "),s("td",[t._v("List loaded LVEs, display username instead of user ID.")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[s("code",[t._v("delete-user")])])]),t._v(" "),s("td",[t._v("Delete LVE and set configuration for that user to defaults.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If the limits for users are set with "),e("span",{staticClass:"notranslate"},[this._v(" cPanel LVE Extension ")]),this._v(", then turnkey billing solutions can be applied (e.g. WHMCS).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"mod-proctitle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mod-proctitle","aria-hidden":"true"}},[this._v("#")]),this._v(" mod_proctitle")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("For installation:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("cPanel EasyApache 3 and non cPanel ( "),e("em",[this._v("CloudLinux 7 only for non cPanel")]),this._v(" ):")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# yum install mod_proctitle --enablerepo=cloudlinux-updates-testing\n# service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# yum install ea-apache24-mod_proctitle\n# service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# cd /usr/local/directadmin/custombuild\n# ./build update\n# ./build mod_procticle\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-to-read-mod-proctitle-information"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-read-mod-proctitle-information","aria-hidden":"true"}},[this._v("#")]),this._v(" How to read mod_proctitle information")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to read information gathered by the module")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('#!/bin/bash\n\nhttpd=httpd \n\nfor pid in `/usr/bin/pgrep $httpd`; do\n    for tid in `ls /proc/$pid/task`; do\n\t\tfound=no\n\t\tfor shm in `ls /dev/shm/apache_title_shm_${pid}_${tid}_* 2>/dev/null`; do\n\t\t\tfound=yes\n\t\t\ttitle=`/usr/bin/tr -d \'\\0\' < $shm`\n\t\t\tthread_id=`/bin/basename "${shm}" | sed "s/apache_title_shm_${pid}_${tid}_//"`\n\t\t\techo "$pid.$tid - $thread_id - $title"\n\t\tbreak\n\t\tdone\n\tif [ "$found" = "no" ]; then\n\t\techo "$pid.$tid not found"\n\tfi\n    done\ndone\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# sh proctitles_info.sh\n571258.571258 NOT FOUND\n571300.571300 NOT FOUND\n571303.571303 - 000000000000000 - 1466513333.6 test.cloudlinux.com GET /1.php HTTP/1.1\n571304.571304 - 000000000000000 - 1466513335.3 test.cloudlinux.com GET /1.php HTTP/1.1\n571305.571305 - 000000000000000 - httpd\n571306.571306 - 000000000000000 - httpd\n571307.571307 - 000000000000000 - httpd\n571372.571372 - 000000000000000 - httpd\n571374.571374 - 000000000000000 - httpd\n\nItem info:\n[pid].[tid] - [posix thread id] - [request info]\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"notranslate"},[e("em",[this._v("NOT FOUND")])]),this._v(" - means that process of Apache doesn't handle requests."),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v("httpd")])]),this._v(" - request is active and waiting for new connection."),e("br"),this._v(" "),e("span",{staticClass:"notranslate"},[e("em",[this._v("[seconds].[tenths of second] [host] [METHOD] [URL] [PROTOCOL]")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"tuning-parameters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tuning-parameters","aria-hidden":"true"}},[this._v("#")]),this._v(" Tuning parameters")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Module parameters for tuning")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("WatchHandlers")]),t._v(" "),s("td",[t._v("List of handlers for monitoring (httpd.conf, virtualhost).")])]),t._v(" "),s("tr",[s("td",[t._v("ProctitleUseFilter On/Off")]),t._v(" "),s("td",[t._v("Use old method of cleaning information or new via filter (for prefork better to use "),s("span",{staticClass:"notranslate"},[t._v(" Off ")]),t._v(" )")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"alt-suexec"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#alt-suexec","aria-hidden":"true"}},[this._v("#")]),this._v(" alt-suexec")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("What is "),e("span",{staticClass:"notranslate"},[this._v("alt-suexec")]),this._v(" package needed for?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you use standard httpd from our repository, but your users' sites do not match standard Apache location of "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/www")])]),this._v(", then you should use alt-suexec.\nalt-suexec package brings suEXEC binaries pre-compiled for specific locations, like "),e("span",{staticClass:"notranslate"},[this._v(" /home ")]),this._v(" .")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to switch suEXEC with alt-suexec")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Based on httpd 2.2 basic for 6 and httpd 2.4 basic for CloudLinux 7, the package brings to server a set of suEXECs with different "),e("span",{staticClass:"notranslate"},[this._v(" DOCUMENT ROOT ")]),this._v(" s and "),e("span",{staticClass:"notranslate"},[this._v(" MIN_UID/MIN_GID ")]),this._v(" parameters. The first set of suEXECs is listed by such modes:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# switch_suexec -h\nUSE_BIZ - DOCUMENT ROOT /biz/ MIN_UID 500 MIN_GID 100 CALLER apache\nUSE_HOSTING - DOCUMENT ROOT /hosting/ MIN_UID 500 MIN_GID 100 CALLER apache\nUSE_HSPHERE - DOCUMENT ROOT /hsphere/local MIN_UID 100 MIN_GID 100 CALLER httpd\nUSE_HOME - DOCUMENT ROOT /home/ MIN_UID 500 MIN_GID 100 CALLER apache\nUSE_WWW - DOCUMENT ROOT /var/www/ MIN_UID 500 MIN_GID 100 CALLER apache\nUSE_FSROOT - DOCUMENT ROOT / MIN_UID 500 MIN_GID 100 CALLER apache\nUSE_STORAGE - DOCUMENT ROOT /storage/content/ MIN_UID 500 MIN_GID 100 CALLER apache\nUSE_DATAS - DOCUMENT ROOT /datas/ MIN_UID 500 MIN_GID 100 CALLER apache\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("-l")]),t._v(" "),s("td",[t._v("list of available suexec")])]),t._v(" "),s("tr",[s("td",[t._v("-u")]),t._v(" "),s("td",[t._v("update suexec according to "),s("span",{staticClass:"notranslate"},[t._v(" /etc/sysconfig/alt-suexec ")])])]),t._v(" "),s("tr",[s("td",[t._v("-s")]),t._v(" "),s("td",[t._v("set new suexec and install it")])]),t._v(" "),s("tr",[s("td",[t._v("-p")]),t._v(" "),s("td",[t._v("set new suexec path and install it")])]),t._v(" "),s("tr",[s("td",[t._v("-o")]),t._v(" "),s("td",[t._v("set new suexec owners and install it")])]),t._v(" "),s("tr",[s("td",[t._v("-r")]),t._v(" "),s("td",[t._v("restore native apache suexec")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("via config file "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/sysconfig/alt-suexec")])])]),this._v(" "),e("li",[this._v("via utility "),e("em",[this._v("switch_suexec")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here are the examples of how to set up suEXEC with "),e("span",{staticClass:"notranslate"},[this._v(' DOC_ROOT = "/home": ')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("1.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("add string "),e("span",{staticClass:"notranslate"},[this._v(' "USE_HOME" ')]),this._v(" to "),e("span",{staticClass:"notranslate"},[e("em",[this._v("/etc/sysconfig/alt-suexec")])])]),this._v(" "),e("li",[this._v("run the command "),e("span",{staticClass:"notranslate"},[this._v(" switch_suexec -u ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("2.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[e("span",{staticClass:"notranslate"},[this._v(" switch_suexec -sUSE_HOME ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# cat /etc/sysconfig/alt-suexec\nUSE_HOME\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('# /usr/sbin/suexec -V\n-D AP_DOC_ROOT="/var/www"\n-D AP_GID_MIN=100\n-D AP_HTTPD_USER="apache"\n-D AP_LOG_EXEC="/var/log/httpd/suexec.log"\n-D AP_SAFE_PATH="/usr/local/bin:/usr/bin:/bin"\n-D AP_UID_MIN=500\n-D AP_USERDIR_SUFFIX="public_html"\n-D AP_SAFE_DIRECTORY="/usr/local/safe-bin"\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Here is output of new suEXEC after "),e("span",{staticClass:"notranslate"},[this._v(" USE_HOME ")]),this._v(" installtion:\n")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('# /usr/sbin/suexec -V\n-D AP_DOC_ROOT="/home/"\n-D AP_GID_MIN=100\n-D AP_HTTPD_USER="apache"\n-D AP_LOG_EXEC="/var/log/httpd/suexec.log"\n-D AP_SAFE_PATH="/usr/local/bin:/usr/bin:/bin"\n-D AP_UID_MIN=500\n-D AP_USERDIR_SUFFIX="public_html"\n-D AP_SAFE_DIRECTORY="/usr/local/safe-bin"\n')])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("-p")]),t._v(" "),s("td",[t._v("if suexec binary file will be placed not in standard way "),s("span",{staticClass:"notranslate"},[t._v(" /usr/sbin ")]),t._v(" - specify this new path with p-option")])]),t._v(" "),s("tr",[s("td",[t._v("-o")]),t._v(" "),s("td",[t._v("if suexec binary file not owned by "),s("span",{staticClass:"notranslate"},[t._v(" root:apache ")]),t._v(" - specify new owner with o-option")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("How to install alt-suexec?")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install alt-suexec\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("New suexec with custom parameters")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cpanel-nginx-and-application-selectors"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cpanel-nginx-and-application-selectors","aria-hidden":"true"}},[this._v("#")]),this._v(" cPanel Nginx and application selectors")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Nginx support is currently experimental.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"apache-suexec-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apache-suexec-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Apache suexec module")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"general-information-and-requirements-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#general-information-and-requirements-10","aria-hidden":"true"}},[this._v("#")]),this._v(" General information and requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This module is used by the Apache HTTP Server to switch to another user before executing CGI programs. The suEXEC feature provides users of the Apache HTTP Server with the ability to run CGI and SSI programs under user IDs different from the user ID of the calling web server ("),e("span",{staticClass:"notranslate"},[this._v("apache/nobody")]),this._v("). Normally, when a CGI or SSI program executes, it runs as the same user who is running the web server.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"how-does-it-work-with-cloudlinux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-does-it-work-with-cloudlinux","aria-hidden":"true"}},[this._v("#")]),this._v(" How does it work with CloudLinux?")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Besides the ability to run CGI programs under user IDs, suexec with CloudLinux patch adds the ability to run that script under CageFS.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("NOTE")]),this._v(" "),e("p",[this._v("Therefore, this module is necessary for the proper work of PHP Selector.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("This module is also necessary for the proper work of mod_hostinglimits. The "),e("span",{staticClass:"notranslate"},[e("code",[this._v("SuexecUserGroup")])]),this._v(" directive indicates for "),e("code",[this._v("mod_hostinglimits")]),this._v(" in which LVE the user process should be put in.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configuration-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-6","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("SuexecUserGroup Directive")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Syntax")]),this._v(": "),e("span",{staticClass:"notranslate"},[this._v("SuexecUserGroup User Group")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Context")]),this._v(": "),e("code",[this._v("httpd.conf")]),this._v(", "),e("code",[this._v("virtualhost")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Description")]),this._v(": The SuexecUserGroup directive allows you to specify a user and a group for CGI programs to run as. Startup will fail if this directive is specified but the suEXEC feature is disabled.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Control panels such as cPanel, Plesk, and DirectAdmin add this directive to the Apache configuration automatically when creating a domain. If you use the server without a control panel, make sure this directive is added for each virtual host.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"installation-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-5","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-cpanel-servers-with-easyapache-4-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-cpanel-servers-with-easyapache-4-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on cPanel servers with EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Install "),e("code",[this._v("mod_suexec")]),this._v(" through YUM package manager as follows:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install ea-apache24-mod_suexec\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[s("code",[t._v("ea-apache24-mod_suexec")]),t._v(" conflicts with the "),s("code",[t._v("mod_ruid2")]),t._v(" therefore, before installing the module, remove "),s("code",[t._v("ea-apache24-mod_ruid2")]),t._v(" as follows: "),s("span",{staticClass:"notranslate"},[s("code",[t._v("$ yum remove ea-apache24-mod_ruid2")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Now, when the module is installed, restart Apache:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ service httpd restart\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-plesk-servers-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-plesk-servers-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on Plesk servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-directadmin-servers-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-directadmin-servers-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on DirectAdmin servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installing-on-servers-with-no-control-panel-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-on-servers-with-no-control-panel-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing on servers with no control panel")])}],!1,null,null,null);e.default=n.exports}}]);