(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{205:function(t,e,s){"use strict";s.r(e);var a=s(0),i=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("CloudLinux supports all the hardware supported by RHEL/CentOS 6.x, with few exceptions. Exceptions are usually hardware that require binary drivers, and that doesn't have any open source alternatives.")]),t._v(" "),s("p",[t._v("At this moment we are aware of only one such case:")]),t._v(" "),s("table",[t._m(2),t._v(" "),s("tbody",[t._m(3),t._v(" "),s("tr",[t._m(4),t._v(" "),s("td",[t._v("hpahcisr")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://h20000.www2.hp.com/bizsupport/TechSupport/Document.jsp?objectID=c01732801",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://h10032.www1.hp.com/ctg/Manual/c01754456"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[t._m(5),t._v(" "),s("td",[t._v("hpvsa")]),t._v(" "),s("td",[s("a",{attrs:{href:"http://h20000.www2.hp.com/bizsupport/TechSupport/Document.jsp?objectID=c01732801",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www8.hp.com/h20195/v2/GetPDF.aspx/c04168333.pdf"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[t._m(6),t._v(" "),s("td"),t._v(" "),s("td",[s("a",{attrs:{href:"http://www.dell.com/en-us/work/learn/server-technology-components-caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.dell.com/en-us/work/learn/server-technology-components-caching"),s("OutboundLink")],1)])])])]),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("It is easy to switch server from CentOS 6.x or 7.x to CloudLinux. The process takes a few minutes and replaces just a handful of RPMs.")]),t._v(" "),s("ul",[s("li",[t._v("Get "),t._m(8),t._v(" either by getting "),s("router-link",{attrs:{to:"/cloudlinux_installation/#getting-trial-license"}},[t._v("trial subscription")]),t._v(" or by "),s("a",{attrs:{href:"https://cln.cloudlinux.com/clweb/buy.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("purchasing subscription"),s("OutboundLink")],1),t._v(".")],1),t._v(" "),s("li",[t._v("Download script: "),s("span",{staticClass:"notranslate"},[s("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/sources/cln/cldeploy",target:"_blank",rel:"noopener noreferrer"}},[t._v("cldeploy"),s("OutboundLink")],1)]),t._v(".")]),t._v(" "),t._m(9),t._v(" "),s("li",[t._v("Reboot.")])]),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),s("p",[t._v("Once you have rebooted, you are running CloudLinux kernel with LVE enabled.")]),t._v(" "),s("p",[t._v("The script automatically detects and supports the following control panels:")]),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("It will install CloudLinux kernel, "),s("router-link",{attrs:{to:"/cloudlinux_os_components/#hostinglimits-module-for-apache"}},[t._v("Apache module")]),t._v(", "),s("router-link",{attrs:{to:"/cagefs/#pam-configuration"}},[t._v("PAM module")]),t._v(", "),s("router-link",{attrs:{to:"/command-line_tools/#command-line-tools-cli"}},[t._v("command line tools")]),t._v(" as well as LVE Manager.")],1),t._v(" "),s("p",[t._v("ISPmanager 5 has native support for CloudLinux. To deploy CloudLinux on a server with ISPmanager 5, you would need to purchase CloudLinux license directly from ISPSystems and follow ISPmanager's deployment guide.")]),t._v(" "),s("p",[t._v("See also "),s("router-link",{attrs:{to:"/command-line_tools/#cldeploy"}},[t._v("advanced options for cldeploy")])],1),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("CloudLinux uses the fact that it is very close to CentOS and RHEL to convert systems in place, requiring just one reboot. Our conversion script does the following actions:")]),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("Script for converting back:")]),t._v(" "),t._m(18),t._v(" "),s("p",[t._v("The kernel is not removed - to prevent condition when server has no kernels and wouldn't boot. The command line to remove the kernel is provided.")]),t._v(" "),s("p",[t._v("On cPanel servers, rebuild of Apache with EasyApache will complete the conversion back, but doesn't have to be performed immediately.")]),t._v(" "),s("p",[t._v("On DirectAdmin servers, rebuild of Apache with custombuild will complete the conversion back, but doesn't have to be performed immediately.")]),t._v(" "),t._m(19),t._v(" "),s("table",[t._m(20),t._v(" "),s("tbody",[t._m(21),t._v(" "),s("tr",[t._m(22),t._v(" "),s("td",[t._v("If you want to use the license on another server or reuse it on the same server after reinstalling, you need to remove the server from CLN and then register the license on your new server. You may use the following page for a reference to remove the server from CLN: "),s("a",{attrs:{href:"https://docs.cln.cloudlinux.com/index.html?servers.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.cln.cloudlinux.com/index.html?servers.htm"),s("OutboundLink")],1),t._v(" Please don't remove the license, remove only the server.")])])])]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),s("p",[t._v("You will need a trial activation key to be able to convert your CentOS server to CloudLinux.  The trial subscription will work for 30 days.")]),t._v(" "),t._m(25),t._v(" "),s("p",[t._v("To get the activation key:")]),t._v(" "),s("ol",[s("li",[t._v("Register with CloudLinux Network: "),s("a",{attrs:{href:"https://cln.cloudlinux.com/console/register/customer",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cln.cloudlinux.com/console/register/customer"),s("OutboundLink")],1),t._v(" (skip it if you already registered)")]),t._v(" "),s("li",[t._v("You will receive an email with activation link")]),t._v(" "),s("li",[t._v("Login at "),s("a",{attrs:{href:"https://cln.cloudlinux.com/console/auth/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cln.cloudlinux.com/console/auth/login"),s("OutboundLink")],1)]),t._v(" "),t._m(26)]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),s("p",[t._v("To register your server with CloudLinux Network using activation key run:")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),s("p",[t._v("You can download the latest CloudLinux ISO and use it to install CloudLinux on your server:")]),t._v(" "),s("ul",[s("li",[t._m(35),t._v(" "),s("ul",[s("li",[t._v("x86_64 version: "),s("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/7/iso/x86_64/CloudLinux-DVD-x86_64-7.7.iso",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://repo.cloudlinux.com/cloudlinux/7/iso/x86_64/CloudLinux-DVD-x86_64-7.7.iso"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Last updated: August 16, 2019")])])]),t._v(" "),s("li",[t._m(36),t._v(" "),s("ul",[s("li",[t._v("x86_64 version: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/6/iso/x86_64/CloudLinux-6.10-x86_64-DVD.iso",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/6/iso/x86_64/CloudLinux-6.10-x86_64-DVD.iso"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("i386 version: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/6/iso/i386/CloudLinux-6.10-i386-DVD.iso",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/6/iso/i386/CloudLinux-6.10-i386-DVD.iso"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Last updated: July 05, 2018")])])]),t._v(" "),s("li",[t._m(37),t._v(" "),s("ul",[s("li",[t._v("x86_64 version: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/5.11/iso/x86_64/CloudLinux-5.11-x86_64-DVD.iso",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/5.11/iso/x86_64/CloudLinux-5.11-x86_64-DVD.iso"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("i386 version: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/5.11/iso/i386/CloudLinux-5.11-i386-DVD.iso",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/5.11/iso/i386/CloudLinux-5.11-i386-DVD.iso"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Last updated: Oct 10, 2014")])])])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Once you install server from the ISO, make sure you "),s("router-link",{attrs:{to:"/cloudlinux_installation/#license-activation"}},[t._v("register your system")]),t._v(" and then run "),s("code",[t._v("yum update")]),t._v(".")],1)]),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#kvm-tab",target:"_blank",rel:"noopener noreferrer"}},[t._v("OpenStack QEMU/KVM"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#vmware-tab",target:"_blank",rel:"noopener noreferrer"}},[t._v("VMware"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#gce-tab",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Cloud Engine"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#aws-tab",target:"_blank",rel:"noopener noreferrer"}},[t._v("Amazon Web Services"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#ali-tab",target:"_blank",rel:"noopener noreferrer"}},[t._v("Alibaba Cloud"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_installation/#xen-images"}},[t._v("Xen")])],1)]),t._v(" "),t._m(40),t._v(" "),s("p",[t._v("To start using Xen image:")]),t._v(" "),t._m(41),t._v(" "),s("p",[t._v("Like:")]),t._v(" "),t._m(42),t._v(" "),s("p",[t._v("where:")]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),s("ul",[s("li",[t._v("CloudLinux 6 Minimal: "),s("a",{attrs:{href:"http://download.cloudlinux.com/images/cl6-7/cl6-hvm-base.img.tgz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.cloudlinux.com/images/cl6-7/cl6-hvm-base.img.tgz"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("CloudLinux 7 Minimal: "),s("a",{attrs:{href:"http://download.cloudlinux.com/images/cl6-7/cl7-hvm-base.img.tgz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.cloudlinux.com/images/cl6-7/cl7-hvm-base.img.tgz"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("CloudLinux 6 + cPanel: "),s("a",{attrs:{href:"http://download.cloudlinux.com/images/cl6-7/cl6-hvm-cPanel.img.tgz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.cloudlinux.com/images/cl6-7/cl6-hvm-cPanel.img.tgz"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("CloudLinux 6 + Parallels Plesk: "),s("a",{attrs:{href:"http://download.cloudlinux.com/images/cl6-7/cl6-hvm-Plesk.img.tgz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.cloudlinux.com/images/cl6-7/cl6-hvm-Plesk.img.tgz"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("CloudLinux 6 + DirectAdmin: "),s("a",{attrs:{href:"http://download.cloudlinux.com/images/cl6-7/cl6-hvm-da.img.tgz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.cloudlinux.com/images/cl6-7/cl6-hvm-da.img.tgz"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("CloudLinux 7 + DirectAdmin: "),s("a",{attrs:{href:"http://download.cloudlinux.com/images/cl6-7/cl7-hvm-da.img.tgz",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://download.cloudlinux.com/images/cl6-7/cl7-hvm-da.img.tgz"),s("OutboundLink")],1)])]),t._v(" "),t._m(46),t._v(" "),s("p",[t._v("To install CloudLinux over network:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Download & boot from netboot image from: "),s("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/6.10/iso/x86_64/CloudLinux-6.10-x86_64-netinstall.iso",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://repo.cloudlinux.com/cloudlinux/6.10/iso/x86_64/CloudLinux-6.10-x86_64-netinstall.iso"),s("OutboundLink")],1),t._v(". It will boot into CloudLinux installer.")]),t._v(" "),s("p",[t._v("Alternatively you can configure your PXE server using following folder as reference: "),s("a",{attrs:{href:"https://repo.cloudlinux.com/cloudlinux/6.10/install/x86_64/images/pxeboot/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://repo.cloudlinux.com/cloudlinux/6.10/install/x86_64/images/pxeboot/"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[t._v("During the CloudLinux installation, select URL as installation source and enter URL: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/6.10/install/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/6.10/install/x86_64/"),s("OutboundLink")],1),t._v(" and continue with installation.")])])]),t._v(" "),s("p",[t._v("To install CloudLinux 5.11 instead of 6.10 use the following URL: "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/5.11/netinstall/x86_64/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/5.11/netinstall/x86_64/"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Same URLs can be used to install para-virtualized Xen using either command-line or virt manager.")]),t._v(" "),t._m(47),t._v(" "),s("ul",[s("li",[s("router-link",{attrs:{to:"/cloudlinux_installation/#h-sphere"}},[t._v("H-Sphere")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_installation/#digitalocean"}},[t._v("DigitalOcean")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_installation/#linode"}},[t._v("Linode")])],1),t._v(" "),s("li",[s("router-link",{attrs:{to:"/cloudlinux_installation/#virtuozzo-and-openvz"}},[t._v("Virtuozzo and OpenVZ")])],1)]),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),s("p",[t._v("To achieve optimal performance, we recommend to "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-from-mod-fastcgi-to-mod-fcgid"}},[t._v("convert from mod_fastcgi to mod_fcgid")]),t._v(".")],1),t._v(" "),s("p",[t._v("There is no need to install mod_hostinglimits – it comes built in with H-Sphere. Once you load kernel from CloudLinux with liblve 0.8 or later – it will get enabled.")]),t._v(" "),t._m(52),t._v(" "),t._m(53),t._m(54),t._v(" "),s("p",[t._v("The following lines should be there:\n")]),t._m(55),t._v(" "),s("p",[t._v("If those strings are absent, you should add it, after:")]),t._v(" "),t._m(56),t._v(" "),s("p",[t._v("and before:")]),t._v(" "),t._m(57),t._v(" "),s("p",[t._v("strings.")]),t._v(" "),s("p",[t._v("Restart Apache afterward.")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Don't forget to "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-from-mod-fastcgi-to-mod-fcgid"}},[t._v("convert from mod_fastcgi to mod_fcgid")]),t._v(".")],1)]),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Download and apply patch "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/usemodule.phpmode.patch",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/usemodule.phpmode.patch"),s("OutboundLink")],1),t._v(" to "),s("code",[t._v("/hsphere/local/config/scripts/usemodule.phpmode")]),t._v(":")])]),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),s("p",[t._v("Download and apply patch "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/httpd.conf.tmpl.patch",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/httpd.conf.tmpl.patch"),s("OutboundLink")],1),t._v(" to the "),t._m(73),t._v(":")]),t._v(" "),t._m(74),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("Download pre-defined config file "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf"),s("OutboundLink")],1),t._v(" to "),s("code",[t._v("/hsphere/local/config/httpd2")]),t._v(":")])]),t._v(" "),t._m(75),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("Download our wrapper file "),s("a",{attrs:{href:"http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/php-wrapper",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/php-wrapper"),s("OutboundLink")],1),t._v(" into "),t._m(76),t._v(" and make it executable:")])]),t._v(" "),t._m(77),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._v(" "),t._m(85),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),s("p",[t._v("Other options could be configured according to personal needs.")]),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._v(" "),s("p",[t._v("How to make CloudLinux work on DigitalOcean:")]),t._v(" "),t._m(91),t._v(" "),s("p",[t._v("How does this work:")]),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),s("p",[t._v("To disable booting into Cloudlinux kernel, run:")]),t._v(" "),t._m(95),t._v(" "),s("p",[t._v("To re-enable booting into CloudLinux kernel, run:\n")]),t._m(96),t._v(" "),t._m(97),t._v(" "),s("p",[t._v("Custom images are Linux distributions that have been modified to fit the specific needs of DigitalOcean users. You can find some basics of importing a custom CloudLinux OS image below.")]),t._v(" "),s("p",[t._v("Importing custom images to DigitalOcean is free, as you are only charged for the storage of your image. To save money, you can easily import your image, start a Droplet from your image, and delete the image, so you don’t incur any storage costs.")]),t._v(" "),s("p",[t._v("Below, we will describe how to add a qcow2 (QEMU/KVM) CloudLinux OS image as a custom image. You can find more information on image options at "),s("a",{attrs:{href:"https://www.digitalocean.com/docs/images/custom-images/overview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.digitalocean.com/docs/images/custom-images/overview/"),s("OutboundLink")],1)]),t._v(" "),s("ol",[s("li",[t._v("To choose the right image, navigate to "),s("a",{attrs:{href:"https://download.cloudlinux.com/cloudlinux/images/#kvm-tab",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://download.cloudlinux.com/cloudlinux/images/#kvm-tab"),s("OutboundLink")],1),t._v(". Several different images are available for download (with and without a control panel).")])]),t._v(" "),t._m(98),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Copy the link for the image you are going to use and log into "),s("a",{attrs:{href:"https://blog.digitalocean.com/custom-images/cloud.digitalocean.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("cloud.digitalocean.com"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(99),t._v(" "),t._m(100),t._v(" "),t._m(101),t._v(" "),t._m(102),t._v(" "),t._m(103),t._v(" "),t._m(104),t._v(" "),s("p",[t._v("You can find more information about creating/adding SSH keys in "),s("a",{attrs:{href:"https://www.digitalocean.com/docs/droplets/how-to/add-ssh-keys/",target:"_blank",rel:"noopener noreferrer"}},[t._v("this article"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(105),t._v(" "),t._m(106),t._v(" "),t._m(107),t._v(" "),s("ol",{attrs:{start:"5"}},[s("li",[t._v("Now, use your preferred SSH client software to connect to your Droplet. You can find more information on SSH client setup "),s("a",{attrs:{href:"https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(108),t._v(" "),t._m(109),t._v(" "),t._m(110),t._v(" "),s("p",[t._v("To install CloudLinux 7 on Linode KVM server you should perform the following steps:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Deploy CL to your Linode following the steps from "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("this section")])],1)]),t._v(" "),t._m(111)]),t._v(" "),t._m(112),t._v(" "),t._m(113),t._v(" "),t._m(114),t._v(" "),t._m(115),t._v(" "),t._m(116),t._v(" "),t._m(117),t._v(" "),s("p",[t._v("After reboot you will have fully operational CloudLinux 7 system and can proceed with other configuration you need.")]),t._v(" "),t._m(118),t._v(" "),s("p",[t._v("To install CloudLinux 7 on Linode Xen please perform the following steps:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Deploy CL to your Linode following the steps from "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("this section")]),t._v(".")],1)]),t._v(" "),t._m(119)]),t._v(" "),t._m(120),t._v(" "),t._m(121),t._v(" "),t._m(122),t._v(" "),t._m(123),t._v(" "),t._m(124),t._v(" "),t._m(125),t._v(" "),s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("We’ll be ending support for Virtuozzo and OpenVZ containers on November 1st, 2019.\nIf you are running Virtuozzo and OpenVZ, you will still be able to use CloudLinux OS but you will need to run hypervisors. See detail on how to run hypervisors "),s("router-link",{attrs:{to:"/cloudlinux_installation/#cloudlinux-os-images"}},[t._v("here")]),t._v(".")],1)]),t._v(" "),t._m(126),t._v(" "),t._m(127),t._v(" "),s("p",[t._v("CloudLinux provides limited support for OpenVZ and Virtuozzo. At this stage only the following functionality works:")]),t._v(" "),t._m(128),t._v(" "),s("p",[t._v("No other limits work so far.")]),t._v(" "),t._m(129),t._v(" "),s("p",[t._v("VZ Node (needs to be done once for the server):")]),t._v(" "),t._m(130),t._v(" "),t._m(131),t._v(" "),t._m(132),t._v(" "),s("p",[t._v("This will setup LVE module for VZ kernel, as well as DKMS to update that module each time VZ kernel is updated.")]),t._v(" "),s("p",[t._v("After this is done, you can add LVE support for any container on a node, at any time.")]),t._v(" "),s("p",[t._v("To make CloudLinux work inside VZ container, VZ node has to be enabled. This should be done for any container where LVE support needs to be added:")]),t._v(" "),t._m(133),t._v(" "),s("p",[t._v("To disable LVE support for Container:")]),t._v(" "),t._m(134),t._v(" "),s("p",[t._v("Inside container, follow "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("standard CloudLinux installation procedures")]),t._v(".")],1),t._v(" "),s("p",[t._v("CloudLinux license is required for each VZ container.")]),t._v(" "),t._m(135),t._v(" "),t._m(136),t._v(" "),t._m(137),t._v(" "),s("p",[t._v("In very rare cases the value should be increased higher, up to 50000.")]),t._v(" "),t._m(138),t._v(" "),t._m(139),t._v(" "),s("p",[t._v("To do that:")]),t._v(" "),t._m(140),t._v(" "),t._m(141),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("Convert to CloudLinux using "),s("span",{staticClass:"notranslate"},[s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("deploy2cl")])],1),t._v(" utility.")])]),t._v(" "),t._m(142)]),t._v(" "),t._m(143),t._v(" "),t._m(144),t._v(" "),t._m(145),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),s("p",[t._v("You can always uninstall CloudLinux. In this case, we will 'convert' the system back to CentOS. Even if the original system was RHEL - we will still convert to CentOS state.")]),t._v(" "),s("p",[t._v("The following actions will be taken:")]),t._v(" "),t._m(148),t._v(" "),s("p",[t._v("At the end, the script will provide instructions on how to finish the conversion back to CentOS. That will require removal of CloudLinux kernel (manual step), and installation of CentOS kernel (if needed).")]),t._v(" "),s("p",[t._v("To uninstall CloudLinux, do:")]),t._v(" "),t._m(149),t._v(" "),s("p",[t._v("Now you have converted back to CentOS and it is the time to install kernel.")]),t._v(" "),s("p",[t._v("To delete CloudLinux kernel, run:")]),t._v(" "),t._m(150),t._v(" "),t._m(151),t._v(" "),t._m(152),t._v(" "),s("p",[t._v("Please check your bootloader configuration before rebooting the system.")]),t._v(" "),s("p",[t._v("To remove unused kmods and lve libs run:")]),t._v(" "),t._m(153),t._v(" "),s("p",[t._v("Kernel package and related LVE packages should be deleted and the required kernel will be installed.")]),t._v(" "),t._m(154),t._v(" "),t._m(155),t._v(" "),t._m(156),t._v(" "),t._m(157),t._v(" "),t._m(158),t._v(" "),t._m(159),t._v(" "),t._m(160),t._v(" "),t._m(161),t._v(" "),t._m(162),t._v(" "),s("p",[t._v("Follow the instructions "),s("router-link",{attrs:{to:"/apache_mod_lsapi/#installation"}},[t._v("here")]),t._v(" to install and configure mod_lsapi.")],1),t._v(" "),t._m(163),t._v(" "),s("p",[t._v("If EasyApache 4 was installed earlier on your CentOS server and you would like to migrate to CloudLinux:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Convert server from CentOS  6.x or 7.x to CloudLinux (see "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("these instructions")]),t._v(").")],1)]),t._v(" "),t._m(164)]),t._v(" "),t._m(165),t._v(" "),s("p",[t._v("If EasyApache 4 was not installed earlier on your CentOS server and you would like to migrate to CloudLinux:")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Convert server from CentOS  6.x or 7.x to CloudLinux (see "),s("router-link",{attrs:{to:"/cloudlinux_installation/#converting-existing-servers"}},[t._v("these instructions")]),t._v(").")],1)]),t._v(" "),t._m(166)]),t._v(" "),t._m(167),t._v(" "),t._m(168),t._v(" "),t._m(169),t._v(" "),s("p",[t._v("Install EasyApache4 on clean CloudLinux from ISO image or migrate to EasyApache4 on existings CloudLinux servers:")]),t._v(" "),t._m(170),t._v(" "),t._m(171),t._v(" "),t._m(172),t._v(" "),t._m(173),t._v(" "),t._m(174),t._v(" "),t._m(175),t._v(" "),s("p",[t._v("Usage:")]),t._v(" "),t._m(176),t._v(" "),t._m(177),t._v(" "),t._m(178),t._v(" "),t._m(179),t._v(" "),t._m(180),t._v(" "),t._m(181),t._v(" "),t._m(182),t._v(" "),t._m(183),t._v(" "),t._m(184),t._v(" "),t._m(185),t._v(" "),t._m(186),t._v(" "),t._m(187),t._v(" "),s("p",[t._v("See also: "),s("a",{attrs:{href:"https://cloudlinux.zendesk.com/hc/articles/360025827914-CloudLinux-OS-Installation-FAQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("FAQ"),s("OutboundLink")],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"hardware-compatibility"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hardware-compatibility","aria-hidden":"true"}},[this._v("#")]),this._v(" Hardware compatibility")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th"),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Device")])]),this._v(" "),e("td",[e("strong",[this._v("Binary Driver")])]),this._v(" "),e("td",[e("strong",[this._v("Source")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticClass:"notranslate"},[this._v(" B110i Smart Array RAID controller ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticClass:"notranslate"},[this._v(" B120i/B320i Smart Array SATA RAID Controller ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticClass:"notranslate"},[this._v(" SanDisk DAS Cache ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"converting-existing-servers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#converting-existing-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Converting existing servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("<activation_key>")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Execute "),e("span",{staticClass:"notranslate"},[e("code",[this._v("sh cldeploy -k <activation_key>")])]),this._v(" (if you have IP based license, execute "),e("span",{staticClass:"notranslate"},[e("code",[this._v("sh cldeploy -i")])]),this._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have activation key:\n"),e("span",{staticClass:"notranslate"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget https://repo.cloudlinux.com/cloudlinux/sources/cln/cldeploy\n$ sh cldeploy -k <activation_key>\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have IP-based license:\n"),e("span",{staticClass:"notranslate"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ sh cldeploy -i\n$ reboot\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("cPanel with EA4 (EA3 till September 1st.)")]),this._v(" "),e("li",[this._v("Plesk")]),this._v(" "),e("li",[this._v("DirectAdmin")]),this._v(" "),e("li",[this._v("InterWorx.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("We normally recommend to install "),s("code",[t._v("lvemanager")]),t._v(", "),s("code",[t._v("lve-utils")]),t._v(", "),s("code",[t._v("lve-stats")]),t._v(", and "),s("code",[t._v("cagefs")]),t._v(" packages after installing a control panel."),s("br"),t._v("\nBut when you deploy CloudLinux from the ISO image, these packages will be preinstalled. You can reinstall them after installing the control panel.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"explanation-of-changes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#explanation-of-changes","aria-hidden":"true"}},[this._v("#")]),this._v(" Explanation of changes")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Backups the original repository settings into "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cl-convert-saved")])]),t._v(".")]),t._v(" "),s("li",[t._v("Backups RHEL system ID into "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/cl-convert-saved")])]),t._v(" (RHEL systems only).")]),t._v(" "),s("li",[t._v("Installs CL repository settings & imports CL RPM key.")]),t._v(" "),s("li",[t._v("Replaces redhat/centos-release, redhat-release-notes, redhat-logos with CL version.")]),t._v(" "),s("li",[t._v("Removes cpuspeed RPM (as it conflicts with CPU limits).")]),t._v(" "),s("li",[t._v("Re-installs CL version of rhnlib/rhnplugin.")]),t._v(" "),s("li",[t._v("Checks for binary kernel modules, finds replacement if needed.")]),t._v(" "),s("li",[t._v("Detects OVH servers and fixes mkinitrd issues.")]),t._v(" "),s("li",[t._v("Detects Linode servers and fixes grub issues.")]),t._v(" "),s("li",[t._v("Checks if LES is installed.")]),t._v(" "),s("li",[t._v("Checks that "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/fstab")])]),t._v(" has correct "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/dev/root")])])]),t._v(" "),s("li",[t._v("Checks for efi.")]),t._v(" "),s("li",[t._v("Installs CL kernel, lve-utils, liblve, lve-stats RPMs.")]),t._v(" "),s("li",[t._v("Installs LVE Manager for cPanel, Plesk, DirectAdmin, ISPManager & InterWorx")]),t._v(" "),s("li",[t._v("Installs mod_hostinglimits apache module:\n"),s("ul",[s("li",[t._v("RPM install for Plesk, ISPManager & InterWorx;")]),t._v(" "),s("li",[t._v("On Plesk, replaces psa-mod_fcgid* with mod_fcgid;")]),t._v(" "),s("li",[t._v("custombuild for DirectAdmin.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Restores CentOS repositories, and centos-release/release-notes/logos.")]),this._v(" "),e("li",[this._v("Removes lve, mod_hostinglimits, lve-stats, lvemanager.")]),this._v(" "),e("li",[this._v("mod_hostinglimits RPM is removed.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"common-issues-and-troubleshooting-during-conversion"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#common-issues-and-troubleshooting-during-conversion","aria-hidden":"true"}},[this._v("#")]),this._v(" Common issues and troubleshooting during conversion")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th"),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("strong",[this._v("Issue")])]),this._v(" "),e("td",[e("strong",[this._v("Solution")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[this._v("Double registration issue with the error: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Maximum usage count of 1 reached")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"activation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#activation","aria-hidden":"true"}},[this._v("#")]),this._v(" Activation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"getting-trial-license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getting-trial-license","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting trial license")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have any issues getting activation key or if you have any questions regarding using your trial subscription – contact "),e("a",{attrs:{href:"mailto:sales@cloudlinux.com"}},[this._v("sales@cloudlinux.com")]),this._v(" and we will help.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("Click on "),e("code",[this._v("Get Trial Activation Key")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You will get a key that looks like: "),e("code",[this._v("12314-d34463a182fede4f4d7e140f1841bcf2")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Use it to register your system or to "),e("a",{attrs:{href:""}},[this._v("convert CentOS server to CloudLinux")]),this._v(" server.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"license-activation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license-activation","aria-hidden":"true"}},[this._v("#")]),this._v(" License activation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install rhn-setup --enablerepo=cloudlinux-base\n$ /usr/sbin/rhnreg_ks --force --activationkey=<activation key>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Where activation key is like "),e("code",[this._v("1231-2b48feedf5b5a0e0609ae028d9275c93")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you have IP based license, use "),e("span",{staticClass:"notranslate"},[e("code",[this._v("clnreg_ks")])]),this._v(" command:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install rhn-setup --enablerepo=cloudlinux-base\n$ /usr/sbin/clnreg_ks --force\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"installing-new-servers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installing-new-servers","aria-hidden":"true"}},[this._v("#")]),this._v(" Installing new servers")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Latest stable CloudLinux 7.7 ISO")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Latest stable CloudLinux 6.10 ISO")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Latest stable CloudLinux 5.11 ISO (OBSOLETE)")]),this._v(":")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("We recommend to reinstall "),s("code",[t._v("lvemanager")]),t._v(", "),s("code",[t._v("lve-utils")]),t._v(", "),s("code",[t._v("lve-stats")]),t._v(", and "),s("code",[t._v("cagefs")]),t._v(" packages after installing a control panel.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"cloudlinux-os-images"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-os-images","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux OS images")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"xen-images"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xen-images","aria-hidden":"true"}},[this._v("#")]),this._v(" Xen images")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Decompress xen image to: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/var/lib/xen/images/")])]),this._v(" (depends on your setup)")]),this._v(" "),e("li",[this._v("Create a config file in "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/xen")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('name = "cl6-sample"\nuuid = "4230bccf-5882-2ac6-7e1c-0e2a60208001"\nmaxmem = 1024\nmemory = 1024\nvcpus = 1\nbootloader = "/usr/bin/pygrub"\non_poweroff = "destroy"\non_reboot = "restart"\non_crash = "restart"\nvfb = [ "type=vnc,vncunused=1,key=en-us" ]\ndisk = [ "tap:aio:/var/lib/xen/images/cl6-sample.img,sda,w" ]\nvif = [ "mac=00:16:3e:23:09:10,bridge=xenbr0,script=vif-bridge" ]\n')])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v('name = "cl6-sample"')])]),t._v(" - a unique name of the server")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v('disk = [ "tap:aio:/var/lib/xen/images/cl6-sample.img,sda,w" ]')])]),t._v(" - path to image file")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v('uuid = "4230bccf-5882-2ac6-7e1c-0e2a60208001"')])]),t._v(" - a unique id for that server")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v('vif = [ "mac=00:16:3e:23:09:10,bridge=xenbr0,script=vif-bridge" ]')])]),t._v(" - unique MAC")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("[maxmem = 1024 memory = 1024 vcpus = 1]")])]),t._v(" – resources")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Root password: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cloudlinux")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Disk Images")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"net-install"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#net-install","aria-hidden":"true"}},[this._v("#")]),this._v(" Net install")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"provider-specific-guidelines"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#provider-specific-guidelines","aria-hidden":"true"}},[this._v("#")]),this._v(" Provider-specific guidelines")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"h-sphere"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#h-sphere","aria-hidden":"true"}},[this._v("#")]),this._v(" H-Sphere")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("For H-Sphere 3.5+")]),this._v(" "),e("p",[this._v("Please note, that CageFS and PHP Selector are not supported for H-Sphere")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#requirements","aria-hidden":"true"}},[this._v("#")]),this._v(" Requirements")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("CloudLinux with liblve 0.8 or later.")]),this._v(" "),e("li",[this._v("Apache 2.2.x or 1.3.")]),this._v(" "),e("li",[this._v("mod_suexec should be enabled.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can check if LVE is enabled by running:\n"),e("span",{staticClass:"notranslate"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ ps aux | grep httpd | grep DLIBLVE\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If you see no output, it means that Apache didn't pick up LVE. Try checking file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/hsphere/shared/scripts/apache-get-env.sh")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('if [ -e /usr/lib64/liblve.so.0 -o -e /usr/lib/liblve.so.0 ]; then\nAPENV_DSSL="$APENV_DSSL -DLIBLVE"\nfi\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("else\nAPENV_DSSL='-DSSL'\nfi\n###\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('# this is used by apacheGetEnv.pm perl module\nif [ "$1" = \'show\' ] ; then\nset | egrep "^APENV_"\nfi\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"converting-from-mod-fastcgi-to-mod-fcgid"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#converting-from-mod-fastcgi-to-mod-fcgid","aria-hidden":"true"}},[this._v("#")]),this._v(" Converting from mod_fastcgi to mod_fcgid")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To achieve the best results in productivity and stability we recommend converting from "),e("span",{staticClass:"notranslate"},[e("code",[this._v("mod_fastcgi")])]),this._v(" to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("mod_fcgid")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("H-Sphere 3.6.3+")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Download our fcgi.conf file:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget -O /hsphere/local/config/httpd2/fcgi.conf http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[this._v("Edit "),e("span",{staticClass:"notranslate"},[e("code",[this._v("~httpd2/conf/extra/httpd-hostinglimits.conf")])]),this._v(" to the following state:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("######\nLoadModule hostinglimits_module /hsphere/shared/apache2/modules/mod_hostinglimits.so\n\n<IfModule mod_hostinglimits.c>\nSkipErrors Off\nAllowedHandlers cgi-script %php% fcgid-script application/x-miva-compiled\nDenyHandlers hs-php5-script hs-php53-script hs-php54-script\nInclude /hsphere/local/config/httpd2/fcgi.conf\n \n</IfModule>\n#######\n")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",{attrs:{start:"3"}},[s("li",[t._v("Go to "),s("span",{staticClass:"notranslate"},[s("code",[t._v("P.Servers > web server [Config]")])]),t._v(" and be sure to have enabled:\n"),s("ul",[s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("apache_version=2")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("apache_mpm=prefork")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("apache_fastcgi")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("apache_fcgid")])])]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("PHP version/mode: php_fastcgi")]),t._v("*")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("*No changes needed to "),e("code",[this._v("httpd.conf.tmpl.custom")]),this._v(" or "),e("code",[this._v("usermodule.phpmode")]),this._v(" as this version provides its own mod_fcgid.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"older-versions-of-h-sphere"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#older-versions-of-h-sphere","aria-hidden":"true"}},[this._v("#")]),this._v(" Older versions of H-Sphere")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Compile mod_fcgid module:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ yum install gcc liblve-devel zlib-devel openssl-devel \n$ wget http://apache.osuosl.org//httpd/mod_fcgid/mod_fcgid-2.3.9.tar.gz\n$ tar zxvf mod_fcgid-2.3.9.tar.gz\n$ cd mod_fcgid-2.3.9/\n$ APXS=/hsphere/shared/apache2/bin/apxs ./configure.apxs \n$ make\n$ mv modules/fcgid/.libs/mod_fcgid.so /hsphere/shared/apache2/modules\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/usemodule.phpmode.patch \n$ patch /hsphere/local/config/scripts/usemodule.phpmode usemodule.phpmode.patch\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("If "),e("code",[this._v("/hsphere/local/config/httpd2/httpd.conf.tmpl.custom")]),this._v(" does not exists – create it:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ cp -rp /hsphere/local/config/httpd2/httpd.conf.tmpl /hsphere/local/config/httpd2/httpd.conf.tmpl.custom\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("/hsphere/local/config/httpd2/httpd.conf.tmpl.custom")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/httpd.conf.tmpl.patch \n$ patch --fuzz=3 /hsphere/local/config/httpd2/httpd.conf.tmpl.cusom  httpd.conf.tmpl.patch\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget -O /hsphere/local/config/httpd2/fcgi.conf http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/fcgi.conf\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"notranslate"},[e("code",[this._v("/hsphere/shared/php5/bin/")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget -O /hsphere/shared/php5/bin/php-wrapper http://repo.cloudlinux.com/cloudlinux/sources/mod_fcgid-hsphere/php-wrapper\n$ chmod 755 /hsphere/shared/php5/bin/php-wrapper\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("Change permissions for "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/hsphere/local/home")])]),this._v(" to 755:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ chmod 755 /hsphere/local/home\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"7"}},[e("li",[this._v("Edit "),e("span",{staticClass:"notranslate"},[e("code",[this._v("~httpd2/conf/extra/httpd-hostinglimits.conf")])]),this._v(" and add DenyHandlers, so section will look like:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("<IfModule mod_hostinglimits.c>\nSkipErrors Off\nAllowedHandlers cgi-script %php% fcgid-script application/x-miva-compiled\nDenyHandlers hs-php5-script hs-php53-script hs-php54-script \n</IfModule>\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"8"}},[e("li",[this._v("Configure physical server from H-Sphere admin > E.Manager > P.Servers > server_name [parameters] icon, settings should be:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("apache_version = 2\napacha_fastcgi = yes\napache_status = yes\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/sshot-2013-07-30-21-25-48.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"9"}},[e("li",[this._v("Set PHP configuration to:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("php_libphp5 enabled but not default\nphp_fastcgi5 enabled and is default\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/sshot-2013-07-30-21-31-05.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When done - click "),e("span",{staticClass:"notranslate"},[e("em",[this._v("SUBMIT")])]),this._v(" to apply changes.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("After updating H-Sphere software on web server with CloudLinux you need to re-apply step 2 (patch usemodule.phpmode) and restart apache with "),e("code",[this._v("/hsphere/shared/scripts/apache-restart")]),this._v(" script.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"digitalocean"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#digitalocean","aria-hidden":"true"}},[this._v("#")]),this._v(" DigitalOcean")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("DigitalOcean doesn't support custom kernels. The droplet (VM) always runs DigitalOcean's kernel. CloudLinux requires its own kernel. To enable CloudLinux work on DigitalOcean droplets, we provide ability to boot into CloudLinux kernel using "),e("code",[this._v("kexec")]),this._v(" functionality.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("span",{staticClass:"notranslate"},[t._v(" cldeploy ")]),t._v(" script checks for presence of "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/digitalocean")])]),t._v(". If the file detected, we assume that this is DigitalOcean droplet;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("kexec-tools")])]),t._v(" are installed;")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[s("code",[t._v("kexec")])]),t._v(" script will be created in "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/rc.d/init.d/")])]),t._v(" and set to run right after "),s("span",{staticClass:"notranslate"},[s("code",[t._v("rc.sysinit")])]),t._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("When executed, script "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/rc.d/init.d/kexec")])]),this._v(" detects the latest installed CloudLinux kernel, and loads that kernel.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If the system cannot boot into CloudLinux kernel (due to any reason), subsequent reboot will skip "),e("span",{staticClass:"notranslate"},[e("code",[this._v("kexec")])]),this._v(", allow droplet to boot into DigitalOceans' kernel.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("chkconfig --del kexec\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("p"),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("chkconfig --add kexec\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"adding-cloudlinux-os-image-to-digitalocean"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adding-cloudlinux-os-image-to-digitalocean","aria-hidden":"true"}},[this._v("#")]),this._v(" Adding CloudLinux OS image to DigitalOcean")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/cloudlinuximages.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Click "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Images")])]),this._v(" on the left of the screen and then choose "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Custom Images")])]),this._v(". Click the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Import via URL")])]),this._v(" button and paste the CloudLinux OS image link.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/customimages.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("There are several options here, but the most important is "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Choose a datacenter region")])]),this._v(", i.e. which datacenter region your Droplets should be created in for this image.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/uploadimage.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Click the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Upload Image")])]),this._v(" button and wait until the image is successfully uploaded.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Add your public key to access your droplets using key-based authentication: navigate to the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Security")])]),this._v(" sidebar menu and click the "),e("span",{staticClass:"notranslate"},[e("em",[this._v("Add SSH Key")])]),this._v(" button.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/addsshkey.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[e("p",[this._v("You will then be able to start a CloudLinux OS Droplet using the image.")]),this._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Your Droplet will be created in the same datacenter that your custom image resides in.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/startdroplet.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"/images/sshclient.png",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"linode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linode","aria-hidden":"true"}},[this._v("#")]),this._v(" Linode")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"cloudlinux-on-linode-kvm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-on-linode-kvm","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux on Linode KVM")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Install grub on your system:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install grub2\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[this._v("Add to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/etc/default/grub")])]),this._v(" the following parameters:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('GRUB_TIMEOUT=10\nGRUB_CMDLINE_LINUX="console=ttyS0,19200n8"\nGRUB_DISABLE_LINUX_UUID=true\nGRUB_SERIAL_COMMAND="serial --speed=19200 --unit=0 --word=8 --parity=no --stop=1"\n')])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"4"}},[e("li",[this._v("Update grub config:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("grub2-mkconfig -o /boot/grub/grub.cfg\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[e("p",[this._v("Edit your Linode profile, change the boot settings to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("GRUB 2")])]),this._v(" .")])]),this._v(" "),e("li",[e("p",[this._v("Reboot your Linode.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"cloudlinux-on-linode-xen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-on-linode-xen","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux on Linode Xen")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Create the file "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/boot/grub/menu.lst")])]),this._v(" with the following content:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("timeout 5\ntitle CloudLinux 7.1, $KVERSION\nroot (hd0)\nkernel /boot/vmlinuz-$KVERSION root=/dev/xvda ro quiet\ninitrd /boot/initramfs-$KVERSION.img\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("where "),e("span",{staticClass:"notranslate"},[e("code",[this._v("$KVERSION")])]),this._v(" is the version of the installed CloudLinux 7 kernel.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("You will need to update "),e("span",{staticClass:"notranslate"},[e("code",[this._v("/boot/grub/menu.lst")])]),this._v(" manually after every kernel update.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"3"}},[e("li",[e("p",[this._v("Switch boot settings to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("pv-grub-x86_64")])]),this._v(" and switch off "),e("span",{staticClass:"notranslate"},[e("code",[this._v("Auto-configure networking")])]),this._v(" in Linode settings.")])]),this._v(" "),e("li",[e("p",[this._v("Reboot your Linode.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In case if you will migrate to KVM later you will need only switch the boot settings to "),e("span",{staticClass:"notranslate"},[e("code",[this._v("GRUB 2")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"virtuozzo-and-openvz"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#virtuozzo-and-openvz","aria-hidden":"true"}},[this._v("#")]),this._v(" Virtuozzo and OpenVZ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("ul",[e("li",[this._v("Virtuozzo 6 and OpenVZ 6 are supported.")]),this._v(" "),e("li",[this._v("Virtuozzo 7 and OpenVZ 7 are not supported.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Kernel 2.6.32-042stab088.4 or later required")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("CageFS")]),t._v(" "),s("li",[t._v("PHP Selector")]),t._v(" "),s("li",[t._v("max entry processes")]),t._v(" "),s("li",[t._v("mod_lsapi")]),t._v(" "),s("li",[t._v("MySQL Governor")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"installation-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-2","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Make sure all containers are stopped prior to doing this operation. Or reboot the server after the install.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("Note")]),t._v(" "),s("p",[t._v("Please make sure you have "),s("span",{staticClass:"notranslate"},[s("code",[t._v("vzkernel-headers")])]),t._v(" and "),s("span",{staticClass:"notranslate"},[s("code",[t._v("vzkernel-devel")])]),t._v(" packages installed. If no - install them with "),s("code",[t._v("yum")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum install vzkernel-headers vzkernel-devel\n\n$ wget -P /etc/yum.repos.d/ http://repo.cloudlinux.com/vzlve/vzlve.repo\n$ yum install lve-kernel-module\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ vzctl set CT_ID --devnodes lve:rw --save\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ vzctl set CT_ID --devnodes lve:none --save\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Some servers require increasing "),e("code",[this._v("fs.ve-mount-nr")]),this._v(" on host node, otherwise CageFS will throw errors.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To increase "),e("code",[this._v("fs.ve-mount-nr")]),this._v(", on a host node:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("add "),s("span",{staticClass:"notranslate"},[s("code",[t._v("fs.ve-mount-nr = 15000")])]),t._v(" to "),s("span",{staticClass:"notranslte"},[s("code",[t._v("/etc/sysctl.conf")])]),t._v(";")])]),t._v(" "),s("li",[s("p",[t._v("apply it with "),s("span",{staticClass:"notranslate"},[s("code",[t._v("sysctl -p")])]),t._v(" command.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"lilo-boot-loader"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lilo-boot-loader","aria-hidden":"true"}},[this._v("#")]),this._v(" LILO boot loader")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("CloudLinux can be deployed on servers that don't have grub installed, by installing "),e("span",{staticClass:"notranslate"},[e("code",[this._v("хороgrub")])]),this._v(" first.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ol",[s("li",[s("p",[t._v("Make sure grub and kernel packages are not excluded. Edit file "),s("span",{staticClass:"notranslate"},[s("code",[t._v("/etc/yum.conf")])]),t._v(" and check "),s("span",{staticClass:"notranslate"},[s("code",[t._v("exclude=")])]),t._v(" line for presence of "),s("span",{staticClass:"notranslate"},[s("code",[t._v("kernel* grub*")])]),t._v(".")])]),t._v(" "),s("li",[s("p",[t._v("Backup lilo config file:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("mv /etc/lilo.conf /etc/lilo.conf.bak\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Check "),e("span",{staticClass:"notranslate"},[e("code",[this._v("grub.conf")])]),this._v(" – it should be configured automatically:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("# cat /boot/grub/grub.conf\ndefault=0\ntimeout=5\ntitle CloudLinux Server (2.6.18-294.8.1.el5.lve0.7.33)\n     kernel /boot/vmlinuz-2.6.18-294.8.1.el5.lve0.7.33 root=/dev/sda1  ro\n     root (hd0,0)\n     initrd /boot/initrd-2.6.18-294.8.1.el5.lve0.7.33.img\n     title linux centos5_64\n     kernel /boot/bzImage-2.6.33.5-xxxx-grs-ipv4-64 root=/dev/sda1  ro\n     root (hd0,0)\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Install grub to master boot record:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/sbin/grub-install /dev/sda\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"6"}},[e("li",[this._v("Reboot and check that you are running CloudLinux. "),e("span",{staticClass:"notranslate"},[e("code",[this._v("uname -r")])]),this._v(" should show something like: "),e("span",{staticClass:"notranslate"},[e("code",[this._v("2.6.18-294.8.1.el5.lve0.7.33")])]),this._v(".")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"uninstalling"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uninstalling","aria-hidden":"true"}},[this._v("#")]),this._v(" Uninstalling")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("LVE related packages will be removed.")]),this._v(" "),e("li",[this._v("CloudLinux repositories & "),e("span",{staticClass:"notranslate"},[this._v("yum")]),this._v(" plugin will be removed.")]),this._v(" "),e("li",[this._v("CentOS repositories will be setup.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("$ wget -O cldeploy https://repo.cloudlinux.com/cloudlinux/sources/cln/cldeploy\n$ sh cldeploy -c\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("rpm -e --nodeps kernel-2.6.32-673.26.1.lve1.4.27.el6.x86_64\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To install new CentOS kernel once you deleted CloudLinux kernel, type "),e("span",{staticClass:"notranslate"},[e("code",[this._v("yum install kernel")])]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If "),e("span",{staticClass:"notranslate"},[e("code",[this._v("yum")])]),this._v(" says that the latest kernel is already installed, it is OK.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("yum remove lve kmod*lve*\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Before the reboot, the following command should be executed for restoring Apache and httpd.conf without "),e("span",{attrs:{clas:"notranslate"}},[this._v("mod_hostinglimits")]),this._v(":")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("For EasyApache 3:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/scripts/easyapache --build\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("For EasyApache 4:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("/usr/local/bin/ea_install_profile --install /etc/cpanel/ea4/profiles/cpanel/default.json\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Note")]),this._v(" "),e("p",[this._v("Some of the packages from CloudLinux repo will still be present. They are the same as CentOS packages, and don't have to be removed. They will be updated in the future from CentOS repositories, as new versions come out.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"migration-to-easyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#migration-to-easyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" Migration to EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"advices-and-limitations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#advices-and-limitations","aria-hidden":"true"}},[this._v("#")]),this._v(" Advices and limitations")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("Use cPanel 11.55.999.66(55.999.66) or higher version.")]),t._v(" "),s("li",[s("span",{staticClass:"notranslate"},[t._v("Hardened EA4")]),t._v(" limitations:\n"),s("ul",[s("li",[s("strong",[t._v("ea-php51")]),t._v(" and "),s("strong",[t._v("ea-php52")]),t._v(" have no PHP-FPM support. Please use "),s("strong",[t._v("mod_lsapi")]),t._v(" instead.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"centos-with-eeasyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-with-eeasyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS with EeasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Restart Apache service.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"centos-without-easyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos-without-easyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS without EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Run:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd ~; wget https://repo.cloudlinux.com/cloudlinux/sources/cloudlinux_ea3_to_ea4; sh cloudlinux_ea3_to_ea4 --convert\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("(Find examples of "),e("span",{staticClass:"notranslate"},[e("code",[this._v("cloudlinux_ea3_to_ea4")])]),this._v(" script usage below).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"cloudlinux-without-easyapache-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudlinux-without-easyapache-4","aria-hidden":"true"}},[this._v("#")]),this._v(" CloudLinux without EasyApache 4")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Install cPanel.")]),this._v(" "),e("li",[this._v("Run:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cd ~; wget https://repo.cloudlinux.com/cloudlinux/sources/cloudlinux_ea3_to_ea4; sh cloudlinux_ea3_to_ea4 --convert\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("(Find examples of "),e("code",[this._v("cloudlinux_ea3_to_ea4")]),this._v(" script usage below).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"more-about-cloudlinux-ea3-to-ea4-script"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more-about-cloudlinux-ea3-to-ea4-script","aria-hidden":"true"}},[this._v("#")]),this._v(" More about cloudlinux_ea3_to_ea4 script")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("About "),e("code",[this._v("cloudlinux_ea3_to_ea4")]),this._v(" migration script parameters:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("cloudlinux_ea3_to_ea4 [ADDITIONS] ACTIONS\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("table",[e("thead",[e("tr",[e("th"),this._v(" "),e("th")])]),this._v(" "),e("tbody",[e("tr",[e("td",[e("span",{staticClass:"notranslate"},[this._v("-h, --help")])]),this._v(" "),e("td",[this._v("Print this message")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Actions")]),this._v(" (required parameter, shows what should script do):")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" -c, --convert ")])]),t._v(" "),s("td",[t._v("Convert EA3 to EA4")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" -r, --revert ")])]),t._v(" "),s("td",[t._v("Revert to EA3")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("Additions")]),this._v(" (optional parameter, adds to action installation of extra components):")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th"),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" -m, --mod_lsapi ")])]),t._v(" "),s("td",[t._v("Install mod_lsapi")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" -p, --mod_passenger ")])]),t._v(" "),s("td",[t._v("Install alt-mod-passenger")])]),t._v(" "),s("tr",[s("td",[s("span",{staticClass:"notranslate"},[t._v(" -a, --altphp ")])]),t._v(" "),s("td",[t._v("Install/Update alt-php")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Examples:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If you want to install EA4 with mod_lsapi and update/install alt-php:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sh cloudlinux_ea3_to_ea4 --convert --mod_lsapi --altphp \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("If you want to install EA4 with mod_lsapi, alt_mod_passenger and update/install alt-php:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sh cloudlinux_ea3_to_ea4 --convert --mod_lsapi --altphp --mod_passenger\n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("To restore EA3 with mod_lsapi:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notranslate"},[e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("sh cloudlinux_ea3_to_ea4 --revert --mod_lsapi\n")])])])])}],!1,null,null,null);e.default=i.exports}}]);